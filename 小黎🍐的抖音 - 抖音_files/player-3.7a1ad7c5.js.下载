/*! For license information please see player-3.7a1ad7c5.js.LICENSE.txt */
!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).xss={})}(this,function(n){"use strict";var i=function(){return(i=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++)for(var s in i=arguments[a])Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s]);return n}).apply(this,arguments)};function a(n,i,a){if(a||2==arguments.length)for(var o,s=0,c=i.length;s<c;s++)!o&&s in i||(o||(o=Array.prototype.slice.call(i,0,s)),o[s]=i[s]);return n.concat(o||Array.prototype.slice.call(i))}var o=/[^a-zA-Z0-9\\_:.-]/gim,s=/</g,c=/>/g,u=/&#([a-zA-Z0-9]*);?/gim,d=/&quot;/g,l=/&colon;?/gim,f=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,p=/u\s*r\s*l\s*\(.*/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,g=/"/g,y=function(n){return n.replace(s,"&lt;").replace(c,"&gt;")},m={indexOf:function(n,i){var a,o;for(a=0,o=n.length;a<o;a++)if(n[a]===i)return a;return -1},forEach:function(n,i,a){var o,s;for(o=0,s=n.length;o<s;o++)i.call(a,n[o],o,n)},some:function(n,i,a){var o,s;for(o=0,s=n.length;o<s;o++)if(i.call(a,n[o],o,n))return!0;return!1},trim:function(n){return n.replace(/(^\s*)|(\s*$)/g,"")},includes:function(n,i){if("string"==typeof n)return -1!==n.indexOf(i);for(var a=0;a<n.length;a++)if(n[a]===i)return!0;return!1},spaceIndex:function(n){var i=/\s|\n|\t/.exec(n);return i?i.index:-1},uniq:function(n){for(var i={},a=[],o=0;o<n.length;o++)i[n[o]]||(a.push(n[o]),i[n[o]]=!0);return a},from:function(n){for(var i=[],a=0;a<n.length;a++)i.push(n[a]);return i},keys:function(n){var i=[];for(var a in n)i.push(a);return i}};function _(n){return null==n}function b(n){var i;return'"'===(i=n)[0]&&'"'===i[i.length-1]||"'"===i[0]&&"'"===i[i.length-1]?n.substr(1,n.length-2):n}function A(n){var i,a,o,s,c,u,d,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="",h=0;for(n=function(n){n=n.replace(/rn/g,"n");for(var i="",a=0;a<n.length;a++){var o=n.charCodeAt(a);o<128?i+=String.fromCharCode(o):o>127&&o<2048?i+=String.fromCharCode(o>>6|192)+String.fromCharCode(63&o|128):i+=String.fromCharCode(o>>12|224)+String.fromCharCode(o>>6&63|128)+String.fromCharCode(63&o|128)}return i}(n);h<n.length;)s=(i=n.charCodeAt(h++))>>2,c=(3&i)<<4|(a=n.charCodeAt(h++))>>4,u=(15&a)<<2|(o=n.charCodeAt(h++))>>6,d=63&o,isNaN(a)?u=d=64:isNaN(o)&&(d=64),f=f+l.charAt(s)+l.charAt(c)+l.charAt(u)+l.charAt(d);return f}function w(n){var i,a,o,s,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",f=0;for(n=n.replace(/[^A-Za-z0-9+/=]/g,"");f<n.length;)i=d.indexOf(n.charAt(f++))<<2|(s=d.indexOf(n.charAt(f++)))>>4,a=(15&s)<<4|(c=d.indexOf(n.charAt(f++)))>>2,o=(3&c)<<6|(u=d.indexOf(n.charAt(f++))),l+=String.fromCharCode(i),64!==c&&(l+=String.fromCharCode(a)),64!==u&&(l+=String.fromCharCode(o));return function(n){for(var i="",a=0,o=0,s=0,c=0;a<n.length;)(o=n.charCodeAt(a))<128?(i+=String.fromCharCode(o),a++):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&(c=n.charCodeAt(a+1))),a+=2):(c=n.charCodeAt(a+1),i+=String.fromCharCode((15&o)<<12|(63&c)<<6|63&(s=n.charCodeAt(a+2))),a+=3);return i}(l)}function k(n,i,a){var o="",s=0,c=!1,u=!1,d=0,l=n.length,f="",h="";e:for(d=0;d<l;d++){var p=n.charAt(d);if(!1===c){if("<"===p){c=d;continue}}else if(!1===u){if("<"===p){o+=a(n.slice(s,d)),c=d,s=d;continue}if(">"===p||d===l-1){o+=a(n.slice(s,c)),f=function(n){var i,a=m.spaceIndex(n);return i=-1===a?n.slice(1,-1):n.slice(1,a+1),"/"===(i=m.trim(i).toLowerCase()).slice(0,1)&&(i=i.slice(1)),"/"===i.slice(-1)&&(i=i.slice(0,-1)),i}(h=n.slice(c,d+1)),o+=i(c,o.length,f,h,"</"===h.slice(0,2)),s=d+1,c=!1;continue}if('"'===p||"'"===p)for(var v=1,g=n.charAt(d-v);""===g.trim()||"="===g;){if("="===g){u=p;continue e}g=n.charAt(d-++v)}}else if(p===u){u=!1;continue}}return s<l&&(o+=a(n.substr(s))),o}function E(n,i){var a=0,s=0,c=[],u=!1,d=n.length;function l(n,a){if(!((n=(n=m.trim(n)).replace(o,"").toLowerCase()).length<1)){var s=i(n,a||"");s&&c.push(s)}}for(var f=0;f<d;f++){var h=n.charAt(f),p=void 0;if(!1!==u||"="!==h){if(!1===u||f!==s){if(/\s|\n|\t/.test(h)){if(n=n.replace(/\s|\n|\t/g," "),!1===u){if(-1===(p=function(n,i){for(;i<n.length;i++){var a=n[i];if(" "!==a)return"="===a?i:-1}return -1}(n,f))){l(m.trim(n.slice(a,f))),u=!1,a=f+1;continue}f=p-1;continue}if(-1===(p=function(n,i){for(;i>0;i--){var a=n[i];if(" "!==a)return"="===a?i:-1}return -1}(n,f-1))){l(u,b(m.trim(n.slice(a,f)))),u=!1,a=f+1;continue}}}else{if(-1===(p=n.indexOf(h,f+1)))break;l(u,m.trim(n.slice(s+1,p))),u=!1,a=(f=p)+1}}else u=n.slice(a,f),a=f+1,s='"'===n.charAt(a)||"'"===n.charAt(a)?a:function(n,i){for(;i<n.length;i++){var a=n[i];if(" "!==a)return"'"===a||'"'===a?i:-1}return -1}(n,f+1)}return a<n.length&&(!1===u?l(n.slice(a)):l(u,b(m.trim(n.slice(a))))),m.trim(c.join(" "))}function x(n,i,a){if(a=function(n){return n=function(n){for(var i="",a=0,o=n.length;a<o;a++)i+=32>n.charCodeAt(a)?" ":n.charAt(a);return m.trim(i)}(n=(n=(n=n.replace(d,'"')).replace(u,function(n,i){return"x"===i[0]||"X"===i[0]?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})).replace(l,":").replace(f," "))}(a),"href"===i||"src"===i){if("#"===(a=m.trim(a)))return"#";if("http://"!==a.substr(0,7)&&"https://"!==a.substr(0,8)&&"mailto:"!==a.substr(0,7)&&"tel:"!==a.substr(0,4)&&"data:image/"!==a.substr(0,11)&&"ftp://"!==a.substr(0,6)&&"./"!==a.substr(0,2)&&"../"!==a.substr(0,3)&&"#"!==a[0]&&"/"!==a[0])return""}else if("background"===i){if(h.lastIndex=0,h.test(a))return""}else if("style"===i&&(v.lastIndex=0,v.test(a)||(p.lastIndex=0,p.test(a)&&(h.lastIndex=0,h.test(a)))))return"";return a=function(n){return n=y(n=n.replace(g,"&quot;"))}(a)}var S=function(n){return"string"==typeof n?n.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},T=function(){function n(n){var i=function(n){var i={};for(var a in n)i[a]=n[a];return i}(n||{});i.stripIgnoreTag&&(i.onIgnoreTag,i.onIgnoreTag=function(){return""}),i.whiteList={},i.onTag=function(){},i.onTagAttr=function(){},i.onIgnoreTag=function(){},i.onIgnoreTagAttr=function(){},i.safeAttrValue=x,i.escapeHtml=y,this.options=Object.assign(i,n)}return n.prototype.process=function(n){if(!(n=(n=n||"").toString()))return"";var i,a,o,s,c,u,d=this.options,l=d.whiteList,f=d.onTag,h=d.onIgnoreTag,p=d.onTagAttr,v=d.onIgnoreTagAttr,g=d.safeAttrValue,y=d.escapeHtml;d.stripBlankChar&&(n=(i=(i=n.split("")).filter(function(n){var i=n.charCodeAt(0);return!(127===i||i<=31&&10!==i&&13!==i)})).join("")),d.allowCommentTag||(n=function(n){for(var i="",a=0;a<n.length;){var o=n.indexOf("\x3c!--",a);if(-1===o){i+=n.slice(a);break}i+=n.slice(a,o);var s=n.indexOf("--\x3e",o);if(-1===s)break;a=s+3}return i}(n));var _=!1;d.stripIgnoreTagBody&&(a=d.stripIgnoreTagBody,"function"!=typeof(o=h)&&(o=function(){}),s=!Array.isArray(a),c=[],u=!1,h=(_={onIgnoreTag:function(n,i,d){var l;if(l=n,s||-1!==m.indexOf(a,l)){if(d.isClosing){var f="[/removed]",h=d.position+f.length;return c.push([!1!==u?u:d.position,h]),u=!1,f}return u||(u=d.position),"[removed]"}return o(n,i,d)},remove:function(n){var i="",a=0;return m.forEach(c,function(o){i+=n.slice(a,o[0]),a=o[1]}),i+=n.slice(a)}}).onIgnoreTag);var b=k(n,function(n,i,a,o,s){var c={sourcePosition:n,position:i,isClosing:s,isWhite:Object.prototype.hasOwnProperty.call(l,a)},u=f(a,o,c);if(null!=u)return u;if(c.isWhite){if(c.isClosing)return"</".concat(a,">");var d=function(n){var i=m.spaceIndex(n);if(-1===i)return{html:"",closing:"/"===n[n.length-2]};var a="/"===(n=m.trim(n.slice(i+1,-1)))[n.length-1];return a&&(n=m.trim(n.slice(0,-1))),{html:n,closing:a}}(o),_=l[a],b=E(d.html,function(n,i){var o=-1!==m.indexOf(_,n),s=p(a,n,i,o);return null==s?o?(i=g(a,n,i,null))?"".concat(n,'="').concat(i,'"'):n:null==(s=v(a,n,i,o))?void 0:s:s});return o="<".concat(a),b&&(o+=" ".concat(b)),d.closing&&(o+=" /"),o+=">"}return null==(u=h(a,o,c))?y(o):u},y);return _&&(b=_.remove(b)),b},n}(),I=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")(),R=new(function(){function n(){var n=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.getSlardarBid=function(){var i,a,o="douyin_web";if(!m.includes(o,"bid"))return o;if(n.config&&n.config.bid)return n.config.bid;if(I&&I._xssBid)return I._xssBid;if(I&&I.slardar&&"function"==typeof I.slardar.config){var s=(I.slardar.config()||{}).bid;if(s)return s}if(I&&I.Slardar&&"function"==typeof I.Slardar.config){var c=(I.Slardar.config()||{}).bid;if(c)return c}return(null===(a=null===(i=null==I?void 0:I.Slardar)||void 0===i?void 0:i._baseParams)||void 0===a?void 0:a.bid)||"argus"},this.getConfigRegion=function(){var i;return m.includes("cn","region")?n.config&&n.config.region?n.config.region:((null===(i=null==I?void 0:I.gfdatav1)||void 0===i?void 0:i.region)||"cn").toLowerCase():"cn"},this.gerReportUrl=function(){var i={cn:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:w("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:w("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:w("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[n.getConfigRegion()];if(i)return i+n.getSlardarBid()}}return n.prototype.setConfig=function(n){this.config=n},n.prototype.upload=function(){var n=this,i=this.gerReportUrl();!this.lock&&i&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var a=n.batchData.slice(0,100);n.batchData=n.batchData.slice(100),I.fetch(i,{method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).catch(function(n){}),n.lock=!1,n.upload()},this.timeout))},n.prototype.generateKey=function(n){return n.collectKey?[n.collectMode,n.collectKey].join("___"):""},n.prototype.push=function(n){this.batchData.push(n),this.upload()},n.prototype.report=function(n){var i=this.generateKey(n);if(I.fetch&&n.collectKey){var a="object"==typeof window?window.location.href:"SSR";n.documentUrl=a;var o={age:Math.floor(Date.now()),type:"xss",url:a,body:n,"user-agent":""};"enforce"===n.disposition&&"SSR"!==a||(o.url=i),"SSR"===a&&(o.url="SSR___".concat(o.url),o.body.ssr=!0),this.push(o)}},n}()),C=function(n){for(var i=0,a=function(a){Array.isArray(n[a])?0===n[a].length?delete n[a]:(n[a]=m.from(m.uniq(n[a])),i+=n[a].length):0===m.keys(n[a]).length?delete n[a]:m.keys(n[a]).forEach(function(o){n[a][o]=m.from(m.uniq(n[a][o])),i+=n[a][o].length})},o=0,s=m.keys(n);o<s.length;o++)a(s[o]);return{count:i,ret:n}};function D(n,i){return R.setConfig(i),new T(i).process(n)}function O(n){var i,a=(i=/\s|\n|\t/.exec(n))?i.index:-1;if(-1===a)return{html:"",closing:"/"===n[n.length-2]};var o="/"===(n=n.slice(a+1,-1).trim())[n.length-1];return o&&(n=n.slice(0,-1).trim()),{html:n,closing:o}}var B=function(n){return -1===(n=(n=(n=(n=n.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?n.trim().toLowerCase():n.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(n,i,a,o){return String.fromCharCode(i?parseInt(a,16):parseInt(o))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function P(n,i){if(void 0===n&&(n=""),"string"!=typeof n)return!0;if(n=B(n),m.includes(n,"base64")&&!function(n){if(""===n||""===n.trim())return!0;try{return!m.includes(n,"data:text/html;base64")}catch(n){return!0}}(n))return i&&i("data:text/html;base64"),!1;var a=["expression(","behavior:","view-source:"];if(m.some(a,function(i){return -1!==n.indexOf(i)}))return m.forEach(a,function(a){-1!==n.indexOf(a)&&i&&i(a)}),!1;var o=["data:application","data:javascript","data:text/html","data:texthtml"];if(m.some(o,function(i){return -1!==n.indexOf(i)}))return m.forEach(o,function(a){-1!==n.indexOf(a)&&i&&i(a)}),!1;if(n.indexOf("javascript:")>0)return i&&i("javascript:"),!1;if(/^javascript:/i.test(n)){var s=n.slice(11).replace(/\s/g,"").trim();return!!m.some(["void","void(0)","void0","false","undefined",";"],function(n){return n===s})||(i&&i("javascript:"),!1)}return!0}var L=function(n,i){var a,o,s="<%= isSaveValidUrl =>";if("string"!=typeof n||(o=Number("<%= urlLimit =>"),void 0!==a&&(o=a),"NaN"!==n.toString()&&-1!==o&&n.length>=o)||P(n,i))return n;try{if(!0===(s=JSON.parse(s))||"true"===s){var c=new URL(n);return c.origin+c.pathname}}catch(n){}return"#"};function M(n,i,o){if(void 0===n&&(n=""),void 0===i&&(i=[]),"string"!=typeof n)return!0;if(!P(n=B(n)))return!1;var s,c={url:(s=n.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:s[1],slash:s[2],host:s[3],port:s[4],path:s[5],query:s[6],hash:s[7]},u=c.scheme,d=c.host;return o?!!o(n):!(!u||!d)&&(!m.includes(["http","https","file"],u)||("object"==typeof window&&window&&(i=a(a([],i,!0),[location.host],!1)),m.some(i,function(n){return!!(n instanceof RegExp&&n.test(d))||n===d})))}var N={a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:["start"],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],mask:["maskunits","x","y","width","height","fill"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin","fill-opacity","mask"],rect:["x","y","width","height","fill","stroke","rx"],g:[]},U={collect:null,initCollect:function(){this.collect={whiteList:{},filterProtocol:[]}},removeCollect:function(){var n=C(this.collect),i=n.count,a=n.ret;return this.collect=null,{collectKey:0===i?null:JSON.stringify(a),collectMode:"white"}},onIgnoreTagAttr:function(n,i,o){return n&&m.indexOf(["href","src"],i)>-1?U.domainWhiteList&&Array.isArray(U.domainWhiteList)&&U.domainWhiteList.length>0&&!M(o,a([],U.domainWhiteList,!0))?"":"".concat(i,'="').concat(L(o,function(n){var i;null===(i=U.collect)||void 0===i||i.filterProtocol.push(n)}),'"'):n&&(m.indexOf(["style","class","id"],i)>-1||i.indexOf("data-")>-1)?"".concat(i,'="').concat(o,'"'):(U.collect.whiteList[n]=U.collect.whiteList[n]||[],void U.collect.whiteList[n].push(i))},onIgnoreTag:function(n,i){if("style"===n)return i;k(i,function(n,i,a,o){E(O(o).html.replace("/",""),function(n){U.collect.whiteList[a]=U.collect.whiteList[a]||[],U.collect.whiteList[a].push(n)})},y)},whiteList:N,mergeWhiteList:function(n){for(var i,a={},o=0,s=m.keys(N);o<s.length;o++)a[i=s[o]]=m.from(N[i]);for(var c=0,u=m.keys(n);c<u.length;c++)a[i=u[c]]=i in N?N[i].concat(n[i]):m.from(n[i]);return a},setWhiteList:function(n){for(var i=0,a=m.keys(n);i<a.length;i++){var o=a[i];this.whiteList[o]=o in N?N[o].concat(n[o]):m.from(n[o])}}};try{var F={},j="merge";m.includes(j,"override")&&(U.whiteList=F.whiteList),m.includes(j,"merge")&&U.setWhiteList(F.whiteList)}catch(n){}var V=function(n,i){for(var a={},o=0,s=m.keys(n);o<s.length;o++){var c=s[o];Array.isArray(n[c])?a[c]=m.from(n[c]):a[c]=V({},n[c])}for(var u=0,d=m.keys(i);u<d.length;u++)(c=d[u])in n?Array.isArray(n[c])?a[c]=n[c].concat(i[c]):a[c]=V(n[c],i[c]):Array.isArray(i[c])?a[c]=m.from(i[c]):a[c]=V({},i[c]);return a},Z={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"]};try{var H={};H.blackAttrRegExps&&(H.blackAttrRegExps=H.blackAttrRegExps.map(function(n){return new RegExp(n.toString().slice(1,n.toString().length-1))}));var G="merge";m.includes(G,"override")&&(Z=H),m.includes(G,"merge")&&(Z=V(Z,H))}catch(n){}var W={mode:"black",whiteList:{},blackConfig:Z,collect:null,initCollect:function(){W.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var n=C(W.collect),i=n.count,a=n.ret;return W.collect=null,{collectKey:0===i?null:JSON.stringify(a),collectMode:"black"}},onIgnoreTag:function(n,i){var a;if(!m.includes(Z.blackTags,n))return k(i,function(n,i,a,o,s){if(-1!==a.indexOf("/"))return y(o);if(s)return"</".concat(a,">");var c=O(o),u=E(c.html,function(n,i){var o,s=0;if(Z.blackList[a]&&m.includes(Z.blackList[a],n)&&(W.collect.blackList[a]=W.collect.blackList[a]||[],W.collect.blackList[a].push(n),s++),Z.blackAttrRegExps.length&&Z.blackAttrRegExps.some(function(i){return i.test(n)})&&m.forEach(Z.blackAttrRegExps,function(i){i.test(n)&&(W.collect.blackAttrRegExps.push("".concat(i.toString(),"->").concat(n)),s++)}),Z.blackAttrs.length&&m.includes(Z.blackAttrs,n)&&(Z.blackAttrs.push(n),s++),!s){if(Z.filterList&&Z.filterList[a]&&m.includes(Z.filterList[a],n)){var c=L(i,function(n){var i;null===(i=W.collect)||void 0===i||i.filterProtocol.push(n)});return c!==i&&(W.collect.filterList[a]=W.collect.filterList[a]||[],W.collect.filterList[a].push(n)),i?"".concat(n,"='").concat(c,"'"):n}return Z.filterAttrs&&m.includes(Z.filterAttrs,n)?((c=L(i,function(n){var i;null===(i=W.collect)||void 0===i||i.filterProtocol.push(n)}))!==i&&(null===(o=W.collect)||void 0===o||o.filterAttrs.push(n)),i?"".concat(n,"='").concat(c,"'"):n):i?"".concat(n,"='").concat(i,"'"):n}});return o="<".concat(a),u&&(o+=" ".concat(u)),c.closing&&(o+=" /"),o+=">"},y);null===(a=W.collect)||void 0===a||a.blackTags.push(n)}},z=function(n){var i=n.reportOnly,a=void 0===i||i,o=n.block;return a&&"all"===a?"report":("string"==typeof a&&("true"===a&&(a=!0),"false"===a&&(a=!1)),o?"enforce":a?"report":"enforce")},Y=function(n){return function(a,o,s){if(!a||"string"!=typeof a)return a;var c=o;n===D&&(c=U).initCollect();var u=n(a,c);if(S(u)===S(a))return a;if(!s)return u;var d=s.logType,l=z(s),f=c.removeCollect();return R.report(i(i({type:d,disposition:l},f),{sourceText:A(a),filterText:A(u)})),"enforce"===l?u:a}},K=Y(function(n,i){return void 0===i&&(i={}),i&&i.whiteList||(i.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new T(i).process(n)}),X=Y(D),J=function(n,i,a){var o=[],s=L(n,function(n){o.push(n)});if(s===n)return n;o=m.from(m.uniq(o));var c=i||a||{};if(!c)return s;var u=c.logType,d=z(a);return R.report({type:u,disposition:d,collectKey:o.join("___"),collectData:JSON.stringify(o),collectMode:"black",sourceText:A(n),filterText:A(s)}),"enforce"===d?s:n},q=I._xssProject||{},Q=I.xssNamespace||{},$="3.0.26",ee={FilterXSS:T,version:$,webpackPluginVersion:"<%= webpackPluginVersion =>",reportOnly:"<%= reportOnly =>",filterXSS:K,_filterXSS:X,filterUrl:J,Config:U,BlackConfig:W,project:q,setProjectName:function(n){q[n]=this,I._xssProjectName=n}};Q.douyin_web=ee,I.xssNamespace=Q,I.Math&&!I.Math.xssNamespace&&(I.Math.xssNamespace=Q),q[$]=ee,I.globalThis=I,I.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:ee},I.xss=ee,I.isSafeUrl=M,I.isSafeDomain=M,I.isSafeProtocol=P,I._xssProject=q,I._xssProjectName&&(q[I._xssProjectName]=ee);var et=ee.setProjectName.bind(ee);n.BlackConfig=W,n.Config=U,n.FilterXSS=T,n._filterXSS=X,n.filterUrl=J,n.filterXSS=K,n.isSafeDomain=M,n.isSafeProtocol=P,n.isSafeUrl=M,n.project=q,n.setProjectName=et,n.setXssNamespace=function(n){var i=n.appId,a=n.bid,o=n.region;Q[i]=ee;U.bid=a,U.region=o,U.enabled=!0},n.xssNamespace=Q,Object.defineProperty(n,"__esModule",{value:!0})}),(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["5734"],{346754:function(n,i,a){"use strict";function o(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function s(n){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(i){f(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function c(n){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function d(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,p(o.key),o)}}function l(n,i,a){return i&&d(n.prototype,i),a&&d(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function f(n,i,a){return(i=p(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}a.d(i,{Ac:function(){return c},Kd:function(){return h},PA:function(){return u},Zj:function(){return s},_x:function(){return f},qH:function(){return l}});function h(n,i){if(null==n)return{};var a,o,s=function(n,i){if(null==n)return{};var a,o,s={},c=Object.keys(n);for(o=0;o<c.length;o++)a=c[o],!(i.indexOf(a)>=0)&&(s[a]=n[a]);return s}(n,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++){if(a=c[o],!(i.indexOf(a)>=0))Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}}return s}function p(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},3095:function(n,i,a){"use strict";a.d(i,{Z:function(){return u}});var o=a(346754);a(514312),a(864614),a(210434);var s=a(824813),c="ProgressInfo",u=function(){function n(){(0,o.PA)(this,n),this._init()}return(0,o.qH)(n,[{key:"_init",value:function(){this.played=[],this.playedSize=0,this.cachedSize=0,this.pcdnCached=0,this.cachedVideoSize=0,this.pcdnVideoCached=0,this.file={audio:0,video:0},this.lastBitrate=null,this.curBitrate={vBitrate:0,aBitrate:0,cdnSize:0,pcdnSize:0,definition:"",fileid:""},this.nextBitrate={start:-1},this.currentTime=0,this.buffered=[],this.cachedTime=0,this.duration=0}},{key:"reset",value:function(){this._init()}},{key:"getFileSize",value:function(n){var i=this.curBitrate,a=i.vBitrate,o=i.aBitrate;return{audio:Math.round(n*o/8),video:Math.round(n*a/8),total:Math.round(n*(a+o)/8)}}},{key:"updatePlayed",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.played,o=a.length;if(0===i||o<1){var s=o>0?a[o-1]:null,c=this.curBitrate,u=c.vBitrate,d=c.aBitrate;s&&(s.end<0||s.end-s.start<1)?(s.end<0?s.start=n:s.end=n,s.vBitrate=u,s.aBitrate=d):a.push({start:n,end:-1,vBitrate:u,aBitrate:d})}else a[o-1].end=n}},{key:"calculatePlaySize",value:function(){var n=this.played,i=this.curBitrate,a=function(n){for(var i=0,a=0;a<n.length;a++){var o=n[a];if(!(o.end<0))i+=o.end-o.start}return i}(n),o=Math.round((i.aBitrate+i.vBitrate)*a/8);return this.playedSize+=o,(0,s.cM)(c,"calculatePlaySize","duration: ".concat(a," playedSize:").concat(this.playedSize),this.played),this.played=[],this.playedSize}},{key:"copyBitrateInfo",value:function(n,i){return["aBitrate","vBitrate","definition","fileid","cdnSize","pcdnSize"].forEach(function(a){n[a]&&(i[a]=n[a])}),i.cdnSize=n.cdnSize,i.pcdnSize=n.pcdnSize,i}},{key:"checkNextBitrate",value:function(n){var i=this.nextBitrate;if(i.start>-1&&n>=i.start){var a=this.curBitrate;this.calculatePlaySize(),(0,s.cM)(c,"checkNextBitrate",n,i.start,this.cachedSize),this.copyBitrateInfo(i,a),this.updatePlayed(n,0),i.start=-1,i.fileid="",["vBitrate","aBitrate","cdnSize","pcdnSize"].forEach(function(n){i[n]=0})}}},{key:"updateLastDefInfo",value:function(){var n=this.curBitrate;if(n.vBitrate>0){var i={};this.copyBitrateInfo(n,i),this.lastBitrate=i}}},{key:"updateDefInfo",value:function(n,i){(0,s.cM)(c,"updateDefInfo",i,this.curBitrate.vBitrate,n);var a=n.mediaType,o=n.start,u=n.bitrate,d=n.definition,l=n.fileid,f={cdnSize:0,pcdnSize:0};"audio"===a?f.aBitrate=u:(f.vBitrate=u,f.definition=d,f.fileid=l,this.updateLastDefInfo()),f.start=o,this.nextBitrate=f,this.checkNextBitrate(i)}},{key:"upDateDownload",value:function(n){var i=n.cdn_size,a=n.pcdn_size,o=n.mediaType,s=this.curBitrate,c=this.nextBitrate,u=0,d=0;a?(u=1,d=a):i&&(d=i),this.cachedSize+=d,"video"===o&&(this.cachedVideoSize+=d,u>0&&(this.pcdnVideoCached+=d)),u>0&&(this.pcdnCached+=d);var l=c.start>=0?c:s;l.cdnSize+=d,u>0&&(l.pcdnSize+=d)}},{key:"updateBuffered",value:function(n){var i=function(n){var i=[];if(!n||n.length<1)return i;for(var a=0;a<n.length;a++){var o=parseInt(1e3*n.start(a),10)/1e3,s=parseInt(1e3*n.end(a),10)/1e3;i.push({start:o,end:s})}return i}(n),a=0;i.forEach(function(n){var i;a+=(i=n.end,parseInt(1e3*i-1e3*n.start,10)/1e3)}),this.buffered=i,this.cachedTime=a}},{key:"isDefInfoFirstChange",value:function(){return!(this.curBitrate&&this.curBitrate.vBitrate>0)}}]),n}()},273626:function(n,i,a){"use strict";a.d(i,{Z:function(){return u}});var o=a(346754);a(904644),a(947478);var s=a(824813),c={range:"0-1048576",timer:6e4,timeout:15e3},u=function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.PA)(this,n),Object.keys(c).map(function(n){(void 0===i[n]||null===i[n])&&(i[n]=c[n])}),this.options=i,this._headers={},this.intervalId=null,this.ishangUp=!1,this._data={contentLength:0,statusText:"",status:-1,speed:0,costTime:0,connectTime:0,contentType:""},this.url=[]}return(0,o.qH)(n,[{key:"setData",value:function(n){var i=this;if(Object.keys(n).map(function(a){"headers"!==a&&(i._data[a]=n[a])}),n.headers&&Object.keys(n.headers).length>0){this._headers=(0,s.xV)(n.headers),n.headers["content-type"]&&(this._data.contentType=n.headers["content-type"]);var a=(n.headers["content-range"]||"").split("/");a&&a.length>1&&(this._data.contentLength=parseInt(a[1]))}}},{key:"contentLength",get:function(){return this._data.length||0}},{key:"trigger",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",o=this.options;this.url=n,!this.url||"start"!==a&&(this.ishangUp||this.intervalId)?(0,s.cM)("task>>cant`t trigger url",this.ishangUp,this.intervalId):((0,s.cM)("task>>trigger url ",n),this.ishangUp=!0,this.intervalId&&this.clear(),this.intervalId=setTimeout(function(){i.clear()},"start"===a?500:o.timer),(0,s.vR)(this.url,{range:"start"===a?"0-1024":o.range,timeout:o.timeout}).then(function(n){(0,s.cM)("getXhr>>check result ",n),i.setData(n||{}),i.ishangUp=!1}).catch(function(n){(0,s.cM)("getXhr>>error ",n),i.ishangUp=!1,i._data.status=-1}))}},{key:"url",get:function(){return this.options.url},set:function(n){n&&(this.options.url=n)}},{key:"serverIp",get:function(){return this._headers.x_response_sinfo||""}},{key:"headers",get:function(){return this._headers||{}}},{key:"status",get:function(){return this._data.status||-1}},{key:"speed",get:function(){return this._data.speed}},{key:"clear",value:function(){clearTimeout(this.intervalId),this.intervalId=null}}]),n}()},824813:function(n,i,a){"use strict";a.d(i,{L8:function(){return v},LM:function(){return m},LQ:function(){return S},P9:function(){return l},RB:function(){return C},_P:function(){return u},ab:function(){return R},cM:function(){return h},fC:function(){return x},je:function(){return p},kM:function(){return w},ky:function(){return _},lv:function(){return g},pv:function(){return E},qP:function(){return I},rg:function(){return f},uV:function(){return c},vR:function(){return y},xV:function(){return A},xv:function(){return d},yc:function(){return k}});var o=a(346754);a(919402),a(410121),a(227470),a(459167),a(864614),a(238658),a(586529),a(138304),a(210434),a(614521),a(514312),a(904644),a(947478),a(632852),a(561999),a(999921),a(415691);var s="undefined"!=typeof window&&window.location.href.indexOf("loggerdebug")>-1;function c(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,a=0;a<n.length;a++){var o=n[a].end,s=n[a].begin;if(!(Number.isNaN(Number(o))||Number.isNaN(Number(s)))&&!(s<0)&&!(o<0)&&!(o<s))i+=n[a].end-n[a].begin}return i=parseInt(1e3*i,10)}function u(n){if(null==n||""===n||"string"!=typeof n)return"";var i=n.split("/"),a="";return i.length>3&&i[2]&&(a=i[2]),a}function d(n){var i=new Date().getTime();try{n=parseInt(n)}catch(i){n=0}return i+=n,window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var a=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===n?a:3&a|8).toString(16)})}function l(n){return function(i){return Object.prototype.toString.call(i)==="[object ".concat(n,"]")}}function f(n){var i={};if(n instanceof window.XMLHttpRequest)try{n.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(n){var a=n.split(": "),o=a.shift(),s=a.join(": ");i[o]=s})}catch(n){}return i}function h(n){for(var i,a=arguments.length,o=Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];s&&(i=console).log.apply(i,["[logger]",n].concat(o))}function p(){try{return Math.round(window.performance.now())}catch(n){return new Date().getTime()}}function v(){return new Date().getTime()}function g(n,i){var a={ext:n.ext||{},data:{}};return Object.keys(n).map(function(o){i[o]?a.data[i[o]]=n[o]:"ext"!==o&&(a.ext[o]=n[o])}),a}function y(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,o){try{!n&&o(Error("url is undefined"));var s=p(),c=s,u={},d=new window.XMLHttpRequest;d.open("get",n),d.onreadystatechange=function(){2===d.readyState&&(u.headers=f(d),u.connectTime=p()-c,u.status=d.status,u.statusText=d.statusText,s=p())},d.onload=function(){a(u)},d.onprogress=function(n){var i=p()-s,a=0;a=parseInt(n.loaded/1e3/(i/1e3),10),u.speed=0|a,u.costTime=i},d.onerror=function(){!u.status&&(u.status=-1,u.costTime=p()-s),o(u)},d.ontimeout=function(){!u.status&&(u.status=-2,u.costTime=p()-s),a(u)},d.onabort=function(){a(u)},d.responseType="arraybuffer",d.timeout=i.timeout||1e4,d.setRequestHeader("Range","bytes=".concat(i.range||"0-1048576")),d.send()}catch(n){o(n)}})}function m(n){return!!(!n||window.location.href.indexOf(n)>-1)||!1}function _(n){return!!n&&/^blob:/.test(n)}var b={x_response_sinfo:"x-response-sinfo",x_response_cache:"x-response-cache",x_response_cinfo:"x-response-cinfo"};function A(n){if(!n)return{};var i={};return Object.keys(b).map(function(a){if(n[a]||"string"!=typeof b[a]){if(!n[a]&&b[a]instanceof Array){var o=b[a].filter(function(i){return void 0!==n[i]});o.length>0?i[a]=n[o[0]]:i[a]=""}}else i[a]=n[b[a]]||""}),i}function w(n){return Object.prototype.toString.call(n).match(/([^\s.*]+)(?=]$)/g)[0]}function k(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(i).map(function(o){if("append"===a){var s,c;n[o]=(s=n[o],c=i[o],s?"string"==typeof c||"number"==typeof c?"".concat(s," ").concat(c):c:c)}else n[o]=i[o]}),n}function E(n,i){if(!n||!i)return!1;try{return Array.prototype.some.call(n.classList,function(n){return n===i})}catch(s){var a=n.className&&"object"===(0,o.Ac)(n.className)?n.getAttribute("class"):n.className;return a&&!!a.match(new RegExp("(\\s|^)".concat(i,"(\\s|$)")))}}function x(n){if("String"===w(n))return n.replace("P","p");if(!n)return"";if("Number"===w(n))return"".concat(n)}function S(n){try{return JSON.stringify(n)}catch(n){return""}}var T={UN_KNOW:0,EXPIRED:1,NO_EXPIRED:2};function I(n){if(!n||"String"!==w(n))return 0;var i=0;try{var a=RegExp("(\\?|&)x-tos-expires=([^&]*)(&|$)"),o=n.match(a);if(null!==o)i=parseInt(o[2],10);else{var s=n.split("/");s.length>5&&8===s[4].length&&(i=parseInt(s[4],16))}if(i>0){var c=parseInt(new Date().getTime()/1e3,10);return i<c?T.EXPIRED:T.NO_EXPIRED}return T.UN_KNOW}catch(n){return T.UN_KNOW}}function R(){return"undefined"==typeof document?0:"visible"===document.visibilityState?1:0}function C(n,i){return Math.round(i/n*1e5)}},410550:function(n,i,a){"use strict";a.d(i,{Z:function(){return l}});var o,s=a(167846);a(514312),a(864614),a(210434);var c=a(233343),u=a(244694),d={FIXED:"FIXED",AUTO:"AUTO"};var l=(0,s.qH)(function n(i,a){var o=this;(0,s.PA)(this,n),this.bitrateMap={},this.defIdMap={},this._startPlay=!1,this.canplayHandler=function(){o._startPlay=!0},this.onAbrChange=function(n,i,a,s){var c=o.pluginInst.player,u=o.bitrateMap[n],d=o.bitrateMap[i],l=u?u.definition:"",f=null!=d&&d.definition?d.definition:l;if(l!==f&&!!o._startPlay)o._abrSwitchHandler(d),c.emit("ABR_CHANGE",{prev:l,cur:f,prevName:null==u?void 0:u.definitionName,curName:null==d?void 0:d.definitionName,abrInfo:s})},this.onAutoDescChange=function(n){var i=n.definition,a=n.reset,s=n.fps,c=n.item;o.updateAutoDefiDesc(i,a,s,c)};var c=i.player;this.pluginInst=i;var u=this.pluginInst.config.autoBitrateOpts||{};this.isPlayAutoDefi=!!u.isPlayAutoDefi,this.isOpenAutoDefi=!!u.isOpenAutoDefi,this.isCurrentAutoDefi=this.isOpenAutoDefi&&this.isPlayAutoDefi,this._abrSwitchHandler=a,c.once("playing",this.canplayHandler)},[{key:"init",value:(o=(0,s.x)((0,s.l5)().mark(function n(i){var a,o,l,f;return(0,s.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isOpenAutoDefi){n.next=2;break}return n.abrupt("return",{type:d.FIXED});case 2:return o=(a=this.pluginInst).player,l=a.playerConfig,f=a.config,o.on(c._c.UPDATE_AUTO_DESC,this.onAutoDescChange),this.bitrateMap={},this.defIdMap={},this.abrInstance=new c.ZP(o,f,0,{dynamic_video_list:l.definition.list.concat()},5e3,{logger:u.cM,openLog:u.i5}),n.next=9,this.abrInstance.init(i);case 9:o.on(c._c.ABR_CHANGE,this.onAbrChange),this.abrInstance&&(this.abrInstance.isCurrentInAbr=this.isCurrentAutoDefi);case 11:case"end":return n.stop()}},n,this)})),function(n){return o.apply(this,arguments)})},{key:"execute",value:function(){var n,i=null===(n=this.abrInstance)||void 0===n?void 0:n.execute();return{bitrate:i,type:-1===i?d.FIXED:d.AUTO}}},{key:"updateBitrate",value:function(n){var i;null===(i=this.abrInstance)||void 0===i||i.updateBitrate(n)}},{key:"enable",value:function(){this.isCurrentAutoDefi=!0,this.abrInstance&&(this.abrInstance.start(),this.abrInstance.isCurrentInAbr=!0,this.abrInstance.execTimeUpdate(!0))}},{key:"disable",value:function(){if(!!this.abrInstance)this.updateAutoDefiDesc("",!0),this.isCurrentAutoDefi=!1,this.abrInstance.isCurrentInAbr=!1,this.abrInstance.stop(!0)}},{key:"isCurrentInAbr",value:function(){return!!this.abrInstance&&this.abrInstance.isCurrentInAbr}},{key:"updateAutoDefiDesc",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=this.pluginInst,c=s.player,u=(s.config.autoBitrateOpts||{}).autoDefiText||"auto";c.emit("ABR_AUTO_DESC_CHANGE",u,i?void 0:n,a,o),!i&&(c._currentDefinitionFromPlayer={definition:"自动 ".concat(n),item:o})}},{key:"updateAbrCacheData",value:function(){var n=this,i=this.pluginInst,a=i.player,o=i.config,s=i.playerConfig,c=o.autoBitrateOpts||{},u=s.definition.list,d=!1;if(u.forEach(function(i){n.bitrateMap[i.bitrate]={url:i.url,definition:i.definition,definitionName:i.text},n.defIdMap[i.definition]={bitrate:i.bitrate,definition:i.definition},("auto"===i.definition||"自动"===i.definition)&&(d=!0)}),this.isOpenAutoDefi&&!d){var l=c.autoDefiText||"auto",f={definition:"自动",bitrate:a.curDefinition.bitrate,text:l,url:"__auto__",selected:this.isPlayAutoDefi,name:"自动",vwidth:a.curDefinition.vwidth,vheight:a.curDefinition.vheight};s.definition.list.push(f)}}},{key:"destroy",value:function(){var n=this.pluginInst.player;if(!!n)n.off(c._c.ABR_CHANGE,this.onAbrChange),n.off("playing",this.canplayHandler),this.abrInstance&&(n.off(c._c.UPDATE_AUTO_DESC,this.onAutoDescChange),this.abrInstance.destroy(),this.abrInstance=void 0)}}])},906399:function(n,i,a){"use strict";a.d(i,{Ef:function(){return p},Im:function(){return y},TJ:function(){return g},XZ:function(){return h},Z1:function(){return k},_X:function(){return _},a1:function(){return l},eT:function(){return u},fD:function(){return s},fp:function(){return A},he:function(){return b},kW:function(){return c},of:function(){return d},sW:function(){return m},tE:function(){return f},zK:function(){return v},zb:function(){return w}}),a(410121);var o,s={MEDIA_EXPIRED:"MEDIA_EXPIRED",INIT_FAIL:"INIT_FAIL",PARSE_ERROR:"PARSE_ERROR",PLAYER_LOG:"PLAYER_LOG",BUFFERED_RESET:"BUFFERED_RESET",MEDIA_LIST:"MEDIA_LIST"},c="real_time_speed",u="is unsupported",d="buffer_control",l={WAITING:"waiting",PLAYING:"playing"},f={app_id:6383,sid:5,task_type:1},h=10,p=2,v=10;var g=((o=g||{}).GOP="gop",o.SIZE="size",o.UNMUX="un_mux",o),y={BUFFER_CONTROLS:"buffer_control"},m="timer_update",_=.2,b=5,A={PRELOAD_ERROR:"PRELOAD_ERROR",PRELOAD_CHECK:"PRELOAD_CHECK",PRELOAD_OK:"PRELOAD_OK",PRELOAD_MATCH:"PRELOAD_MATCH",USER_DEFI_CHECK:"USER_DEFI_CHECK"},w=[{range:[0,1800],time:5e3},{range:[1800,3600],time:1e4},{range:[3600,7200],time:15e3},{range:[7200,18e3],time:2e4},{range:[18e3,Number.MAX_VALUE],time:3e4}],k="progress dataLen not match"},169198:function(n,i,a){"use strict";a.d(i,{Z:function(){return l}});var o=a(167846);a(514312),a(831528),a(477416),a(904644),a(585322),a(410121),a(864614);var s=a(101132),c=a(906399),u=a(24166),d=a(480514),l=function(n){function i(n,a,s,u,d){var l;return(0,o.PA)(this,i),(l=(0,o.$w)(this,i,[n,a,s,u,d])).logTag="".concat(d,"_").concat(c.TJ.SIZE)||"",l.fillGopDataInfo=null,l}return(0,o.XW)(i,n),(0,o.qH)(i,[{key:"updateAdaptTimeRange",value:function(n,i){this.lastTargetDur=i,!this.adaptTimeRange&&(this.adaptTimeRange=[]);var a=this.adaptTimeRange,o=this.timeRange;if(null!==n&&n>=0){var c=this.getAdaptIdxBySrcIdx(n,!0);if(null!==c&&c>=0)return this.log(s._.LOG," adaptTimeRange find range of timeRange,timeRangeIdx,",n,JSON.stringify(o[n])," ,addaptIdx,",c,JSON.stringify(a[c])),c}this.fillAdadptTimeRange(n,i);var u=this.createAdaptTimeRange(i);return u&&(a.push(u),this.log(s._.LOG,"update adaptTimeRange,startIdx",this.adaptTimeRange.length-1,JSON.stringify(u))),this.adaptTimeRange.length-1}},{key:"fillAdadptTimeRange",value:function(n,i){var a=this.adaptTimeRange,o=this.timeRange;if(null!==n&&n>=0){!(null!==(l=o[n])&&void 0!==l&&l.range)&&(o[n].range=this.calculateRange(n),this.log(s._.LOG,"adaptTimeRange update timeRange.range ,fragmentIdx",n,JSON.stringify(o[n])));for(var c=null===(f=a[a.length-1])||void 0===f?void 0:f.range,u=(null==c?void 0:c[1])||0;u<(null===(h=o[n])||void 0===h?void 0:h.range[0]);){var d=this.createAdaptTimeRange(i);if(d){if((null==d?void 0:d.range[1])>=(null===(p=o[n])||void 0===p?void 0:p.range[0])){this.log(s._.LOG,"gap adaptTimeRange ignore,adaptTimeRangeIdx",JSON.stringify(d));break}a.push(d);var l,f,h,p,v=a.length;a[v-1].isLoading=!0,a[v-1].downloaded=!0,u=a[a.length-1].range[1],this.log(s._.LOG,"gap adaptTimeRange,adaptTimeRangeIdx",this.adaptTimeRange.length-1,JSON.stringify(d))}}}}},{key:"calculateSize",value:function(n){var i,a,o,s,c=this.adaptTimeRange,u=this.timeRange,d=this.videoTrak,l=this.audioTrak;!(null!==(m=u[0])&&void 0!==m&&m.range)&&(u[0].range=this.calculateRange(0));var f=(null==c?void 0:c.length)||0,h=f>0&&c[f-1].range?c[c.length-1].range[1]:u[0].range[0],p=null;d&&d.length>0&&(p=this.getEndFrame("video",n));var v=null===(_=p)||void 0===_?void 0:_.endFrame,g=null;l&&l.length>0&&(g=this.getEndFrame("audio",n));var y=null===(b=g)||void 0===b?void 0:b.endFrame;if(v&&y){var m,_,b,A,w,k,E=v.offset+v.size,x=y.offset+y.size;E>x?(A=this.getFrameByPos("audio",null===(w=g)||void 0===w?void 0:w.newSegmentIdx,y.index,E))&&(y=A):(A=this.getFrameByPos("video",null===(k=p)||void 0===k?void 0:k.newSegmentIdx,v.index,x))&&(v=A)}if(v&&y)return{endAudioFrame:y,endVideoFrame:v,segmentIdx:Math.min(null===(i=p)||void 0===i?void 0:i.newSegmentIdx,null===(a=g)||void 0===a?void 0:a.newSegmentIdx),size:Math.max(v.offset+v.size,y.offset+y.size)-h};if(v)return{segmentIdx:null===(o=p)||void 0===o?void 0:o.newSegmentIdx,size:v.offset+v.size-h,endVideoFrame:v};if(y)return{segmentIdx:null===(s=g)||void 0===s?void 0:s.newSegmentIdx,endAudioFrame:y,size:y.offset+y.size-h}}},{key:"getFrameByPos",value:function(n,i,a,o){var s="video"===n?this.videoTrak:this.audioTrak;if(!(null!=s&&s.length))return null;for(var c=!1,u=a+1,d=i;d<s.length;d++){for(var l,f,h,p,v,g=(null===(v=l=(null===(p=s[d])||void 0===p?void 0:p.frames)||[])||void 0===v||null===(v=v[0])||void 0===v?void 0:v.index)||0;u<=l[l.length-1].index;u++)if((f=l[u-g]).offset+f.size<=o)h=f;else{c=!0;break}if(c)break}return h}},{key:"getEndFrame",value:function(n,i){if("video"===n?(u=this.videoTrak,d=i*this.meta.videoTimescale):(u=this.audioTrak,d=i*this.meta.audioTimescale),!(null!==(a=u)&&void 0!==a&&a.length))return null;for(var a,o,c,u,d,l=this.adaptTimeRange,f=null,h=-1,p=(null==l?void 0:l.length)>0?l[l.length-1]:null,v=(null===(o="video"===n?null==p?void 0:p.endVideoFrame:null==p?void 0:p.endAudioFrame)||void 0===o?void 0:o.index)||0,g=(null==p?void 0:p.segmentIdx)||0,y=Math.round(d/u[0].frames[0].duration),m=g;m<u.length;m++){var _=u[m].frames;if((null==_?void 0:_.length)>0&&(_[_.length-1].index-v>=y||m===u.length-1)){var b=u[u.length-1].frames,A=Math.min(b[b.length-1].index,v+y)-_[0].index;f=_[A],h=h<0?m:Math.min(h,m);break}}return this.log(s._.LOG,"calculateSize, ".concat(n,", frameNum, ").concat(y,", \n        idx: ").concat(v," - ").concat(null===(c=f)||void 0===c?void 0:c.index)),{newSegmentIdx:h,endFrame:f}}},{key:"createAdaptTimeRange",value:function(n,i){var a,o,c,u=this.calculateSize(n,i),d=u.size-1;if(this.log(s._.LOG,"createAdaptTimeRange, \n      mergeDuration: ".concat(n," \n      adaptIdx:").concat(i," \n      loadSize:").concat(d)),0!==d){var l=this.adaptTimeRange,f=!i||i<=0?l.length-1:i-1,h=f>=0?l[f]:null,p=(null==h||null===(a=h.range)||void 0===a?void 0:a[1])+1||this.timeRange[0].range[0];if(p>=this.fileSize)return null;var v=Math.min(p+d-1,this.fileSize-1),g=(null==h?void 0:h.endTime)||this.timeRange[0].startTime,y=Math.min(null!=u&&null!==(o=u.endVideoFrame)&&void 0!==o&&o.pts?u.endVideoFrame.pts/this.meta.videoTimescale:Number.MAX_VALUE,null!=u&&null!==(c=u.endAudioFrame)&&void 0!==c&&c.pts?u.endAudioFrame.pts/this.meta.audioTimescale:Number.MAX_VALUE),m=u.endAudioFrame,_=u.endVideoFrame;return{startTime:g,endTime:y,range:[p,v],duration:n,downloaded:!1,isLoading:!1,endAudioFrame:m,endVideoFrame:_,segmentIdx:u.segmentIdx}}}},{key:"getCurLoadSize",value:function(n){return(!n||n<=0)&&(n=5),Math.ceil(n*Math.floor(this._bitRate/8||this.fileSize/this.meta.duration))}},{key:"getFragRange",value:function(n){var i,a=this.adaptTimeRange;if(n<a.length&&null!==(i=a[n])&&void 0!==i&&i.range)return this.log(s._.LOG,"getFragRange exist",n,JSON.stringify(a[n].range)),a[n].range;var o=this.updateAdaptTimeRange(null,a[n].duration);return this.adaptTimeRange[o].range}},{key:"getSamplesRange",value:function(n,i){var a=[],o="video"===i?this.videoTrak:this.audioTrak;if(!(null!=o&&o.length))return a;var s=this.lastDemuxSampleIdxRange[i],c=this.adaptTimeRange[n],u=("video"===i?c.endVideoFrame:c.endAudioFrame).index;return a.push(s+1,u),a}},{key:"getAdaptIdxBySrcIdx",value:function(n,i){var a=this.adaptTimeRange,o=this.timeRange;if(!(null!=a&&a.length)||!(null!=o&&o.length))return -1;var c=a.length;if(i)return this.getAdaptIdx(n);var u=this.getAdaptIdx(n);if(u>=0)return this.log(s._.LOG,",getAdaptIdxBySrcIdx, fragIndex, ",n,",adaptIdx,",u),u;if(a[c-1].range[1]<this.fileSize-1)for(;(null===(d=o[n].range)||void 0===d?void 0:d[1])>=(null===(l=a[a.length-1].range)||void 0===l?void 0:l[1]);){this.updateAdaptTimeRange(n,this.lastTargetDur||5);var d,l,f=this.getAdaptIdx(n);if(f>0)return this.log(s._.LOG,"new make, getAdaptIdxBySrcIdx, fragIndex, ",n,",adaptIdx,",u),f}return this.adaptTimeRange.length-1}},{key:"getAdaptIdx",value:function(n){var i,a=this.adaptTimeRange,o=this.timeRange,c=null===(i=o[n])||void 0===i?void 0:i.range;!c&&(c=d.Z.getFragRange(n,this.videoTrak,this.audioTrak),o[n].range=c,this.log(s._.LOG,",updateTimeRange.range, fragIndex, ",n,JSON.stringify(o[n])));var u=a.findIndex(function(n){var i,a;return(null==n?void 0:n.range[0])<=(null===(i=c)||void 0===i?void 0:i[0])&&(null==n?void 0:n.range[1])>=(null===(a=c)||void 0===a?void 0:a[0])});return this.log(s._.LOG,",getAdaptIdx, srcIdx, ",n,JSON.stringify(o[n]),", adaptIdx,",JSON.stringify(a[u])),u}},{key:"resetFragmentLoadState",value:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.log(s._.LOG,", resetFragmentLoadState, fragIndex, ",n,",changeBitrate,",a),a){var o=this.adaptTimeRange.length;this.adaptTimeRange.splice(n+1,o-n-1),i=this.adaptTimeRange.map(function(n){return n.duration}),this.adaptTimeRange=[]}else i=this.adaptTimeRange;for(var c=this.adaptTimeRange,u=0;u<i.length;u++)if(c[u]&&(u<n?(c[u].downloaded=!0,c[u].isLoading=!0):(c[u].downloaded=!1,c[u].isLoading=!1)),a){var d=this.createAdaptTimeRange(i[u],u);d&&(u<n&&(d.downloaded=!0,d.isLoading=!0),this.adaptTimeRange.push(d))}}},{key:"getSubRange",value:function(n,i,a){var o,c,u=this.adaptTimeRange,d=this.timeRange,l=null===(o=u[n])||void 0===o?void 0:o.range,f=this.getFragmentIdx(i);!(null!==(c=d[f])&&void 0!==c&&c.range)&&(d[f].range=this.calculateRange(f));var h=[d[f].range[0],l[1]];return this.log(s._.LOG,">>>>>getSubRange finalRange ",JSON.stringify(h),",oldRange,",JSON.stringify(a),",adaptIdx,",n,",srcFragIndex,",f,JSON.stringify(d[f])),h}},{key:"resetDemuxSampleIdx",value:function(n){if(n){var i=this.videoTrak,a=this.audioTrak;if((null==i?void 0:i.length)>0){var o=i.find(function(i){return i.startTime<=n&&i.endTime>n});if(o){var c=o.frames;this.lastDemuxSampleIdxRange.video=c[0].index-1}}if((null==a?void 0:a.length)>0){var u=a.find(function(i){return i.startTime<=n&&i.endTime>n});if(u){var d=u.frames;this.lastDemuxSampleIdxRange.audio=d[0].index-1}}}else this.lastDemuxSampleIdxRange={video:-1,audio:-1};this.log(s._.LOG,"resetDemuxSampleIdx",JSON.stringify(this.lastDemuxSampleIdxRange))}},{key:"calculateRange",value:function(n){return d.Z.getFragRange(n,this.videoTrak,this.audioTrak)}},{key:"fillGopData",value:function(n){var i=-1,a=-1,o=-1;if(this.videoTrak.length){var c=this.getEndFrameByTime("video",n);i=(null==c?void 0:c.index)||-1,o=c.offset+c.size;var u=this.getEndFrameByTime("audio",n);a=(null==u?void 0:u.index)||-1,o=Math.max(o,u.offset+u.size)}else{var d=this.getEndFrameByTime("audio",n);a=(null==d?void 0:d.index)||-1,o=d.offset+d.size}this.fillGopDataInfo={endVFrameIdx:i,endAFrameIdx:a,endRange:o},this.log(s._.LOG,"fillGopDataInfo: ".concat(i,", ").concat(a,", ").concat(o))}},{key:"getEndFrameByTime",value:function(n,i){var a="video"===n?this.videoTrak:this.audioTrak;if(a){var o=a.find(function(n){return n.startTime<=i&&n.endTime>i});if(o)return o.frames[o.frames.length-1]}}}])}(u.Yx)},857877:function(n,i,a){"use strict";a.d(i,{He:function(){return u},Xz:function(){return c},xj:function(){return s}}),a(947478),a(864614),a(210434);var o={"x-cache":"x_cache","x-response-sinfo":"server_ip","x-response-cinfo":"x-response-cinfo","content-range":"content-range","content-length":"content-length","content-type":"content-type"};function s(n){var i={};return Object.keys(o).forEach(function(a){var s,c=null==n||null===(s=n.get)||void 0===s?void 0:s.call(n,a);c&&(i[o[a]]=c)}),i}function c(n){var i,a=o["content-range"],s=null==n||null===(i=n.get)||void 0===i?void 0:i.call(n,a);if(s){var c=s.split("/");if(Array.isArray(c)&&2===c.length)return c[1]}return null}function u(n){var i,a=o["content-length"];return(null==n||null===(i=n.get)||void 0===i?void 0:i.call(n,a))||null}},150799:function(n,i,a){"use strict";a.d(i,{B:function(){return s}});var o=a(167846),s=(0,o.qH)(function n(i){var a=this;(0,o.PA)(this,n),this.alive=!0,this.timeoutId=null,this.onTick=function(n){var i,o;null===(i=a.cancelPending)||void 0===i||i.call(a),a.alive&&(null===(o=a.onTick_)||void 0===o||o.call(a),null==n||n())},this.onTick_=i},[{key:"tickAfter",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cancelPending?this.cancelPending():this.cancelPending=function(){i.timeoutId&&(clearTimeout(i.timeoutId),i.timeoutId=null)},this.alive=!0,this.timeoutId=setTimeout(this.onTick,1e3*n,a),this}},{key:"tickEvery",value:function(n){var i=this;this.tickAfter(n,function(){i.tickEvery(n)})}},{key:"stop",value:function(){this.alive=!1,this.cancelPending&&(this.cancelPending(),this.cancelPending=void 0)}}])},801379:function(n,i){var a;a=0,function(n){"use strict";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function a(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o=function(n){return n&&n.Math==Math&&n},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||Function("return this")(),c={},u=function(n){try{return!!n()}catch(n){return!0}},d=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),l={},f={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,p=h&&!f.call({1:2},1);l.f=p?function(n){var i=h(this,n);return!!i&&i.enumerable}:f;var v=function(n,i){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:i}},g={}.toString,y=function(n){return g.call(n).slice(8,-1)},m="".split,_=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(n){return"String"==y(n)?m.call(n,""):Object(n)}:Object,b=function(n){if(null==n)throw TypeError("Can't call method on "+n);return n},A=function(n){return _(b(n))},w=function(n){return"object"==typeof n?null!==n:"function"==typeof n},k=function(n,i){var a,o;if(!w(n))return n;if(i&&"function"==typeof(a=n.toString)&&!w(o=a.call(n))||"function"==typeof(a=n.valueOf)&&!w(o=a.call(n))||!i&&"function"==typeof(a=n.toString)&&!w(o=a.call(n)))return o;throw TypeError("Can't convert object to primitive value")},E=function(n){return Object(b(n))},x={}.hasOwnProperty,S=function(n,i){return x.call(E(n),i)},T=s.document,I=w(T)&&w(T.createElement),R=function(n){return I?T.createElement(n):{}},C=!d&&!u(function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a}),D=Object.getOwnPropertyDescriptor;c.f=d?D:function(n,i){if(n=A(n),i=k(i,!0),C)try{return D(n,i)}catch(n){}if(S(n,i))return v(!l.f.call(n,i),n[i])};var O={},B=function(n){if(!w(n))throw TypeError(String(n)+" is not an object");return n},P=Object.defineProperty;O.f=d?P:function(n,i,a){if(B(n),i=k(i,!0),B(a),C)try{return P(n,i,a)}catch(n){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(n[i]=a.value),n};var L=d?function(n,i,a){return O.f(n,i,v(1,a))}:function(n,i,a){return n[i]=a,n},M={exports:{}},N=function(n,i){try{L(s,n,i)}catch(a){s[n]=i}return i},U="__core-js_shared__",F=s[U]||N(U,{}),j=Function.toString;"function"!=typeof F.inspectSource&&(F.inspectSource=function(n){return j.call(n)});var V=F.inspectSource,Z=s.WeakMap,H="function"==typeof Z&&/native code/.test(V(Z)),G={exports:{}};(G.exports=function(n,i){return F[n]||(F[n]=void 0!==i?i:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"});var W,z,Y,K=G.exports,X=0,J=Math.random(),q=function(n){return"Symbol("+String(void 0===n?"":n)+")_"+(++X+J).toString(36)},Q=K("keys"),$=function(n){return Q[n]||(Q[n]=q(n))},ee={},et="Object already initialized",er=s.WeakMap;if(H||F.state){var en=F.state||(F.state=new er),ei=en.get,ea=en.has,eo=en.set;W=function(n,i){if(ea.call(en,n))throw TypeError(et);return i.facade=n,eo.call(en,n,i),i},z=function(n){return ei.call(en,n)||{}},Y=function(n){return ea.call(en,n)}}else{var es=$("state");ee[es]=!0,W=function(n,i){if(S(n,es))throw TypeError(et);return i.facade=n,L(n,es,i),i},z=function(n){return S(n,es)?n[es]:{}},Y=function(n){return S(n,es)}}var ec={set:W,get:z,has:Y,enforce:function(n){return Y(n)?z(n):W(n,{})},getterFor:function(n){return function(i){var a;if(!w(i)||(a=z(i)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return a}}},eu=ec.get,ed=ec.enforce,el=String(String).split("String");(M.exports=function(n,i,a,o){var c,u=!!o&&!!o.unsafe,d=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof i||S(a,"name")||L(a,"name",i),(c=ed(a)).source||(c.source=el.join("string"==typeof i?i:""))),n!==s?(u?!l&&n[i]&&(d=!0):delete n[i],d?n[i]=a:L(n,i,a)):d?n[i]=a:N(i,a)})(Function.prototype,"toString",function(){return"function"==typeof this&&eu(this).source||V(this)});var ef=M.exports,eh=function(n){return"function"==typeof n?n:void 0},ep=function(n,i){return arguments.length<2?eh(s[n])||eh(s[n]):s[n]&&s[n][i]||s[n]&&s[n][i]},ev={},eg=Math.ceil,ey=Math.floor,em=function(n){return isNaN(n=+n)?0:(n>0?ey:eg)(n)},e_=Math.min,eb=function(n){return n>0?e_(em(n),9007199254740991):0},eA=Math.max,ew=Math.min,ek=function(n,i){var a=em(n);return a<0?eA(a+i,0):ew(a,i)},eE=function(n){return function(i,a,o){var s,c=A(i),u=eb(c.length),d=ek(o,u);if(n&&a!=a){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((n||d in c)&&c[d]===a)return n||d||0;return!n&&-1}},ex={includes:eE(!0),indexOf:eE(!1)},eS=ex.indexOf,eT=function(n,i){var a,o=A(n),s=0,c=[];for(a in o)!S(ee,a)&&S(o,a)&&c.push(a);for(;i.length>s;)S(o,a=i[s++])&&(~eS(c,a)||c.push(a));return c},eI=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eR=eI.concat("length","prototype");ev.f=Object.getOwnPropertyNames||function(n){return eT(n,eR)};var eC={};eC.f=Object.getOwnPropertySymbols;var eD=ep("Reflect","ownKeys")||function(n){var i=ev.f(B(n)),a=eC.f;return a?i.concat(a(n)):i},eO=/#|\.prototype\./,eB=function(n,i){var a=eL[eP(n)];return a==eN||a!=eM&&("function"==typeof i?u(i):!!i)},eP=eB.normalize=function(n){return String(n).replace(eO,".").toLowerCase()},eL=eB.data={},eM=eB.NATIVE="N",eN=eB.POLYFILL="P",eU=c.f,eF=function(n,i){for(var a=eD(i),o=O.f,s=c.f,u=0;u<a.length;u++){var d=a[u];S(n,d)||o(n,d,s(i,d))}},ej=function(n,i){var a,o,c,u,d,l=n.target,f=n.global,h=n.stat;if(a=f?s:h?s[l]||N(l,{}):(s[l]||{}).prototype)for(o in i){if(u=i[o],c=n.noTargetGet?(d=eU(a,o))&&d.value:a[o],!eB(f?o:l+(h?".":"#")+o,n.forced)&&void 0!==c){if(typeof u==typeof c)continue;eF(u,c)}(n.sham||c&&c.sham)&&L(u,"sham",!0),ef(a,o,u,n)}};function eV(){eV=function(){return n};var n={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(n,i,a){n[i]=a.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function l(n,i,a){return Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{l({},"")}catch(n){l=function(n,i,a){return n[i]=a}}function f(n,i,a,s){var c=Object.create((i&&i.prototype instanceof v?i:v).prototype);return o(c,"_invoke",{value:function(n,i,a){var o="suspendedStart";return function(s,c){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===s)throw c;return{value:void 0,done:!0}}for(a.method=s,a.arg=c;;){var u=a.delegate;if(u){var d=function n(i,a){var o=a.method,s=i.iterator[o];if(void 0===s)return a.delegate=null,"throw"===o&&i.iterator.return&&(a.method="return",a.arg=void 0,n(i,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var c=h(s,i.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,p;var u=c.arg;return u?u.done?(a[i.resultName]=u.value,a.next=i.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,p):u:(a.method="throw",a.arg=TypeError("iterator result is not an object"),a.delegate=null,p)}(u,a);if(d){if(d===p)continue;return d}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=h(n,i,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(n,a,new S(s||[]))}),c}function h(n,i,a){try{return{type:"normal",arg:n.call(i,a)}}catch(n){return{type:"throw",arg:n}}}n.wrap=f;var p={};function v(){}function g(){}function y(){}var m={};l(m,c,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(T([])));b&&b!==i&&a.call(b,c)&&(m=b);var A=y.prototype=v.prototype=Object.create(m);function w(n){["next","throw","return"].forEach(function(i){l(n,i,function(n){return this._invoke(i,n)})})}function k(n,i){var s;o(this,"_invoke",{value:function(o,c){function u(){return new i(function(s,u){!function o(s,c,u,d){var l=h(n[s],n,c);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==typeof p&&a.call(p,"__await")?i.resolve(p.__await).then(function(n){o("next",n,u,d)},function(n){o("throw",n,u,d)}):i.resolve(p).then(function(n){f.value=n,u(f)},function(n){return o("throw",n,u,d)})}d(l.arg)}(o,c,s,u)})}return s=s?s.then(u,u):u()}})}function E(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function x(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function S(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(E,this),this.reset(!0)}function T(n){if(n){var i=n[c];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,s=function i(){for(;++o<n.length;)if(a.call(n,o))return i.value=n[o],i.done=!1,i;return i.value=void 0,i.done=!0,i};return s.next=s}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=y,o(A,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,d,"GeneratorFunction"),n.isGeneratorFunction=function(n){var i="function"==typeof n&&n.constructor;return!!i&&(i===g||"GeneratorFunction"===(i.displayName||i.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,y):(n.__proto__=y,l(n,d,"GeneratorFunction")),n.prototype=Object.create(A),n},n.awrap=function(n){return{__await:n}},w(k.prototype),l(k.prototype,u,function(){return this}),n.AsyncIterator=k,n.async=function(i,a,o,s,c){void 0===c&&(c=Promise);var u=new k(f(i,a,o,s),c);return n.isGeneratorFunction(a)?u:u.next().then(function(n){return n.done?n.value:u.next()})},w(A),l(A,d,"Generator"),l(A,c,function(){return this}),l(A,"toString",function(){return"[object Generator]"}),n.keys=function(n){var i=Object(n),a=[];for(var o in i)a.push(o);return a.reverse(),function n(){for(;a.length;){var o=a.pop();if(o in i)return n.value=o,n.done=!1,n}return n.done=!0,n}},n.values=T,S.prototype={constructor:S,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!n)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function o(a,o){return u.type="throw",u.arg=n,i.next=a,o&&(i.method="next",i.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s],u=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var d=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(d&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(d){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(n,i){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var c=s;break}}c&&("break"===n||"continue"===n)&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=n,u.arg=i,c?(this.method="next",this.next=c.finallyLoc,p):this.complete(u)},complete:function(n,i){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&i&&(this.next=i),p},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===n)return this.complete(a.completion,a.afterLoc),x(a),p}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===n){var o=a.completion;if("throw"===o.type){var s=o.arg;x(a)}return s}}throw Error("illegal catch attempt")},delegateYield:function(n,i,a){return this.delegate={iterator:T(n),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=void 0),p}},n}function eZ(n){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function eH(n,i,a,o,s,c,u){try{var d=n[c](u),l=d.value}catch(n){return void a(n)}d.done?i(l):Promise.resolve(l).then(o,s)}function eG(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var c=n.apply(i,a);function u(n){eH(c,o,s,u,d,"next",n)}function d(n){eH(c,o,s,u,d,"throw",n)}u(void 0)})}}function eW(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function ez(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,e0(o.key),o)}}function eY(n,i,a){return i&&ez(n.prototype,i),a&&ez(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function eK(n,i,a){return(i=e0(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function eX(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&eq(n,i)}function eJ(n){return(eJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function eq(n,i){return(eq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}function eQ(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function e$(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var a,o=eJ(n);return a=i?Reflect.construct(o,arguments,eJ(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return eQ(n)}(this,a)}}function e0(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}ej({global:!0},{globalThis:s});var e1,e2,e3=ep("navigator","userAgent")||"",e4=s.process,e6=e4&&e4.versions,e7=e6&&e6.v8;e7?e2=(e1=e7.split("."))[0]<4?1:e1[0]+e1[1]:e3&&(!(e1=e3.match(/Edge\/(\d+)/))||e1[1]>=74)&&(e1=e3.match(/Chrome\/(\d+)/))&&(e2=e1[1]);var e5,e8=e2&&+e2,e9=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())||!Symbol.sham&&e8&&e8<41}),te=e9&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,tt=K("wks"),tr=s.Symbol,tn=te?tr:tr&&tr.withoutSetter||q,ti=function(n){return S(tt,n)&&(e9||"string"==typeof tt[n])||(e9&&S(tr,n)?tt[n]=tr[n]:tt[n]=tn("Symbol."+n)),tt[n]},ta=Object.keys||function(n){return eT(n,eI)},to=d?Object.defineProperties:function(n,i){B(n);for(var a,o=ta(i),s=o.length,c=0;s>c;)O.f(n,a=o[c++],i[a]);return n},ts=ep("document","documentElement"),tc="prototype",tu="script",td=$("IE_PROTO"),tl=function(){},tf=function(n){return"<"+tu+">"+n+"</"+tu+">"},th=function(){try{e5=document.domain&&new ActiveXObject("htmlfile")}catch(n){}th=e5?((n=e5).write(tf("")),n.close(),i=n.parentWindow.Object,n=null,i):(o=R("iframe"),s="java"+tu+":",o.style.display="none",ts.appendChild(o),o.src=String(s),(a=o.contentWindow.document).open(),a.write(tf("document.F=Object")),a.close(),a.F);for(var n,i,a,o,s,c=eI.length;c--;)delete th[tc][eI[c]];return th()};ee[td]=!0;var tp=Object.create||function(n,i){var a;return null!==n?(tl[tc]=B(n),a=new tl,tl[tc]=null,a[td]=n):a=th(),void 0===i?a:to(a,i)},tv=ti("unscopables"),tg=Array.prototype;null==tg[tv]&&O.f(tg,tv,{configurable:!0,value:tp(null)});var ty,tm,t_,tb={},tA=!u(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),tw=$("IE_PROTO"),tk=Object.prototype,tE=tA?Object.getPrototypeOf:function(n){return S(n=E(n),tw)?n[tw]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?tk:null},tx=ti("iterator"),tS=!1;[].keys&&("next"in(t_=[].keys())?(tm=tE(tE(t_)))!==Object.prototype&&(ty=tm):tS=!0),(null==ty||u(function(){var n={};return ty[tx].call(n)!==n}))&&(ty={}),S(ty,tx)||L(ty,tx,function(){return this});var tT=ty,tI=tS,tR=O.f,tC=ti("toStringTag"),tD=function(n,i,a){n&&!S(n=a?n:n.prototype,tC)&&tR(n,tC,{configurable:!0,value:i})},tO=function(){return this},tB=function(n){if(!w(n)&&null!==n)throw TypeError("Can't set "+String(n)+" as a prototype");return n},tP=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,a={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]),i=a instanceof Array}catch(n){}return function(a,o){return B(a),tB(o),i?n.call(a,o):a.__proto__=o,a}}():void 0),tL=function(n,i,a){var o=i+" Iterator";return n.prototype=tp(tT,{next:v(1,a)}),tD(n,o,!1),tb[o]=tO,n},tM=tT,tN=tI,tU=ti("iterator"),tF="keys",tj="values",tV="entries",tZ=function(){return this},tH=function(n,i,a,o,s,c,u){tL(a,i,o);var d,l,f,h=function(n){if(n===s&&m)return m;if(!tN&&n in g)return g[n];switch(n){case tF:case tj:case tV:return function(){return new a(this,n)}}return function(){return new a(this)}},p=i+" Iterator",v=!1,g=n.prototype,y=g[tU]||g["@@iterator"]||s&&g[s],m=!tN&&y||h(s),_="Array"==i&&g.entries||y;if(_&&(d=tE(_.call(new n)),tM!==Object.prototype&&d.next&&(tE(d)!==tM&&(tP?tP(d,tM):"function"!=typeof d[tU]&&L(d,tU,tZ)),tD(d,p,!0))),s==tj&&y&&y.name!==tj&&(v=!0,m=function(){return y.call(this)}),g[tU]!==m&&L(g,tU,m),tb[i]=m,s){if(l={values:h(tj),keys:c?m:h(tF),entries:h(tV)},u)for(f in l)!tN&&!v&&f in g||ef(g,f,l[f]);else ej({target:i,proto:!0,forced:tN||v},l)}return l},tG=function(n){tg[tv][n]=!0},tW="Array Iterator",tz=ec.set,tY=ec.getterFor(tW),tK=tH(Array,"Array",function(n,i){tz(this,{type:tW,target:A(n),index:0,kind:i})},function(){var n=tY(this),i=n.target,a=n.kind,o=n.index++;return!i||o>=i.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:o,done:!1}:"values"==a?{value:i[o],done:!1}:{value:[o,i[o]],done:!1}},"values");tb.Arguments=tb.Array,tG("keys"),tG("values"),tG("entries");var tX={};tX[ti("toStringTag")]="z";var tJ="[object z]"===String(tX),tq=ti("toStringTag"),tQ="Arguments"==y(function(){return arguments}()),t$=tJ?y:function(n){var i,a,o;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(a=function(n,i){try{return n[i]}catch(n){}}(i=Object(n),tq))?a:tQ?y(i):"Object"==(o=y(i))&&"function"==typeof i.callee?"Arguments":o};tJ||ef(Object.prototype,"toString",tJ?({}).toString:function(){return"[object "+t$(this)+"]"},{unsafe:!0});var t0={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},t1=ti("iterator"),t2=ti("toStringTag"),t3=tK.values;for(var t4 in t0){var t6=s[t4],t7=t6&&t6.prototype;if(t7){if(t7[t1]!==t3)try{L(t7,t1,t3)}catch(n){t7[t1]=t3}if(t7[t2]||L(t7,t2,t4),t0[t4]){for(var t5 in tK)if(t7[t5]!==tK[t5])try{L(t7,t5,tK[t5])}catch(n){t7[t5]=tK[t5]}}}}var t8={exports:{}},t9=ti("iterator"),re=!1;try{var rt=0,rr={next:function(){return{done:!!rt++}},return:function(){re=!0}};rr[t9]=function(){return this},Array.from(rr,function(){throw 2})}catch(n){}var rn,ri=function(n,i){if(!i&&!re)return!1;var a=!1;try{var o={};o[t9]=function(){return{next:function(){return{done:a=!0}}}},n(o)}catch(n){}return a},ra="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ro=O.f,rs=s.Int8Array,rc=rs&&rs.prototype,ru=s.Uint8ClampedArray,rd=ru&&ru.prototype,rl=rs&&tE(rs),rf=rc&&tE(rc),rh=Object.prototype,rp=rh.isPrototypeOf,rv=ti("toStringTag"),rg=q("TYPED_ARRAY_TAG"),ry=ra&&!!tP&&"Opera"!==t$(s.opera),rm=!1,r_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},rb={BigInt64Array:8,BigUint64Array:8},rA=function(n){if(!w(n))return!1;var i=t$(n);return S(r_,i)||S(rb,i)};for(rn in r_)s[rn]||(ry=!1);if((!ry||"function"!=typeof rl||rl===Function.prototype)&&(rl=function(){throw TypeError("Incorrect invocation")},ry))for(rn in r_)s[rn]&&tP(s[rn],rl);if((!ry||!rf||rf===rh)&&(rf=rl.prototype,ry))for(rn in r_)s[rn]&&tP(s[rn].prototype,rf);if(ry&&tE(rd)!==rf&&tP(rd,rf),d&&!S(rf,rv))for(rn in rm=!0,ro(rf,rv,{get:function(){return w(this)?this[rg]:void 0}}),r_)s[rn]&&L(s[rn],rg,rn);var rw={NATIVE_ARRAY_BUFFER_VIEWS:ry,TYPED_ARRAY_TAG:rm&&rg,aTypedArray:function(n){if(rA(n))return n;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(n){if(tP){if(rp.call(rl,n))return n}else for(var i in r_)if(S(r_,rn)){var a=s[i];if(a&&(n===a||rp.call(a,n)))return n}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(n,i,a){if(d){if(a)for(var o in r_){var c=s[o];if(c&&S(c.prototype,n))try{delete c.prototype[n]}catch(n){}}rf[n]&&!a||ef(rf,n,a?i:ry&&rc[n]||i)}},exportTypedArrayStaticMethod:function(n,i,a){var o,c;if(d){if(tP){if(a){for(o in r_)if((c=s[o])&&S(c,n))try{delete c[n]}catch(n){}}if(rl[n]&&!a)return;try{return ef(rl,n,a?i:ry&&rl[n]||i)}catch(n){}}for(o in r_)(c=s[o])&&(!c[n]||a)&&ef(c,n,i)}},isView:function(n){if(!w(n))return!1;var i=t$(n);return"DataView"===i||S(r_,i)||S(rb,i)},isTypedArray:rA,TypedArray:rl,TypedArrayPrototype:rf},rk=rw.NATIVE_ARRAY_BUFFER_VIEWS,rE=s.ArrayBuffer,rx=s.Int8Array,rS=!rk||!u(function(){rx(1)})||!u(function(){new rx(-1)})||!ri(function(n){new rx,new rx(null),new rx(1.5),new rx(n)},!0)||u(function(){return 1!==new rx(new rE(2),1,void 0).length}),rT=function(n,i,a){for(var o in i)ef(n,o,i[o],a);return n},rI=function(n,i,a){if(!(n instanceof i))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return n},rR=function(n){if(void 0===n)return 0;var i=em(n),a=eb(i);if(i!==a)throw RangeError("Wrong length or index");return a},rC=Math.abs,rD=Math.pow,rO=Math.floor,rB=Math.log,rP=Math.LN2,rL=function(n){for(var i=E(this),a=eb(i.length),o=arguments.length,s=ek(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,u=void 0===c?a:ek(c,a);u>s;)i[s++]=n;return i},rM=function(n,i,a){var o,s,c,u=Array(a),d=8*a-i-1,l=(1<<d)-1,f=l>>1,h=23===i?rD(2,-24)-rD(2,-77):0,p=n<0||0===n&&1/n<0?1:0,v=0;for((n=rC(n))!=n||n===1/0?(s=n!=n?1:0,o=l):(o=rO(rB(n)/rP),n*(c=rD(2,-o))<1&&(o--,c*=2),(n+=o+f>=1?h/c:h*rD(2,1-f))*c>=2&&(o++,c/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(n*c-1)*rD(2,i),o+=f):(s=n*rD(2,f-1)*rD(2,i),o=0));i>=8;u[v++]=255&s,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;u[v++]=255&o,o/=256,d-=8);return u[--v]|=128*p,u},rN=function(n,i){var a,o=n.length,s=8*o-i-1,c=(1<<s)-1,u=c>>1,d=s-7,l=o-1,f=n[l--],h=127&f;for(f>>=7;d>0;h=256*h+n[l],l--,d-=8);for(a=h&(1<<-d)-1,h>>=-d,d+=i;d>0;a=256*a+n[l],l--,d-=8);if(0===h)h=1-u;else{if(h===c)return a?NaN:f?-Infinity:1/0;a+=rD(2,i),h-=u}return(f?-1:1)*a*rD(2,h-i)},rU=ev.f,rF=O.f,rj=ec.get,rV=ec.set,rZ="ArrayBuffer",rH="DataView",rG="prototype",rW="Wrong index",rz=s[rZ],rY=rz,rK=s[rH],rX=rK&&rK[rG],rJ=Object.prototype,rq=s.RangeError,rQ=rM,r$=rN,r0=function(n){return[255&n]},r1=function(n){return[255&n,n>>8&255]},r2=function(n){return[255&n,n>>8&255,n>>16&255,n>>24&255]},r3=function(n){return n[3]<<24|n[2]<<16|n[1]<<8|n[0]},r4=function(n){return rQ(n,23,4)},r6=function(n){return rQ(n,52,8)},r7=function(n,i){rF(n[rG],i,{get:function(){return rj(this)[i]}})},r5=function(n,i,a,o){var s=rR(a),c=rj(n);if(s+i>c.byteLength)throw rq(rW);var u=rj(c.buffer).bytes,d=s+c.byteOffset,l=u.slice(d,d+i);return o?l:l.reverse()},r8=function(n,i,a,o,s,c){var u=rR(a),d=rj(n);if(u+i>d.byteLength)throw rq(rW);for(var l=rj(d.buffer).bytes,f=u+d.byteOffset,h=o(+s),p=0;p<i;p++)l[f+p]=h[c?p:i-p-1]};if(ra){if(!u(function(){rz(1)})||!u(function(){new rz(-1)})||u(function(){return new rz,new rz(1.5),new rz(NaN),rz.name!=rZ})){for(var r9,ne=(rY=function(n){return rI(this,rY),new rz(rR(n))})[rG]=rz[rG],nt=rU(rz),nr=0;nt.length>nr;)(r9=nt[nr++])in rY||L(rY,r9,rz[r9]);ne.constructor=rY}tP&&tE(rX)!==rJ&&tP(rX,rJ);var nn=new rK(new rY(2)),ni=rX.setInt8;nn.setInt8(0,2147483648),nn.setInt8(1,2147483649),!nn.getInt8(0)&&nn.getInt8(1)||rT(rX,{setInt8:function(n,i){ni.call(this,n,i<<24>>24)},setUint8:function(n,i){ni.call(this,n,i<<24>>24)}},{unsafe:!0})}else rY=function(n){rI(this,rY,rZ);var i=rR(n);rV(this,{bytes:rL.call(Array(i),0),byteLength:i}),d||(this.byteLength=i)},rK=function(n,i,a){rI(this,rK,rH),rI(n,rY,rH);var o=rj(n).byteLength,s=em(i);if(s<0||s>o)throw rq("Wrong offset");if(s+(a=void 0===a?o-s:eb(a))>o)throw rq("Wrong length");rV(this,{buffer:n,byteLength:a,byteOffset:s}),d||(this.buffer=n,this.byteLength=a,this.byteOffset=s)},d&&(r7(rY,"byteLength"),r7(rK,"buffer"),r7(rK,"byteLength"),r7(rK,"byteOffset")),rT(rK[rG],{getInt8:function(n){return r5(this,1,n)[0]<<24>>24},getUint8:function(n){return r5(this,1,n)[0]},getInt16:function(n){var i=r5(this,2,n,arguments.length>1?arguments[1]:void 0);return(i[1]<<8|i[0])<<16>>16},getUint16:function(n){var i=r5(this,2,n,arguments.length>1?arguments[1]:void 0);return i[1]<<8|i[0]},getInt32:function(n){return r3(r5(this,4,n,arguments.length>1?arguments[1]:void 0))},getUint32:function(n){return r3(r5(this,4,n,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(n){return r$(r5(this,4,n,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(n){return r$(r5(this,8,n,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(n,i){r8(this,1,n,r0,i)},setUint8:function(n,i){r8(this,1,n,r0,i)},setInt16:function(n,i){r8(this,2,n,r1,i,arguments.length>2?arguments[2]:void 0)},setUint16:function(n,i){r8(this,2,n,r1,i,arguments.length>2?arguments[2]:void 0)},setInt32:function(n,i){r8(this,4,n,r2,i,arguments.length>2?arguments[2]:void 0)},setUint32:function(n,i){r8(this,4,n,r2,i,arguments.length>2?arguments[2]:void 0)},setFloat32:function(n,i){r8(this,4,n,r4,i,arguments.length>2?arguments[2]:void 0)},setFloat64:function(n,i){r8(this,8,n,r6,i,arguments.length>2?arguments[2]:void 0)}});tD(rY,rZ),tD(rK,rH);var na={ArrayBuffer:rY,DataView:rK},no=function(n){var i=em(n);if(i<0)throw RangeError("The argument can't be less than 0");return i},ns=function(n,i){var a=no(n);if(a%i)throw RangeError("Wrong offset");return a},nc=ti("iterator"),nu=function(n){if(null!=n)return n[nc]||n["@@iterator"]||tb[t$(n)]},nd=ti("iterator"),nl=Array.prototype,nf=function(n){return void 0!==n&&(tb.Array===n||nl[nd]===n)},nh=function(n){if("function"!=typeof n)throw TypeError(String(n)+" is not a function");return n},np=function(n,i,a){if(nh(n),void 0===i)return n;switch(a){case 0:return function(){return n.call(i)};case 1:return function(a){return n.call(i,a)};case 2:return function(a,o){return n.call(i,a,o)};case 3:return function(a,o,s){return n.call(i,a,o,s)}}return function(){return n.apply(i,arguments)}},nv=rw.aTypedArrayConstructor,ng=Array.isArray||function(n){return"Array"==y(n)},ny=ti("species"),nm=function(n,i){var a;return ng(n)&&("function"==typeof(a=n.constructor)&&(a===Array||ng(a.prototype))?a=void 0:w(a)&&null===(a=a[ny])&&(a=void 0)),new(void 0===a?Array:a)(0===i?0:i)},n_=[].push,nb=function(n){var i=1==n,a=2==n,o=3==n,s=4==n,c=6==n,u=7==n,d=5==n||c;return function(l,f,h,p){for(var v,g,y=E(l),m=_(y),b=np(f,h,3),A=eb(m.length),w=0,k=p||nm,x=i?k(l,A):a||u?k(l,0):void 0;A>w;w++)if((d||w in m)&&(g=b(v=m[w],w,y),n)){if(i)x[w]=g;else if(g)switch(n){case 3:return!0;case 5:return v;case 6:return w;case 2:n_.call(x,v)}else switch(n){case 4:return!1;case 7:n_.call(x,v)}}return c?-1:o||s?s:x}},nA={forEach:nb(0),map:nb(1),filter:nb(2),some:nb(3),every:nb(4),find:nb(5),findIndex:nb(6),filterOut:nb(7)},nw=ti("species"),nk=function(n){var i=ep(n),a=O.f;d&&i&&!i[nw]&&a(i,nw,{configurable:!0,get:function(){return this}})},nE=function(n,i,a){var o,s;return tP&&"function"==typeof(o=i.constructor)&&o!==a&&w(s=o.prototype)&&s!==a.prototype&&tP(n,s),n},nx=ev.f,nS=function(n){var i,a,o,s,c,u,d=E(n),l=arguments.length,f=l>1?arguments[1]:void 0,h=void 0!==f,p=nu(d);if(null!=p&&!nf(p))for(u=(c=p.call(d)).next,d=[];!(s=u.call(c)).done;)d.push(s.value);for(h&&l>2&&(f=np(f,arguments[2],2)),a=eb(d.length),o=new(nv(this))(a),i=0;a>i;i++)o[i]=h?f(d[i],i):d[i];return o},nT=nA.forEach,nI=ec.get,nR=ec.set,nC=O.f,nD=c.f,nO=Math.round,nB=s.RangeError,nP=na.ArrayBuffer,nL=na.DataView,nM=rw.NATIVE_ARRAY_BUFFER_VIEWS,nN=rw.TYPED_ARRAY_TAG,nU=rw.TypedArray,nF=rw.TypedArrayPrototype,nj=rw.aTypedArrayConstructor,nV=rw.isTypedArray,nZ="BYTES_PER_ELEMENT",nH="Wrong length",nG=function(n,i){for(var a=0,o=i.length,s=new(nj(n))(o);o>a;)s[a]=i[a++];return s},nW=function(n,i){nC(n,i,{get:function(){return nI(this)[i]}})},nz=function(n){var i;return n instanceof nP||"ArrayBuffer"==(i=t$(n))||"SharedArrayBuffer"==i},nY=function(n,i){return nV(n)&&"symbol"!=typeof i&&i in n&&String(+i)==String(i)},nK=function(n,i){return nY(n,i=k(i,!0))?v(2,n[i]):nD(n,i)},nX=function(n,i,a){return!(nY(n,i=k(i,!0))&&w(a)&&S(a,"value"))||S(a,"get")||S(a,"set")||a.configurable||S(a,"writable")&&!a.writable||S(a,"enumerable")&&!a.enumerable?nC(n,i,a):(n[i]=a.value,n)};d?(nM||(c.f=nK,O.f=nX,nW(nF,"buffer"),nW(nF,"byteOffset"),nW(nF,"byteLength"),nW(nF,"length")),ej({target:"Object",stat:!0,forced:!nM},{getOwnPropertyDescriptor:nK,defineProperty:nX}),t8.exports=function(n,i,a){var o=n.match(/\d+$/)[0]/8,c=n+(a?"Clamped":"")+"Array",u="get"+n,d="set"+n,l=s[c],f=l,h=f&&f.prototype,p={},v=function(n,i){nC(n,i,{get:function(){var n,a,s;return n=this,a=i,(s=nI(n)).view[u](a*o+s.byteOffset,!0)},set:function(n){var s,c,u,l;return s=this,c=i,u=n,l=nI(s),void(a&&(u=(u=nO(u))<0?0:u>255?255:255&u),l.view[d](c*o+l.byteOffset,u,!0))},enumerable:!0})};nM?rS&&(f=i(function(n,i,a,s){return rI(n,f,c),nE(w(i)?nz(i)?void 0!==s?new l(i,ns(a,o),s):void 0!==a?new l(i,ns(a,o)):new l(i):nV(i)?nG(f,i):nS.call(f,i):new l(rR(i)),n,f)}),tP&&tP(f,nU),nT(nx(l),function(n){n in f||L(f,n,l[n])}),f.prototype=h):(f=i(function(n,i,a,s){rI(n,f,c);var u,d,l,h=0,p=0;if(w(i)){if(!nz(i))return nV(i)?nG(f,i):nS.call(f,i);u=i,p=ns(a,o);var g=i.byteLength;if(void 0===s){if(g%o||(d=g-p)<0)throw nB(nH)}else if((d=eb(s)*o)+p>g)throw nB(nH);l=d/o}else u=new nP(d=(l=rR(i))*o);for(nR(n,{buffer:u,byteOffset:p,byteLength:d,length:l,view:new nL(u)});h<l;)v(n,h++)}),tP&&tP(f,nU),h=f.prototype=tp(nF)),h.constructor!==f&&L(h,"constructor",f),nN&&L(h,nN,c),p[c]=f,ej({global:!0,forced:f!=l,sham:!nM},p),nZ in f||L(f,nZ,o),nZ in h||L(h,nZ,o),nk(c)}):t8.exports=function(){};var nJ=t8.exports;nJ("Uint8",function(n){return function(i,a,o){return n(this,i,a,o)}});var nq=Math.min,nQ=[].copyWithin||function(n,i){var a=E(this),o=eb(a.length),s=ek(n,o),c=ek(i,o),u=arguments.length>2?arguments[2]:void 0,d=nq((void 0===u?o:ek(u,o))-c,o-s),l=1;for(c<s&&s<c+d&&(l=-1,c+=d-1,s+=d-1);d-- >0;)c in a?a[s]=a[c]:delete a[s],s+=l,c+=l;return a},n$=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("copyWithin",function(n,i){return nQ.call(n$(this),n,i,arguments.length>2?arguments[2]:void 0)});var n0=nA.every,n1=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("every",function(n){return n0(n1(this),n,arguments.length>1?arguments[1]:void 0)});var n2=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("fill",function(n){return rL.apply(n2(this),arguments)});var n3=ti("species"),n4=function(n,i){var a,o=B(n).constructor;return void 0===o||null==(a=B(o)[n3])?i:nh(a)},n6=rw.aTypedArrayConstructor,n7=nA.filter,n5=function(n,i){for(var a=n4(n,n.constructor),o=0,s=i.length,c=new(n6(a))(s);s>o;)c[o]=i[o++];return c},n8=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("filter",function(n){var i=n7(n8(this),n,arguments.length>1?arguments[1]:void 0);return n5(this,i)});var n9=nA.find,ie=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("find",function(n){return n9(ie(this),n,arguments.length>1?arguments[1]:void 0)});var it=nA.findIndex,ir=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("findIndex",function(n){return it(ir(this),n,arguments.length>1?arguments[1]:void 0)});var ii=nA.forEach,ia=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("forEach",function(n){ii(ia(this),n,arguments.length>1?arguments[1]:void 0)});var io=ex.includes,is=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("includes",function(n){return io(is(this),n,arguments.length>1?arguments[1]:void 0)});var ic=ex.indexOf,iu=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("indexOf",function(n){return ic(iu(this),n,arguments.length>1?arguments[1]:void 0)});var id=ti("iterator"),il=s.Uint8Array,ih=tK.values,ip=tK.keys,iv=tK.entries,ig=rw.aTypedArray,iy=rw.exportTypedArrayMethod,im=il&&il.prototype[id],i_=!!im&&("values"==im.name||null==im.name),ib=function(){return ih.call(ig(this))};iy("entries",function(){return iv.call(ig(this))}),iy("keys",function(){return ip.call(ig(this))}),iy("values",ib,!i_),iy(id,ib,!i_);var iA=rw.aTypedArray,iw=[].join;(0,rw.exportTypedArrayMethod)("join",function(n){return iw.apply(iA(this),arguments)});var ik=function(n,i){var a=[][n];return!!a&&u(function(){a.call(null,i||function(){throw 1},1)})},iE=Math.min,ix=[].lastIndexOf,iS=!!ix&&1/[1].lastIndexOf(1,-0)<0,iT=ik("lastIndexOf"),iI=iS||!iT?function(n){if(iS)return ix.apply(this,arguments)||0;var i=A(this),a=eb(i.length),o=a-1;for(arguments.length>1&&(o=iE(o,em(arguments[1]))),o<0&&(o=a+o);o>=0;o--)if(o in i&&i[o]===n)return o||0;return -1}:ix,iR=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("lastIndexOf",function(n){return iI.apply(iR(this),arguments)});var iC=nA.map,iD=rw.aTypedArray,iO=rw.aTypedArrayConstructor;(0,rw.exportTypedArrayMethod)("map",function(n){return iC(iD(this),n,arguments.length>1?arguments[1]:void 0,function(n,i){return new(iO(n4(n,n.constructor)))(i)})});var iB=function(n){return function(i,a,o,s){nh(a);var c=E(i),u=_(c),d=eb(c.length),l=n?d-1:0,f=n?-1:1;if(o<2)for(;;){if(l in u){s=u[l],l+=f;break}if(l+=f,n?l<0:d<=l)throw TypeError("Reduce of empty array with no initial value")}for(;n?l>=0:d>l;l+=f)l in u&&(s=a(s,u[l],l,c));return s}},iP={left:iB(!1),right:iB(!0)},iL=iP.left,iM=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("reduce",function(n){return iL(iM(this),n,arguments.length,arguments.length>1?arguments[1]:void 0)});var iN=iP.right,iU=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("reduceRight",function(n){return iN(iU(this),n,arguments.length,arguments.length>1?arguments[1]:void 0)});var iF=rw.aTypedArray,ij=rw.exportTypedArrayMethod,iV=Math.floor;ij("reverse",function(){for(var n,i=iF(this).length,a=iV(i/2),o=0;o<a;)n=this[o],this[o++]=this[--i],this[i]=n;return this});var iZ=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("set",function(n){iZ(this);var i=ns(arguments.length>1?arguments[1]:void 0,1),a=this.length,o=E(n),s=eb(o.length),c=0;if(s+i>a)throw RangeError("Wrong length");for(;c<s;)this[i+c]=o[c++]},u(function(){new Int8Array(1).set({})}));var iH=rw.aTypedArray,iG=rw.aTypedArrayConstructor,iW=[].slice;(0,rw.exportTypedArrayMethod)("slice",function(n,i){for(var a=iW.call(iH(this),n,i),o=n4(this,this.constructor),s=0,c=a.length,u=new(iG(o))(c);c>s;)u[s]=a[s++];return u},u(function(){new Int8Array(1).slice()}));var iz=nA.some,iY=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("some",function(n){return iz(iY(this),n,arguments.length>1?arguments[1]:void 0)});var iK=rw.aTypedArray,iX=[].sort;(0,rw.exportTypedArrayMethod)("sort",function(n){return iX.call(iK(this),n)});var iJ=rw.aTypedArray;(0,rw.exportTypedArrayMethod)("subarray",function(n,i){var a=iJ(this),o=a.length,s=ek(n,o);return new(n4(a,a.constructor))(a.buffer,a.byteOffset+s*a.BYTES_PER_ELEMENT,eb((void 0===i?o:ek(i,o))-s))});var iq=s.Int8Array,iQ=rw.aTypedArray,i$=rw.exportTypedArrayMethod,i0=[].toLocaleString,i1=[].slice,i2=!!iq&&u(function(){i0.call(new iq(1))});i$("toLocaleString",function(){return i0.apply(i2?i1.call(iQ(this)):iQ(this),arguments)},u(function(){return[1,2].toLocaleString()!=new iq([1,2]).toLocaleString()})||!u(function(){iq.prototype.toLocaleString.call([1,2])}));var i3=rw.exportTypedArrayMethod,i4=s.Uint8Array,i6=i4&&i4.prototype||{},i7=[].toString,i5=[].join;u(function(){i7.call({})})&&(i7=function(){return i5.call(this)});var i8=i6.toString!=i7;i3("toString",i7,i8);var i9=nA.forEach,ae=ik("forEach")?[].forEach:function(n){return i9(this,n,arguments.length>1?arguments[1]:void 0)};for(var at in t0){var ar=s[at],an=ar&&ar.prototype;if(an&&an.forEach!==ae)try{L(an,"forEach",ae)}catch(n){an.forEach=ae}}ej({target:"Object",stat:!0,forced:u(function(){ta(1)})},{keys:function(n){return ta(E(n))}});var ai,aa,ao,as=s.Promise,ac=function(n){var i=n.return;if(void 0!==i)return B(i.call(n)).value},au=function(n,i){this.stopped=n,this.result=i},ad=function(n,i,a){var o,s,c,u,d,l,f,h=a&&a.that,p=!(!a||!a.AS_ENTRIES),v=!(!a||!a.IS_ITERATOR),g=!(!a||!a.INTERRUPTED),y=np(i,h,1+p+g),m=function(n){return o&&ac(o),new au(!0,n)},_=function(n){return p?(B(n),g?y(n[0],n[1],m):y(n[0],n[1])):g?y(n,m):y(n)};if(v)o=n;else{if("function"!=typeof(s=nu(n)))throw TypeError("Target is not iterable");if(nf(s)){for(c=0,u=eb(n.length);u>c;c++)if((d=_(n[c]))&&d instanceof au)return d;return new au(!1)}o=s.call(n)}for(l=o.next;!(f=l.call(o)).done;){try{d=_(f.value)}catch(n){throw ac(o),n}if("object"==typeof d&&d&&d instanceof au)return d}return new au(!1)},al=/(?:iphone|ipod|ipad).*applewebkit/i.test(e3),af="process"==y(s.process),ah=s.location,ap=s.setImmediate,av=s.clearImmediate,ag=s.process,ay=s.MessageChannel,am=s.Dispatch,a_=0,ab={},aA="onreadystatechange",aw=function(n){if(ab.hasOwnProperty(n)){var i=ab[n];delete ab[n],i()}},ak=function(n){return function(){aw(n)}},aE=function(n){aw(n.data)},ax=function(n){s.postMessage(n+"",ah.protocol+"//"+ah.host)};ap&&av||(ap=function(n){for(var i=[],a=1;arguments.length>a;)i.push(arguments[a++]);return ab[++a_]=function(){("function"==typeof n?n:Function(n)).apply(void 0,i)},ai(a_),a_},av=function(n){delete ab[n]},af?ai=function(n){ag.nextTick(ak(n))}:am&&am.now?ai=function(n){am.now(ak(n))}:ay&&!al?(ao=(aa=new ay).port2,aa.port1.onmessage=aE,ai=np(ao.postMessage,ao,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&ah&&"file:"!==ah.protocol&&!u(ax)?(ai=ax,s.addEventListener("message",aE,!1)):ai=aA in R("script")?function(n){ts.appendChild(R("script"))[aA]=function(){ts.removeChild(this),aw(n)}}:function(n){setTimeout(ak(n),0)});var aS,aT,aI,aR,aC,aD,aO,aB,aP=ap,aL=/web0s(?!.*chrome)/i.test(e3),aM=c.f,aN=s.MutationObserver||s.WebKitMutationObserver,aU=s.document,aF=s.process,aj=s.Promise,aV=aM(s,"queueMicrotask"),aZ=aV&&aV.value;aZ||(aS=function(){var n,i;for(af&&(n=aF.domain)&&n.exit();aT;){i=aT.fn,aT=aT.next;try{i()}catch(n){throw aT?aR():aI=void 0,n}}aI=void 0,n&&n.enter()},al||af||aL||!aN||!aU?aj&&aj.resolve?((aO=aj.resolve(void 0)).constructor=aj,aB=aO.then,aR=function(){aB.call(aO,aS)}):aR=af?function(){aF.nextTick(aS)}:function(){aP.call(s,aS)}:(aC=!0,aD=aU.createTextNode(""),new aN(aS).observe(aD,{characterData:!0}),aR=function(){aD.data=aC=!aC}));var aH=aZ||function(n){var i={fn:n,next:void 0};aI&&(aI.next=i),aT||(aT=i,aR()),aI=i},aG={},aW=function(n){var i,a;this.promise=new n(function(n,o){if(void 0!==i||void 0!==a)throw TypeError("Bad Promise constructor");i=n,a=o}),this.resolve=nh(i),this.reject=nh(a)};aG.f=function(n){return new aW(n)};var az,aY,aK,aX,aJ="object"==typeof window,aq=aP,aQ=function(n,i){if(B(n),w(i)&&i.constructor===n)return i;var a=aG.f(n);return(0,a.resolve)(i),a.promise},a$=function(n,i){var a=s.console;a&&a.error&&(1==arguments.length?a.error(n):a.error(n,i))},a0=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}},a1=ti("species"),a2="Promise",a3=ec.get,a4=ec.set,a6=ec.getterFor(a2),a7=as&&as.prototype,a5=as,a8=a7,a9=s.TypeError,oe=s.document,ot=s.process,or=aG.f,on=or,oi=!!(oe&&oe.createEvent&&s.dispatchEvent),oa="function"==typeof PromiseRejectionEvent,oo="unhandledrejection",os=!1,oc=eB(a2,function(){var n=V(a5)!==String(a5);if(!n&&66===e8)return!0;if(e8>=51&&/native code/.test(a5))return!1;var i=new a5(function(n){n(1)}),a=function(n){n(function(){},function(){})};return(i.constructor={})[a1]=a,!(os=i.then(function(){}) instanceof a)||!n&&aJ&&!oa}),ou=oc||!ri(function(n){a5.all(n).catch(function(){})}),od=function(n){var i;return!(!w(n)||"function"!=typeof(i=n.then))&&i},ol=function(n,i){if(!n.notified){n.notified=!0;var a=n.reactions;aH(function(){for(var o=n.value,s=1==n.state,c=0;a.length>c;){var u,d,l,f=a[c++],h=s?f.ok:f.fail,p=f.resolve,v=f.reject,g=f.domain;try{h?(s||(2===n.rejection&&ov(n),n.rejection=1),!0===h?u=o:(g&&g.enter(),u=h(o),g&&(g.exit(),l=!0)),u===f.promise?v(a9("Promise-chain cycle")):(d=od(u))?d.call(u,p,v):p(u)):v(o)}catch(n){g&&!l&&g.exit(),v(n)}}n.reactions=[],n.notified=!1,i&&!n.rejection&&oh(n)})}},of=function(n,i,a){var o,c;oi?((o=oe.createEvent("Event")).promise=i,o.reason=a,o.initEvent(n,!1,!0),s.dispatchEvent(o)):o={promise:i,reason:a},!oa&&(c=s["on"+n])?c(o):n===oo&&a$("Unhandled promise rejection",a)},oh=function(n){aq.call(s,function(){var i,a=n.facade,o=n.value;if(op(n)&&(i=a0(function(){af?ot.emit("unhandledRejection",o,a):of(oo,a,o)}),n.rejection=af||op(n)?2:1,i.error))throw i.value})},op=function(n){return 1!==n.rejection&&!n.parent},ov=function(n){aq.call(s,function(){var i=n.facade;af?ot.emit("rejectionHandled",i):of("rejectionhandled",i,n.value)})},og=function(n,i,a){return function(o){n(i,o,a)}},oy=function(n,i,a){n.done||(n.done=!0,a&&(n=a),n.value=i,n.state=2,ol(n,!0))},om=function(n,i,a){if(!n.done){n.done=!0,a&&(n=a);try{if(n.facade===i)throw a9("Promise can't be resolved itself");var o=od(i);o?aH(function(){var a={done:!1};try{o.call(i,og(om,a,n),og(oy,a,n))}catch(i){oy(a,i,n)}}):(n.value=i,n.state=1,ol(n,!1))}catch(i){oy({done:!1},i,n)}}};if(oc&&(a8=(a5=function(n){rI(this,a5,a2),nh(n),az.call(this);var i=a3(this);try{n(og(om,i),og(oy,i))}catch(n){oy(i,n)}}).prototype,(az=function(n){a4(this,{type:a2,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=rT(a8,{then:function(n,i){var a=a6(this),o=or(n4(this,a5));return o.ok="function"!=typeof n||n,o.fail="function"==typeof i&&i,o.domain=af?ot.domain:void 0,a.parent=!0,a.reactions.push(o),0!=a.state&&ol(a,!1),o.promise},catch:function(n){return this.then(void 0,n)}}),aY=function(){var n=new az,i=a3(n);this.promise=n,this.resolve=og(om,i),this.reject=og(oy,i)},aG.f=or=function(n){return n===a5||n===aK?new aY(n):on(n)},"function"==typeof as&&a7!==Object.prototype)){aX=a7.then,os||(ef(a7,"then",function(n,i){var a=this;return new a5(function(n,i){aX.call(a,n,i)}).then(n,i)},{unsafe:!0}),ef(a7,"catch",a8.catch,{unsafe:!0}));try{delete a7.constructor}catch(n){}tP&&tP(a7,a8)}ej({global:!0,wrap:!0,forced:oc},{Promise:a5}),tD(a5,a2,!1),nk(a2),aK=ep(a2),ej({target:a2,stat:!0,forced:oc},{reject:function(n){var i=or(this);return i.reject.call(void 0,n),i.promise}}),ej({target:a2,stat:!0,forced:oc},{resolve:function(n){return aQ(this,n)}}),ej({target:a2,stat:!0,forced:ou},{all:function(n){var i=this,a=or(i),o=a.resolve,s=a.reject,c=a0(function(){var a=nh(i.resolve),c=[],u=0,d=1;ad(n,function(n){var l=u++,f=!1;c.push(void 0),d++,a.call(i,n).then(function(n){f||(f=!0,c[l]=n,--d||o(c))},s)}),--d||o(c)});return c.error&&s(c.value),a.promise},race:function(n){var i=this,a=or(i),o=a.reject,s=a0(function(){var s=nh(i.resolve);ad(n,function(n){s.call(i,n).then(a.resolve,o)})});return s.error&&o(s.value),a.promise}});var o_=function(n,i,a){var o=k(i);o in n?O.f(n,o,v(0,a)):n[o]=a},ob=ti("species"),oA=function(n){return e8>=51||!u(function(){var i=[];return(i.constructor={})[ob]=function(){return{foo:1}},1!==i[n](Boolean).foo})},ow=ti("isConcatSpreadable"),ok="Maximum allowed index exceeded",oE=e8>=51||!u(function(){var n=[];return n[ow]=!1,n.concat()[0]!==n}),ox=oA("concat"),oS=function(n){if(!w(n))return!1;var i=n[ow];return void 0!==i?!!i:ng(n)};ej({target:"Array",proto:!0,forced:!oE||!ox},{concat:function(n){var i,a,o,s,c,u=E(this),d=nm(u,0),l=0;for(i=-1,o=arguments.length;i<o;i++)if(oS(c=-1===i?u:arguments[i])){if(l+(s=eb(c.length))>9007199254740991)throw TypeError(ok);for(a=0;a<s;a++,l++)a in c&&o_(d,l,c[a])}else{if(l>=9007199254740991)throw TypeError(ok);o_(d,l++,c)}return d.length=l,d}}),nJ("Uint16",function(n){return function(i,a,o){return n(this,i,a,o)}});var oT={exports:{}};!function(n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}function s(n,i,a){this.fn=n,this.context=i,this.once=a||!1}function c(n,i,o,c,u){if("function"!=typeof o)throw TypeError("The listener must be a function");var d=new s(o,c||n,u),l=a?a+i:i;return n._events[l]?n._events[l].fn?n._events[l]=[n._events[l],d]:n._events[l].push(d):(n._events[l]=d,n._eventsCount++),n}function u(n,i){0==--n._eventsCount?n._events=new o:delete n._events[i]}function d(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(a=!1)),d.prototype.eventNames=function(){var n,o,s=[];if(0===this._eventsCount)return s;for(o in n=this._events)i.call(n,o)&&s.push(a?o.slice(1):o);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(n)):s},d.prototype.listeners=function(n){var i=a?a+n:n,o=this._events[i];if(!o)return[];if(o.fn)return[o.fn];for(var s=0,c=o.length,u=Array(c);s<c;s++)u[s]=o[s].fn;return u},d.prototype.listenerCount=function(n){var i=a?a+n:n,o=this._events[i];return o?o.fn?1:o.length:0},d.prototype.emit=function(n,i,o,s,c,u){var d=a?a+n:n;if(!this._events[d])return!1;var l,f,h=this._events[d],p=arguments.length;if(h.fn){switch(h.once&&this.removeListener(n,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,i),!0;case 3:return h.fn.call(h.context,i,o),!0;case 4:return h.fn.call(h.context,i,o,s),!0;case 5:return h.fn.call(h.context,i,o,s,c),!0;case 6:return h.fn.call(h.context,i,o,s,c,u),!0}for(f=1,l=Array(p-1);f<p;f++)l[f-1]=arguments[f];h.fn.apply(h.context,l)}else{var v,g=h.length;for(f=0;f<g;f++)switch(h[f].once&&this.removeListener(n,h[f].fn,void 0,!0),p){case 1:h[f].fn.call(h[f].context);break;case 2:h[f].fn.call(h[f].context,i);break;case 3:h[f].fn.call(h[f].context,i,o);break;case 4:h[f].fn.call(h[f].context,i,o,s);break;default:if(!l)for(v=1,l=Array(p-1);v<p;v++)l[v-1]=arguments[v];h[f].fn.apply(h[f].context,l)}}return!0},d.prototype.on=function(n,i,a){return c(this,n,i,a,!1)},d.prototype.once=function(n,i,a){return c(this,n,i,a,!0)},d.prototype.removeListener=function(n,i,o,s){var c=a?a+n:n;if(!this._events[c])return this;if(!i)return u(this,c),this;var d=this._events[c];if(d.fn)d.fn!==i||s&&!d.once||o&&d.context!==o||u(this,c);else{for(var l=0,f=[],h=d.length;l<h;l++)(d[l].fn!==i||s&&!d[l].once||o&&d[l].context!==o)&&f.push(d[l]);f.length?this._events[c]=1===f.length?f[0]:f:u(this,c)}return this},d.prototype.removeAllListeners=function(n){var i;return n?(i=a?a+n:n,this._events[i]&&u(this,i)):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,n.exports=d}(oT);var oI=a(oT.exports),oR=function(){var n=B(this),i="";return n.global&&(i+="g"),n.ignoreCase&&(i+="i"),n.multiline&&(i+="m"),n.dotAll&&(i+="s"),n.unicode&&(i+="u"),n.sticky&&(i+="y"),i},oC={};function oD(n,i){return RegExp(n,i)}oC.UNSUPPORTED_Y=u(function(){var n=RegExp("a","y");return n.lastIndex=2,null!=n.exec("abcd")}),oC.BROKEN_CARET=u(function(){var n=RegExp("^r","gy");return n.lastIndex=2,null!=n.exec("str")});var oO,oB,oP=RegExp.prototype.exec,oL=K("native-string-replace",String.prototype.replace),oM=oP,oN=(oO=/a/,oB=/b*/g,oP.call(oO,"a"),oP.call(oB,"a"),0!==oO.lastIndex||0!==oB.lastIndex),oU=oC.UNSUPPORTED_Y||oC.BROKEN_CARET,oF=void 0!==/()??/.exec("")[1];(oN||oF||oU)&&(oM=function(n){var i,a,o,s,c=oU&&this.sticky,u=oR.call(this),d=this.source,l=0,f=n;return c&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),f=String(n).slice(this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==n[this.lastIndex-1])&&(d="(?: "+d+")",f=" "+f,l++),a=RegExp("^(?:"+d+")",u)),oF&&(a=RegExp("^"+d+"$(?!\\s)",u)),oN&&(i=this.lastIndex),o=oP.call(c?a:this,f),c?o?(o.input=o.input.slice(l),o[0]=o[0].slice(l),o.index=this.lastIndex,this.lastIndex+=o[0].length):this.lastIndex=0:oN&&o&&(this.lastIndex=this.global?o.index+o[0].length:i),oF&&o&&o.length>1&&oL.call(o[0],a,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)}),o});var oj=oM;ej({target:"RegExp",proto:!0,forced:/./.exec!==oj},{exec:oj});var oV=ti("species"),oZ=RegExp.prototype,oH=!u(function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}),oG="$0"==="a".replace(/./,"$0"),oW=ti("replace"),oz=!!/./[oW]&&""===/./[oW]("a","$0"),oY=!u(function(){var n=/(?:)/,i=n.exec;n.exec=function(){return i.apply(this,arguments)};var a="ab".split(n);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}),oK=function(n,i,a,o){var s=ti(n),c=!u(function(){var i={};return i[s]=function(){return 7},7!=""[n](i)}),d=c&&!u(function(){var i=!1,a=/a/;return"split"===n&&((a={}).constructor={},a.constructor[oV]=function(){return a},a.flags="",a[s]=/./[s]),a.exec=function(){return i=!0,null},a[s](""),!i});if(!c||!d||"replace"===n&&(!oH||!oG||oz)||"split"===n&&!oY){var l=/./[s],f=a(s,""[n],function(n,i,a,o,s){var u=i.exec;return u===oj||u===oZ.exec?c&&!s?{done:!0,value:l.call(i,a,o)}:{done:!0,value:n.call(a,i,o)}:{done:!1}},{REPLACE_KEEPS_$0:oG,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:oz}),h=f[0],p=f[1];ef(String.prototype,n,h),ef(oZ,s,2==i?function(n,i){return p.call(n,this,i)}:function(n){return p.call(n,this)})}o&&L(oZ[s],"sham",!0)},oX=function(n){return function(i,a){var o,s,c=String(b(i)),u=em(a),d=c.length;return u<0||u>=d?n?"":void 0:(o=c.charCodeAt(u))<55296||o>56319||u+1===d||(s=c.charCodeAt(u+1))<56320||s>57343?n?c.charAt(u):o:n?c.slice(u,u+2):s-56320+(o-55296<<10)+65536}},oJ={codeAt:oX(!1),charAt:oX(!0)},oq=oJ.charAt,oQ=function(n,i,a){return i+(a?oq(n,i).length:1)},o$=Math.floor,o0="".replace,o1=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o2=/\$([$&'`]|\d{1,2})/g,o3=function(n,i){var a=n.exec;if("function"==typeof a){var o=a.call(n,i);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==y(n))throw TypeError("RegExp#exec called on incompatible receiver");return oj.call(n,i)},o4=function(n,i,a,o,s,c){var u=a+n.length,d=o.length,l=o2;return void 0!==s&&(s=E(s),l=o1),o0.call(c,l,function(c,l){var f;switch(l.charAt(0)){case"$":return"$";case"&":return n;case"`":return i.slice(0,a);case"'":return i.slice(u);case"<":f=s[l.slice(1,-1)];break;default:var h=+l;if(0===h)return c;if(h>d){var p=o$(h/10);return 0===p?c:p<=d?void 0===o[p-1]?l.charAt(1):o[p-1]+l.charAt(1):c}f=o[h-1]}return void 0===f?"":f})},o6=Math.max,o7=Math.min;oK("replace",2,function(n,i,a,o){var s=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,c=o.REPLACE_KEEPS_$0,u=s?"$":"$0";return[function(a,o){var s=b(this),c=null==a?void 0:a[n];return void 0!==c?c.call(a,s,o):i.call(String(s),a,o)},function(n,o){if(!s&&c||"string"==typeof o&&-1===o.indexOf(u)){var d=a(i,n,this,o);if(d.done)return d.value}var l=B(n),f=String(this),h="function"==typeof o;h||(o=String(o));var p=l.global;if(p){var v=l.unicode;l.lastIndex=0}for(var g=[];;){var y=o3(l,f);if(null===y||(g.push(y),!p))break;""===String(y[0])&&(l.lastIndex=oQ(f,eb(l.lastIndex),v))}for(var m,_="",b=0,A=0;A<g.length;A++){y=g[A];for(var w=String(y[0]),k=o6(o7(em(y.index),f.length),0),E=[],x=1;x<y.length;x++)E.push(void 0===(m=y[x])?m:String(m));var S=y.groups;if(h){var T=[w].concat(E,k,f);void 0!==S&&T.push(S);var I=String(o.apply(void 0,T))}else I=o4(w,f,k,E,S,o);k>=b&&(_+=f.slice(b,k)+I,b=k+w.length)}return _+f.slice(b)}]});var o5="toString",o8=RegExp.prototype,o9=o8[o5],se=u(function(){return"/a/b"!=o9.call({source:"a",flags:"b"})}),st=o9.name!=o5;(se||st)&&ef(RegExp.prototype,o5,function(){var n=B(this),i=String(n.source),a=n.flags;return"/"+i+"/"+String(void 0===a&&n instanceof RegExp&&!("flags"in o8)?oR.call(n):a)},{unsafe:!0});var sr=oA("slice"),sn=ti("species"),si=[].slice,sa=Math.max;ej({target:"Array",proto:!0,forced:!sr},{slice:function(n,i){var a,o,s,c=A(this),u=eb(c.length),d=ek(n,u),l=ek(void 0===i?u:i,u);if(ng(c)&&("function"==typeof(a=c.constructor)&&(a===Array||ng(a.prototype))?a=void 0:w(a)&&null===(a=a[sn])&&(a=void 0),a===Array||void 0===a))return si.call(c,d,l);for(o=new(void 0===a?Array:a)(sa(l-d,0)),s=0;d<l;d++,s++)d in c&&o_(o,s,c[d]);return o.length=s,o}});var so="ArrayBuffer",ss=na[so];ej({global:!0,forced:s[so]!==ss},{ArrayBuffer:ss}),nk(so);var sc=[].join,su=_!=Object,sd=ik("join",",");ej({target:"Array",proto:!0,forced:su||!sd},{join:function(n){return sc.call(A(this),void 0===n?",":n)}});var sl=nA.map;ej({target:"Array",proto:!0,forced:!oA("map")},{map:function(n){return sl(this,n,arguments.length>1?arguments[1]:void 0)}});var sf="[	\n\v\f\r \xa0              　\u2028\u2029\uFEFF]",sh=RegExp("^"+sf+sf+"*"),sp=RegExp(sf+sf+"*$"),sv=function(n){return function(i){var a=String(b(i));return 1&n&&(a=a.replace(sh,"")),2&n&&(a=a.replace(sp,"")),a}},sg={start:sv(1),end:sv(2),trim:sv(3)},sy=ev.f,sm=c.f,s_=O.f,sb=sg.trim,sA="Number",sw=s[sA],sk=sw.prototype,sE=y(tp(sk))==sA,sx=function(n){var i,a,o,s,c,u,d,l,f=k(n,!1);if("string"==typeof f&&f.length>2){if(43===(i=(f=sb(f)).charCodeAt(0))||45===i){if(88===(a=f.charCodeAt(2))||120===a)return NaN}else if(48===i){switch(f.charCodeAt(1)){case 66:case 98:o=2,s=49;break;case 79:case 111:o=8,s=55;break;default:return+f}for(u=(c=f.slice(2)).length,d=0;d<u;d++)if((l=c.charCodeAt(d))<48||l>s)return NaN;return parseInt(c,o)}}return+f};if(eB(sA,!sw(" 0o1")||!sw("0b1")||sw("+0x1"))){for(var sS,sT=function(n){var i=arguments.length<1?0:n,a=this;return a instanceof sT&&(sE?u(function(){sk.valueOf.call(a)}):y(a)!=sA)?nE(new sw(sx(i)),a,sT):sx(i)},sI=d?sy(sw):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),sR=0;sI.length>sR;sR++)S(sw,sS=sI[sR])&&!S(sT,sS)&&s_(sT,sS,sm(sw,sS));sT.prototype=sk,sk.constructor=sT,ef(s,sA,sT)}function sC(n){for(var i="",a=0;a<n.length;a+=16e3){var o=n.subarray(a,a+16e3);i+=String.fromCharCode.apply(null,o)}return i}oK("match",1,function(n,i,a){return[function(i){var a=b(this),o=null==i?void 0:i[n];return void 0!==o?o.call(i,a):new RegExp(i)[n](String(a))},function(n){var o=a(i,n,this);if(o.done)return o.value;var s=B(n),c=String(this);if(!s.global)return o3(s,c);var u=s.unicode;s.lastIndex=0;for(var d,l=[],f=0;null!==(d=o3(s,c));){var h=String(d[0]);l[f]=h,""===h&&(s.lastIndex=oQ(c,eb(s.lastIndex),u)),f++}return 0===f?null:l}]});var sD,sO,sB,sP,sL,sM,sN,sU,sF=(sB="vodTimestampSalt",sP=function(n){return n.split("").map(function(n){return n.charCodeAt(0)})},sL=function(n){return"0".concat(Number(n).toString(16)).substr(-2)},sM=function(n){return sP(sB).reduce(function(n,i){return n^i},n)},function(n){return n.split("").map(sP).map(sM).map(sL).join("")}),sj=(sD="vodTimestampSalt",sO=function(n){return sD.split("").map(function(n){return n.charCodeAt(0)}).reduce(function(n,i){return n^i},n)},function(n){return n.match(/.{1,2}/g).map(function(n){return parseInt(n,16)}).map(sO).map(function(n){return String.fromCharCode(n)}).join("")}),sV={str2hex:function(n){if(""===n)return"";for(var i=[],a=0;a<n.length;a++)i.push(n.charCodeAt(a));return i},Base64ToHex:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=window.atob(n.replace(/-/g,"+").replace(/_/g,"/"));if(i){for(var o=[],s=0;s<a.length;s++)o.push(a.charCodeAt(s));return new Uint8Array(o).buffer}for(var c="",u=0;u<a.length;u++)c+="0".concat(a.charCodeAt(u).toString(16)).substr(-2);return c},checkUnionInfoExpired:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if(0===i.indexOf(n)){var o=parseInt(sj(i.slice(n.length))),s=(new Date).getTime()-o;if(s>0&&s<=1e3*a)return!0}return!1},getUnionInfo:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(sF((new Date).getTime().toString()))},StringToArrayBuffer:function(n){for(var i=new ArrayBuffer(n.length),a=new Uint8Array(i),o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return i},ArrayBufferToString:function(n){var i=[];n=ArrayBuffer.isView(n)?n:new Uint8Array(n);for(var a=0;a<n.length;a++)i.push(String.fromCharCode(n[a]));return i.join("")},isBase64:function(n){return/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(n)},fromCharCode:sC,fromHex:function(n){for(var i=new Uint8Array(n.length/2),a=0;a<n.length;a+=2)i[a/2]=window.parseInt(n.substr(a,2),16);return i},toUTF8:function(n){for(var i=encodeURIComponent(n),a=unescape(i),o=new Uint8Array(a.length),s=0;s<a.length;++s)o[s]=a.charCodeAt(s);return o.buffer},toBase64:function(n,i){var a=sC(n);i=void 0===i||i;var o=window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_");return i?o:o.replace(/=*$/,"")}};n.EVENT_EME=void 0,function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 31:y[++g]=!1;break;case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 36:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=l<<16>>16;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 28:y[++g]=c;break;case 53:l=(u[i]<<8)+u[i+1],i+=2,g=g-l+1,f=y.slice(g,g+l),y[g]=f;break;case 18:y[++g]={};break;case 9:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 46:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 42:f=y[g--],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 6:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],p=y[g--],h[f]=p;break;case 48:f=y[g--],h=y[g--],p=y[g--],h[f]=p;break;case 65:for(f=u[i++],h=u[i++],p=_,p=_;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 15:f=y[g--],p=(h=y[g--])[f]++,y[++g]=p;break;case 24:f=y[g--],y[g]=y[g]===f;break;case 76:f=y[g--],y[g]=y[g]!==f;break;case 72:y[g]=!y[g];break;case 54:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 35:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 13:y[g]=void 0;break;case 62:f=y[g--],p=delete(h=y[g--])[f],y[++g]=p;break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 17:l=u[i++],f=y[g--],(p=[h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)}]).p=_,h._v=[f,l,p],h._u=n,y[++g]=h;break;case 11:throw f=y[g--];case 21:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101df0839f000000f58f1380bdf00000f8a3a00012e00013a0002303a00032e00013a0004303a00052e00013a0005303a00062e00013a0006302e000115250000013d0101080003432e02112e00032e00014a0202432e02122e00034a01080002432e020f2e0003123a002b09002d25000008b71102090031123a003209002d25000009741101090031123a003309002d25000009ae1100090031123a002709002d25000009ec1101090031123a002209002d2500000a0c1101090031123a004909002d2500000b061100090031123a001809002d2500000b081103090031123a005009002d2500000b9e1101090031123a005109002d2500000bb01101090031123a005409002d2500000c521101090031123a002309002d2500000c801101090031123a007809002d2500000eac1101090031123a008009002d2500000f49110009003135000d4a02022e000315432e030e1c2e01034a02022e0102332000071c4a010800023a00082e0002060009122e000206000a3d000d2e000206000b2e03152e0002060000432e000206000c3d002e000206000d25000001c001012e000206002a3500002e00020600192e00023320002b2e00014a01022e00023320002c3a00032e000220002a4a02022e000215432e04102e01024a010800022e000220000c080003432e04102e01024a010800042e0003481000021d152e01022000093a000e181000333a000f0800052e040033200010123a00113500010900124a010800062e04012e0414332000132e00064a01490108000714054f2e01022000093a0014181000b93a00150800052e000136000b2e04012e000120001649012300992e04013d003d003d003d433d703d733d733d683d003d003d003d002400ed2400ef24008b2400a93d792400d63d4a2400ce2400a32400c83d272400dc2400d53d1d3d212400ed3d003d003d003d233d083d013d123d103d333d333d333d333d333d333d333d333d333d333d333d333d003d003d003d003d1a3d0a3d693d6e3d743d653d723d743d723d753d733d743d223d013d2a35004349010800071404892e01022000093a00171810047c3a00150800052e000136000b2e04012e0001200016490123045f2e04013d003d003d023d263d703d733d733d683d003d003d003d0024009a3d042400f03d792400983d403d422400862400ab2400922400e63d5b2400e02400883d5f2400953d003d003d023d063d063d023d003d003d013d003d013d002400fc3d013d3c3d003d573d003d523d003d4d3d003d483d003d453d003d413d003d443d003d453d003d523d003d203d003d783d003d6d3d003d6c3d003d6e3d003d733d003d3d3d003d223d003d683d003d743d003d743d003d703d003d3a3d003d2f3d003d2f3d003d733d003d633d003d683d003d653d003d6d3d003d613d003d733d003d2e3d003d6d3d003d693d003d633d003d723d003d6f3d003d733d003d6f3d003d663d003d743d003d2e3d003d633d003d6f3d003d6d3d003d2f3d003d443d003d523d003d4d3d003d2f3d003d323d003d303d003d303d003d373d003d2f3d003d303d003d333d003d2f3d003d503d003d6c3d003d613d003d793d003d523d003d653d003d613d003d643d003d793d003d483d003d653d003d613d003d643d003d653d003d723d003d223d003d203d003d763d003d653d003d723d003d733d003d693d003d6f3d003d6e3d003d3d3d003d223d003d343d003d2e3d003d303d003d2e3d003d303d003d2e3d003d303d003d223d003d3e3d003d3c3d003d443d003d413d003d543d003d413d003d3e3d003d3c3d003d503d003d523d003d4f3d003d543d003d453d003d433d003d543d003d493d003d4e3d003d463d003d4f3d003d3e3d003d3c3d003d4b3d003d453d003d593d003d4c3d003d453d003d4e3d003d3e3d003d313d003d363d003d3c3d003d2f3d003d4b3d003d453d003d593d003d4c3d003d453d003d4e3d003d3e3d003d3c3d003d413d003d4c3d003d473d003d493d003d443d003d3e3d003d413d003d453d003d533d003d433d003d543d003d523d003d3c3d003d2f3d003d413d003d4c3d003d473d003d493d003d443d003d3e3d003d3c3d003d2f3d003d503d003d523d003d4f3d003d543d003d453d003d433d003d543d003d493d003d4e3d003d463d003d4f3d003d3e3d003d3c3d003d4b3d003d493d003d443d003d3e3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d4d3d003d7a3d003d413d003d413d003d413d003d413d003d413d003d413d003d3d3d003d3d3d003d3c3d003d2f3d003d4b3d003d493d003d443d003d3e3d003d3c3d003d433d003d483d003d453d003d433d003d4b3d003d533d003d553d003d4d3d003d3e3d003d413d003d313d003d353d003d423d003d593d003d573d003d443d003d343d003d713d003d733d003d493d003d3d3d003d3c3d003d2f3d003d433d003d483d003d453d003d433d003d4b3d003d533d003d553d003d4d3d003d3e3d003d3c3d003d2f3d003d443d003d413d003d543d003d413d003d3e3d003d3c3d003d2f3d003d573d003d523d003d4d3d003d483d003d453d003d413d003d443d003d453d003d523d003d3e3d0035022649010800072e0004332000182e00032e00042000092e00042000194a033320001a25000007bc0100250000089b01004a023320001a25000008a8010025000008aa01004a02021d152e010320001b4100010e43182300072e00013d000d181000063d000d1400092e00013320001c4a000800022e0002481000092e05023a001d49010b2e010320001e3320001f2e00024a01022e01042000093a000e1810001f2e0002332000203a00212e0104332000222e010420000a4a014a02021400552e01042000093a00141810001f2e0002332000203a00212e0104200023332000242e01044a014a02021400292e01042000093a00171810001c2e0002332000203a00212e0104200023332000242e01044a014a02022e0002332000252e01052e01072000264a02152e0104332000273a00284a01151d152e0104332000273a00294a01152e0001434c3600072e00013d000d4c3600062e000120002e1000113a000e1c0600092e000120002e1c06000a2e0001434c3600072e00013d000d4c3600062e000120002e10000a3a000e1c06000914005b2e0001434c3600072e00013d000d4c3600062e000120002f1000143a00141c0600092e000120002f1c06000a14002c2e0001434c3600072e00013d000d4c3600062e00012000301000113a00171c0600092e00012000301c06000a2e00023600082e00021c3a00000e021d151c2000002e0415183600091c20000a1c2000002a10001a1c20000a1c2000002a1c20000a2e0001301c20000a2e04153e022e00011c0600001d15123a000f3a0034350002090035123a0036090037350001090038123a0039090037123a003a090037123a003b09003735000309003c3500011c0600191d152e0403332000013a003d2e00014a02021c3320003e3a00012e00014a02021d151c0800022500000a180101153500000800023500000800032e05043320000a2e01014a013320003f2500000a8601014a0102122e000209000a0800042e0500332000102e00044a010800052e0001200045332000462e0514332000472e00054a014a013320001a2500000af701002500000af901004a02021d152e02012e00012a0800022e0614332000402e00014a010800032e0614332000402e00024a01080004123a00410900422e0614332000432e00031f4a020900002e0614332000432e00041f4a020900440800052e01023320001f2e00054a01022e01033320001f2e00052000004a01021d151d152e0202332000273a00484a01151d151c0800041c20000b2300062e000120001b1000111c20000b2300092e04053320004a4a00152e04063320004b2e00022e00034a023320001a2500000b6d01012500000b7701004a023320001a2500000b8401012500000b9101004a021c06000b1c20000b152e00013320004c4a00152e0104332000273a004d4a01152e01013320004e2e00014a01152e0104332000273a004f4a01152e00011c06000c3500002e000106001e1d153a00520800022e040720005310008f1c332000542e00014a010800032e040720005349000800042e0004332000552e00033a00564a020800052e00051000152e0005332000572e00023a00584a023d002a140001430800062e00061000152e0006332000572e00023a00594a023d002a140001430800072e00071000152e0007332000572e00023a005a4a023d002a140001430800082e000810000243152e0001152e040820005b3320005c432e04012e000149014a02080002432e0409432e040a2e00024a014a010800032e0003151c0800022e040b49000800032e00033320005d3a005e1c20000a20005f4a02022500000cb901002e00030600762e0003332000774a00021d152e01032000603d04181001162e01012000210800012e01032000610800022e01022000093a0017181000332e0500332000622e01032000614a010800023a0008332000632e00022000643a00654a02332000632e00022000664a010800022e0002481000432e01023320003e3a0006123a0008332000632e010220000a20005f3a00674a02332000632e01032000683a00694a02332000632e010320006a4a0109006b4a02021d152e050b49000800032e01012000452e000306006c3a006d2e000306006e1f2e000306006f2e00033320005d3a0070432e05082e00024a014a02022e01022000093a0017181000102e0003332000713a00723a00564a02022500000ddd01002e00030600762e0003332000772e0102332000782e00014a014a01021d152e01032000603d04181000c12e01032000682400c84c10003d2e02023320003e3a0006123a0008332000632e01023a00734a02332000632e01032000683a00694a02332000632e010320006a4a0109006b4a02021d152e02023320003e3a0005122e020220000d09006b4a02022e02023a000d0f022e02022000093a0017181000152e0202332000512e01032000614a0108000114000e2e06012e010320006149010800012e010320006c332000462e00014a01332000742e0603200001332000242e06033a00754a024a01021d151c2000093a001718100089430800022e040c49000800032e040d2e000149010800042e040820005b3320005c432e00044a020800052e0003332000552e00053a00794a020800062e00063320007a3a007b4a013d002a1000332e00063320007a3a007c4a013d002a20007d3d002a20007e0800072e000710000f2e04073320007f2e00074a010800021400042e0001152e0002152e04012e00014901151c332000814a0002431c06000c1d153a000008011543250000000001012e0116230001124a0108011643250000002c01012e01134a010800012e00010801171d15008203787a77057661617c61055641415c4109767d70616a6367767709565d50414a434756571350575e4c5f5a50565d40564c404650505640401150575e4c5f5a50565d40564c5641415c410470727f7f000978766a406a6067767e0478766a600d767d6066617643617c7e7a607605657a77767c0b7f7a70767d6076406776630f7c61743d64203d707f76726178766a0678766a7a7760096067617a7d747a756a2023222120272625242b2a72717077767523222120272625242b2a72717077767504787a776006677c4647552b12707c7e3d647a7776657a7d763d727f637b720470767d70087a7d7a675772677217707c7e3d7e7a70617c607c75673d637f726a617672776a16767d606661765e76777a7258766a6050617672677677077c63677a7c7d6004677b767d097e76777a7258766a600d706176726776407660607a7c7d1955727a7f767733677c3370617672677633607660607a7c7d3d08607660607a7c7d60046366607b107277775665767d675f7a6067767d7661077e76606072747611666377726776407660607a7c7d55667d70137f7a70767d607641766266766067417672776a04717a7d770f74767d766172677641766266766067067166757576610471727a7f2f3375727a7f767733677c33767d60666176335e76777a7258766a60337c7d335b475e5f5e76777a72567f767e767d671c3355727a7f767733677c3374767d766172677633617662667660673d0d767d70616a63675b727d777f760966637772677657617e027c7d0378766a09707f76726158766a6008647a7776657a7d7609637f726a617672776a0565727f667609666377726776587a770a6076675c63677a7c7d60046476717e0d7a7d7a6757726772476a6376601d7266777a7c3c7e63272833707c777670602e317e6327723d27233d21310b707c7d67767d67476a6376117266777a7c50726372717a7f7a677a76601f657a77767c3c7e63272833707c777670602e31726570223d2721702322763124657a77767c3c7e63272833707c777670602e317b7665223d223d253d5f2221233d2a233118657a77767c3c6476717e2833707c777670602e3165632b3111657a77767c50726372717a7f7a677a76600548565e564e04767e7a6707757c615672707b0775617c7e5b766b037c70670378676a08677c51726076252701780667726174766706666377726776134067617a7d74477c526161726a5166757576611e335e76777a7258766a407660607a7c7d336663777267763375727a7f76770a78766a60507b727d7476076176607c7f65761b617662667660675e76777a7258766a406a6067767e5270707660600f7061767267765e76777a7258766a60253355727a7f767733677c33617662667660673378766a33606a6067767e337270707660603d0c6076675e76777a7258766a60223375727a7f767733677c33706176726776335e76777a7258766a60337c7179767067086076676663565e56136372616076407661657661417660637c7d60762a7b67676360293c3c60707b767e72603d6b7e7f607c72633d7c61743c607c72633c767d65767f7c63763c09575c5e4372616076610c667a7d67477c4067617a7d740f637261607655617c7e4067617a7d740867766b673c6b7e7f16747667567f767e767d6760516a4772745d727e765d4008567d65767f7c637604517c776a055572667f670c75617c7e507b7261507c7776057263637f6a047c63767d035456470960766165766146415f0a617672776a406772677608617660637c7d607605637261607606707c7d707267157f7a70767d6076527062667a607a677a7c7d46617f122c566b6361766060437f726a477c78767d2e05677c78767d2333617662667660673375727a7f76773233193333333333333333333360677267666029066067726766600c3360677267666047766b67290a60677267666047766b6704777267720a78766a407660607a7c7d0b726161726a7166757576610c617660637c7d6076476a63760f647a677b50617677767d677a727f6004435c404710607667417662667660675b76727776610c507c7d67767d673e676a63762733617662667660673375727a7f767732331933333333333333333333333333336067726766602905707267707b0f6663777267763b3a3375727a7f7677127c7d617672776a6067726776707b727d74760460767d771c7476675f7a70767d60764176626676606755617c7e5e7660607274760f7263637f7a7072677a7c7d3c6b7e7f14747667567f767e767d6760516a4772745d727e7613437f726a417672776a58766a5e76606072747609507b727f7f767d74760a707b7a7f775d7c777660097d7c777645727f66760472677c710777766067617c6a1261767e7c6576527f7f5f7a6067767d766160",{0:JSON,1:Uint8Array,2:Error,get 3(){return console},4:Object,5:Promise,get 6(){return navigator},get 7(){return window},8:String,9:decodeURIComponent,get 10(){return escape},get 11(){return XMLHttpRequest},get 12(){return DOMParser},13:Uint16Array,get 14(){return eW},get 15(){return eY},get 16(){return eQ},get 17(){return eX},get 18(){return e$},get 19(){return oI},get 20(){return sV},get 21(){return sN},set 21(e){sN=e},get 22(){return n.EVENT_EME},set 22(t){n.EVENT_EME=t},get 23(){return sU},set 23(e){sU=e}},void 0);var sZ,sH,sG=sU,sW=ti("match"),sz=O.f,sY=ev.f,sK=function(n){var i;return w(n)&&(void 0!==(i=n[sW])?!!i:"RegExp"==y(n))},sX=ec.enforce,sJ=ti("match"),sq=s.RegExp,sQ=sq.prototype,s$=/a/g,s0=/a/g,s1=new sq(s$)!==s$,s2=oC.UNSUPPORTED_Y;if(d&&eB("RegExp",!s1||s2||u(function(){return s0[sJ]=!1,sq(s$)!=s$||sq(s0)==s0||"/a/i"!=sq(s$,"i")}))){for(var s3=function(n,i){var a,o=this instanceof s3,s=sK(n),c=void 0===i;if(!o&&s&&n.constructor===s3&&c)return n;s1?s&&!c&&(n=n.source):n instanceof s3&&(c&&(i=oR.call(n)),n=n.source),s2&&(a=!!i&&i.indexOf("y")>-1)&&(i=i.replace(/y/g,""));var u=nE(s1?new sq(n,i):sq(n,i),o?this:sQ,s3);return s2&&a&&(sX(u).sticky=!0),u},s4=function(n){n in s3||sz(s3,n,{configurable:!0,get:function(){return sq[n]},set:function(i){sq[n]=i}})},s6=sY(sq),s7=0;s6.length>s7;)s4(s6[s7++]);sQ.constructor=s3,s3.prototype=sQ,ef(s,"RegExp",s3)}nk("RegExp"),n.isNativeFunction=void 0,n.checkMSEValid=void 0,n.checkEMEValid=void 0,function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 23:y[++g]=!0;break;case 31:y[++g]=!1;break;case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 53:l=(u[i]<<8)+u[i+1],i+=2,g=g-l+1,f=y.slice(g,g+l),y[g]=f;break;case 46:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 42:f=y[g--],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 65:for(f=u[i++],h=u[i++],p=_,p=_;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 56:y[g]=-y[g];break;case 24:f=y[g--],y[g]=y[g]===f;break;case 76:f=y[g--],y[g]=y[g]!==f;break;case 30:f=y[g--],y[g]=y[g]>f;break;case 54:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 35:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 13:y[g]=void 0;break;case 44:y[g]=typeof y[g];break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 21:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101df0839f0000002fdf1380bdf00000349170800022e0202332000022e00014a011000192e000133200003250000009d01022e00024a0208000214006d432e02033a000433200005432e02042e01014a01332000062e02033a00073a000849023a00094a02332000062e02033a000a3a000849023a000b4a023a000c4a024a010800032e00012c3a000d181000182e00033320000e2e01023320000f2e00014a014a011400011f0800022e0002152e0001360009432e030c2e00024a01152e00002000103d001e3600082e00003d002a1d4c1000092e00003d002a1400011f0800012e02052c3a00114c1000072e0205151400372e000136000c2e02063a00122a2c3a00114c10000b2e02063a00122a151400172e02063a00132a2c3a00114c1000082e02063a00132a151d152e00002000103d001e3600082e00003d002a1d4c1000092e00003d002a1400011f0800012e02072c3a00114c1000072e02071514001d2e000136000c2e02063a00142a2c3a00114c1000082e02063a00142a151d152e00002000103d001e3600082e00003d002a1d4c1000092e00003d002a1400011f080001432e020d2e00014a01080002432e020e2e00014a010800031f0800042e00023600032e00031000623500000800052e00031000202e0005332000152e00034a01022e0005332000152e00032000002000164a01022e00021000202e0005332000152e00024a01022e0005332000152e00022000002000174a0102432e020c2e00054a01100004170800042e0004153500000800012e02082c3a00114c1000af2e0001332000152e02082000002000184a01022e0001332000152e02092000002000194a01022e0001332000152e020820000020001a4a01022e020a2c3a00114c36004b2e020b4100020e43182300072e00023d000d181000063d000d14002b2e000220001b4100030e43182300072e00033d000d181000063d000d14000c2e00033320001c3a001d4a013d01381810000d2e0001332000152e020a4a01022e0001332000152e020b20001e4a01022e00012000103d001810000417140009432e020c2e00014a01152500000000010108010c25000000ad010008010d250000011c010008010e2500000171010008010f250000022301000801102e01002000002000010800012e01012000002000010800021d15001f0963617c677c676a637608677c4067617a7d74077a60526161726a06617677667076014d06707c7d707267076176637f72707614483d39382c4d37686e3b3a6f484f4e4f3c4f4f4e0174034f37352f677c4067617a7d746f3b75667d70677a7c7d3a3d392c3b2c2e4f4f4f3b3a6f33757c61333d382c3b2c2e4f4f4f4e3a0537223d392c01370875667d70677a7c7d04677660670470727f7f067f767d74677b09667d7776757a7d7677125e727d727476775e76777a72407c6661707611447671587a675e76777a72407c66617076135e727d72747677407c66617076516675757661046366607b0c726363767d775166757576610f727777407c66617076516675757661066663777267760d706176726776407660607a7c7d107277775665767d675f7a6067767d766109666076615274767d67077a7d77766b5c7508567f767067617c7d1b617662667660675e76777a7258766a406a6067767e527070766060",{0:Object,1:Function,2:Array,3:RegExp,4:String,get 5(){return"undefined"!=typeof MediaSource?MediaSource:void 0},get 6(){return self},get 7(){return"undefined"!=typeof SourceBuffer?SourceBuffer:void 0},get 8(){return"undefined"!=typeof MediaKeySession?MediaKeySession:void 0},get 9(){return MediaKeys},get 10(){return"undefined"!=typeof atob?atob:void 0},get 11(){return navigator},get 12(){return n.isNativeFunction},set 12(t){n.isNativeFunction=t},get 13(){return sZ},set 13(e){sZ=e},get 14(){return sH},set 14(e){sH=e},get 15(){return n.checkMSEValid},set 15(t){n.checkMSEValid=t},get 16(){return n.checkEMEValid},set 16(t){n.checkEMEValid=t}},void 0);var s5={exports:{}},s8=!u(function(){return Object.isExtensible(Object.preventExtensions({}))}),s9=O.f,ce=q("meta"),ct=0,cr=Object.isExtensible||function(){return!0},cn=function(n){s9(n,ce,{value:{objectID:"O"+ ++ct,weakData:{}}})},ci=s5.exports={REQUIRED:!1,fastKey:function(n,i){if(!w(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!S(n,ce)){if(!cr(n))return"F";if(!i)return"E";cn(n)}return n[ce].objectID},getWeakData:function(n,i){if(!S(n,ce)){if(!cr(n))return!0;if(!i)return!1;cn(n)}return n[ce].weakData},onFreeze:function(n){return s8&&ci.REQUIRED&&cr(n)&&!S(n,ce)&&cn(n),n}};ee[ce]=!0;var ca=s5.exports,co=O.f,cs=ca.fastKey,cc=ec.set,cu=ec.getterFor;!function(n,i,a){var o=-1!=="Map".indexOf("Map"),c=-1!==n.indexOf("Weak"),d=o?"set":"add",l=s[n],f=l&&l.prototype,h=l,p={},v=function(n){var i=f[n];ef(f,n,"add"==n?function(n){return i.call(this,0===n?0:n),this}:"delete"==n?function(n){return!(c&&!w(n))&&i.call(this,0===n?0:n)}:"get"==n?function(n){return c&&!w(n)?void 0:i.call(this,0===n?0:n)}:"has"==n?function(n){return!(c&&!w(n))&&i.call(this,0===n?0:n)}:function(n,a){return i.call(this,0===n?0:n,a),this})};if(eB(n,"function"!=typeof l||!(c||f.forEach&&!u(function(){(new l).entries().next()}))))h=a.getConstructor(i,n,o,d),ca.REQUIRED=!0;else if(eB(n,!0)){var g=new h,y=g[d](c?{}:-0,1)!=g,m=u(function(){g.has(1)}),_=ri(function(n){new l(n)}),b=!c&&u(function(){for(var n=new l,i=5;i--;)n[d](i,i);return!n.has(-0)});_||((h=i(function(i,a){rI(i,h,n);var s=nE(new l,i,h);return null!=a&&ad(a,s[d],{that:s,AS_ENTRIES:o}),s})).prototype=f,f.constructor=h),(m||b)&&(v("delete"),v("has"),o&&v("get")),(b||y)&&v(d),c&&f.clear&&delete f.clear}p[n]=h,ej({global:!0,forced:h!=l},p),tD(h,n),c||a.setStrong(h,n,o)}("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(n,i,a,o){var s=n(function(n,c){rI(n,s,i),cc(n,{type:i,index:tp(null),first:void 0,last:void 0,size:0}),d||(n.size=0),null!=c&&ad(c,n[o],{that:n,AS_ENTRIES:a})}),c=cu(i),u=function(n,i,a){var o,s,u=c(n),f=l(n,i);return f?f.value=a:(u.last=f={index:s=cs(i,!0),key:i,value:a,previous:o=u.last,next:void 0,removed:!1},u.first||(u.first=f),o&&(o.next=f),d?u.size++:n.size++,"F"!==s&&(u.index[s]=f)),n},l=function(n,i){var a,o=c(n),s=cs(i);if("F"!==s)return o.index[s];for(a=o.first;a;a=a.next)if(a.key==i)return a};return rT(s.prototype,{clear:function(){for(var n=c(this),i=n.index,a=n.first;a;)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete i[a.index],a=a.next;n.first=n.last=void 0,d?n.size=0:this.size=0},delete:function(n){var i=c(this),a=l(this,n);if(a){var o=a.next,s=a.previous;delete i.index[a.index],a.removed=!0,s&&(s.next=o),o&&(o.previous=s),i.first==a&&(i.first=o),i.last==a&&(i.last=s),d?i.size--:this.size--}return!!a},forEach:function(n){for(var i,a=c(this),o=np(n,arguments.length>1?arguments[1]:void 0,3);i=i?i.next:a.first;)for(o(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function(n){return!!l(this,n)}}),rT(s.prototype,a?{get:function(n){var i=l(this,n);return i&&i.value},set:function(n,i){return u(this,0===n?0:n,i)}}:{add:function(n){return u(this,n=0===n?0:n,n)}}),d&&co(s.prototype,"size",{get:function(){return c(this).size}}),s},setStrong:function(n,i,a){var o=i+" Iterator",s=cu(i),c=cu(o);tH(n,i,function(n,i){cc(this,{type:o,target:n,state:s(n),kind:i,last:void 0})},function(){for(var n=c(this),i=n.kind,a=n.last;a&&a.removed;)a=a.previous;return n.target&&(n.last=a=a?a.next:n.state.first)?"keys"==i?{value:a.key,done:!1}:"values"==i?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(n.target=void 0,{value:void 0,done:!0})},a?"entries":"values",!a,!0),nk(i)}});var cd=oJ.charAt,cl="String Iterator",cf=ec.set,ch=ec.getterFor(cl);tH(String,"String",function(n){cf(this,{type:cl,string:String(n),index:0})},function(){var n,i=ch(this),a=i.string,o=i.index;return o>=a.length?{value:void 0,done:!0}:(n=cd(a,o),i.index+=n.length,{value:n,done:!1})});var cp=function(){for(var n,i=B(this),a=nh(i.delete),o=!0,s=0,c=arguments.length;s<c;s++)n=a.call(i,arguments[s]),o=o&&n;return!!o};ej({target:"Map",proto:!0,real:!0,forced:!1},{deleteAll:function(){return cp.apply(this,arguments)}});var cv=function(n){return Map.prototype.entries.call(n)};ej({target:"Map",proto:!0,real:!0,forced:!1},{every:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3);return!ad(a,function(n,a,s){if(!o(a,n,i))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});ej({target:"Map",proto:!0,real:!0,forced:!1},{filter:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3),s=new(n4(i,ep("Map"))),c=nh(s.set);return ad(a,function(n,a){o(a,n,i)&&c.call(s,n,a)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),s}});ej({target:"Map",proto:!0,real:!0,forced:!1},{find:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3);return ad(a,function(n,a,s){if(o(a,n,i))return s(a)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});ej({target:"Map",proto:!0,real:!0,forced:!1},{findKey:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3);return ad(a,function(n,a,s){if(o(a,n,i))return s(n)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});ej({target:"Map",proto:!0,real:!0,forced:!1},{includes:function(n){return ad(cv(B(this)),function(i,a,o){var s,c;if((s=a)===(c=n)||s!=s&&c!=c)return o()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});ej({target:"Map",proto:!0,real:!0,forced:!1},{keyOf:function(n){return ad(cv(B(this)),function(i,a,o){if(a===n)return o(i)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});ej({target:"Map",proto:!0,real:!0,forced:!1},{mapKeys:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3),s=new(n4(i,ep("Map"))),c=nh(s.set);return ad(a,function(n,a){c.call(s,o(a,n,i),a)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),s}});ej({target:"Map",proto:!0,real:!0,forced:!1},{mapValues:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3),s=new(n4(i,ep("Map"))),c=nh(s.set);return ad(a,function(n,a){c.call(s,n,o(a,n,i))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),s}});ej({target:"Map",proto:!0,real:!0,forced:!1},{merge:function(n){for(var i=B(this),a=nh(i.set),o=0;o<arguments.length;)ad(arguments[o++],a,{that:i,AS_ENTRIES:!0});return i}});ej({target:"Map",proto:!0,real:!0,forced:!1},{reduce:function(n){var i=B(this),a=cv(i),o=arguments.length<2,s=o?void 0:arguments[1];if(nh(n),ad(a,function(a,c){o?(o=!1,s=c):s=n(s,c,a,i)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o)throw TypeError("Reduce of empty map with no initial value");return s}});ej({target:"Map",proto:!0,real:!0,forced:!1},{some:function(n){var i=B(this),a=cv(i),o=np(n,arguments.length>1?arguments[1]:void 0,3);return ad(a,function(n,a,s){if(o(a,n,i))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});ej({target:"Map",proto:!0,real:!0,forced:!1},{update:function(n,i){var a=B(this),o=arguments.length;nh(i);var s=a.has(n);if(!s&&o<3)throw TypeError("Updating absent value");var c=s?a.get(n):nh(o>2?arguments[2]:void 0)(n,a);return a.set(n,i(c,n,a)),a}});var cg={exports:{}};cg.exports=function(n){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(n,i){var a=n[0],o=n[1],s=n[2],c=n[3];o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&s|~o&c)+i[0]-680876936|0)<<7|a>>>25)+o|0)&o|~a&s)+i[1]-389564586|0)<<12|c>>>20)+a|0)&a|~c&o)+i[2]+606105819|0)<<17|s>>>15)+c|0)&c|~s&a)+i[3]-1044525330|0)<<22|o>>>10)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&s|~o&c)+i[4]-176418897|0)<<7|a>>>25)+o|0)&o|~a&s)+i[5]+1200080426|0)<<12|c>>>20)+a|0)&a|~c&o)+i[6]-1473231341|0)<<17|s>>>15)+c|0)&c|~s&a)+i[7]-45705983|0)<<22|o>>>10)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&s|~o&c)+i[8]+1770035416|0)<<7|a>>>25)+o|0)&o|~a&s)+i[9]-1958414417|0)<<12|c>>>20)+a|0)&a|~c&o)+i[10]-42063|0)<<17|s>>>15)+c|0)&c|~s&a)+i[11]-1990404162|0)<<22|o>>>10)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&s|~o&c)+i[12]+1804603682|0)<<7|a>>>25)+o|0)&o|~a&s)+i[13]-40341101|0)<<12|c>>>20)+a|0)&a|~c&o)+i[14]-1502002290|0)<<17|s>>>15)+c|0)&c|~s&a)+i[15]+1236535329|0)<<22|o>>>10)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&c|s&~c)+i[1]-165796510|0)<<5|a>>>27)+o|0)&s|o&~s)+i[6]-1069501632|0)<<9|c>>>23)+a|0)&o|a&~o)+i[11]+643717713|0)<<14|s>>>18)+c|0)&a|c&~a)+i[0]-373897302|0)<<20|o>>>12)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&c|s&~c)+i[5]-701558691|0)<<5|a>>>27)+o|0)&s|o&~s)+i[10]+38016083|0)<<9|c>>>23)+a|0)&o|a&~o)+i[15]-660478335|0)<<14|s>>>18)+c|0)&a|c&~a)+i[4]-405537848|0)<<20|o>>>12)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&c|s&~c)+i[9]+568446438|0)<<5|a>>>27)+o|0)&s|o&~s)+i[14]-1019803690|0)<<9|c>>>23)+a|0)&o|a&~o)+i[3]-187363961|0)<<14|s>>>18)+c|0)&a|c&~a)+i[8]+1163531501|0)<<20|o>>>12)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o&c|s&~c)+i[13]-1444681467|0)<<5|a>>>27)+o|0)&s|o&~s)+i[2]-51403784|0)<<9|c>>>23)+a|0)&o|a&~o)+i[7]+1735328473|0)<<14|s>>>18)+c|0)&a|c&~a)+i[12]-1926607734|0)<<20|o>>>12)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o^s^c)+i[5]-378558|0)<<4|a>>>28)+o|0)^o^s)+i[8]-2022574463|0)<<11|c>>>21)+a|0)^a^o)+i[11]+1839030562|0)<<16|s>>>16)+c|0)^c^a)+i[14]-35309556|0)<<23|o>>>9)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o^s^c)+i[1]-1530992060|0)<<4|a>>>28)+o|0)^o^s)+i[4]+1272893353|0)<<11|c>>>21)+a|0)^a^o)+i[7]-155497632|0)<<16|s>>>16)+c|0)^c^a)+i[10]-1094730640|0)<<23|o>>>9)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o^s^c)+i[13]+681279174|0)<<4|a>>>28)+o|0)^o^s)+i[0]-358537222|0)<<11|c>>>21)+a|0)^a^o)+i[3]-722521979|0)<<16|s>>>16)+c|0)^c^a)+i[6]+76029189|0)<<23|o>>>9)+s|0,o=((o+=((s=((s+=((c=((c+=((a=((a+=(o^s^c)+i[9]-640364487|0)<<4|a>>>28)+o|0)^o^s)+i[12]-421815835|0)<<11|c>>>21)+a|0)^a^o)+i[15]+530742520|0)<<16|s>>>16)+c|0)^c^a)+i[2]-995338651|0)<<23|o>>>9)+s|0,o=((o+=((c=((c+=(o^((a=((a+=(s^(o|~c))+i[0]-198630844|0)<<6|a>>>26)+o|0)|~s))+i[7]+1126891415|0)<<10|c>>>22)+a|0)^((s=((s+=(a^(c|~o))+i[14]-1416354905|0)<<15|s>>>17)+c|0)|~a))+i[5]-57434055|0)<<21|o>>>11)+s|0,o=((o+=((c=((c+=(o^((a=((a+=(s^(o|~c))+i[12]+1700485571|0)<<6|a>>>26)+o|0)|~s))+i[3]-1894986606|0)<<10|c>>>22)+a|0)^((s=((s+=(a^(c|~o))+i[10]-1051523|0)<<15|s>>>17)+c|0)|~a))+i[1]-2054922799|0)<<21|o>>>11)+s|0,o=((o+=((c=((c+=(o^((a=((a+=(s^(o|~c))+i[8]+1873313359|0)<<6|a>>>26)+o|0)|~s))+i[15]-30611744|0)<<10|c>>>22)+a|0)^((s=((s+=(a^(c|~o))+i[6]-1560198380|0)<<15|s>>>17)+c|0)|~a))+i[13]+1309151649|0)<<21|o>>>11)+s|0,o=((o+=((c=((c+=(o^((a=((a+=(s^(o|~c))+i[4]-145523070|0)<<6|a>>>26)+o|0)|~s))+i[11]-1120210379|0)<<10|c>>>22)+a|0)^((s=((s+=(a^(c|~o))+i[2]+718787259|0)<<15|s>>>17)+c|0)|~a))+i[9]-343485551|0)<<21|o>>>11)+s|0,n[0]=a+n[0]|0,n[1]=o+n[1]|0,n[2]=s+n[2]|0,n[3]=c+n[3]|0}function o(n){var i,a=[];for(i=0;i<64;i+=4)a[i>>2]=n.charCodeAt(i)+(n.charCodeAt(i+1)<<8)+(n.charCodeAt(i+2)<<16)+(n.charCodeAt(i+3)<<24);return a}function s(n){var i,a=[];for(i=0;i<64;i+=4)a[i>>2]=n[i]+(n[i+1]<<8)+(n[i+2]<<16)+(n[i+3]<<24);return a}function c(n){var i,s,c,u,d,l,f=n.length,h=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=f;i+=64)a(h,o(n.substring(i-64,i)));for(s=(n=n.substring(i-64)).length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<s;i+=1)c[i>>2]|=n.charCodeAt(i)<<(i%4<<3);if(c[i>>2]|=128<<(i%4<<3),i>55)for(a(h,c),i=0;i<16;i+=1)c[i]=0;return d=parseInt((u=(u=8*f).toString(16).match(/(.*?)(.{0,8})$/))[2],16),l=parseInt(u[1],16)||0,c[14]=d,c[15]=l,a(h,c),h}function u(n){var a;for(a=0;a<n.length;a+=1)n[a]=function(n){var a,o="";for(a=0;a<4;a+=1)o+=i[n>>8*a+4&15]+i[n>>8*a&15];return o}(n[a]);return n.join("")}function d(n){return/[\u0080-\uFFFF]/.test(n)&&(n=unescape(encodeURIComponent(n))),n}function l(n){var i,a=[],o=n.length;for(i=0;i<o-1;i+=2)a.push(parseInt(n.substr(i,2),16));return String.fromCharCode.apply(String,a)}function f(){this.reset()}return u(c("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function n(n,i){return(n=0|n||0)<0?Math.max(n+i,0):Math.min(n,i)}ArrayBuffer.prototype.slice=function(i,a){var o,s,c,u,d=this.byteLength,l=n(i,d),f=d;return void 0!==a&&(f=n(a,d)),l>f?new ArrayBuffer(0):(c=new Uint8Array(s=new ArrayBuffer(o=f-l)),u=new Uint8Array(this,l,o),c.set(u),s)}}(),f.prototype.append=function(n){return this.appendBinary(d(n)),this},f.prototype.appendBinary=function(n){this._buff+=n,this._length+=n.length;var i,s=this._buff.length;for(i=64;i<=s;i+=64)a(this._hash,o(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},f.prototype.end=function(n){var i,a,o=this._buff,s=o.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s;i+=1)c[i>>2]|=o.charCodeAt(i)<<(i%4<<3);return this._finish(c,s),a=u(this._hash),n&&(a=l(a)),this.reset(),a},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(n){return this._buff=n.buff,this._length=n.length,this._hash=n.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(n,i){var o,s,c,u=i;if(n[u>>2]|=128<<(u%4<<3),u>55)for(a(this._hash,n),u=0;u<16;u+=1)n[u]=0;s=parseInt((o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),c=parseInt(o[1],16)||0,n[14]=s,n[15]=c,a(this._hash,n)},f.hash=function(n,i){return f.hashBinary(d(n),i)},f.hashBinary=function(n,i){var a=u(c(n));return i?l(a):a},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(n){var i,o,c,u,d,l=(i=this._buff.buffer,o=n,c=!0,(u=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),u.set(new Uint8Array(o),i.byteLength),c?u:u.buffer),f=l.length;for(this._length+=n.byteLength,d=64;d<=f;d+=64)a(this._hash,s(l.subarray(d-64,d)));return this._buff=new Uint8Array(d-64<f?l.buffer.slice(d-64):0),this},f.ArrayBuffer.prototype.end=function(n){var i,a,o=this._buff,s=o.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s;i+=1)c[i>>2]|=o[i]<<(i%4<<3);return this._finish(c,s),a=u(this._hash),n&&(a=l(a)),this.reset(),a},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var n,i=f.prototype.getState.call(this);return i.buff=(n=i.buff,String.fromCharCode.apply(null,new Uint8Array(n))),i},f.ArrayBuffer.prototype.setState=function(n){return n.buff=function(n,i){var a,o=n.length,s=new ArrayBuffer(o),c=new Uint8Array(s);for(a=0;a<o;a+=1)c[a]=n.charCodeAt(a);return i?c:s}(n.buff,!0),f.prototype.setState.call(this,n)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(n,i){var o=u(function(n){var i,o,c,u,d,l,f=n.length,h=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=f;i+=64)a(h,s(n.subarray(i-64,i)));for(o=(n=i-64<f?n.subarray(i-64):new Uint8Array(0)).length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<o;i+=1)c[i>>2]|=n[i]<<(i%4<<3);if(c[i>>2]|=128<<(i%4<<3),i>55)for(a(h,c),i=0;i<16;i+=1)c[i]=0;return d=parseInt((u=(u=8*f).toString(16).match(/(.*?)(.{0,8})$/))[2],16),l=parseInt(u[1],16)||0,c[14]=d,c[15]=l,a(h,c),h}(new Uint8Array(n)));return i?l(o):o},f}();var cy,cm=a(cg.exports);!function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 36:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=l<<16>>16;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 18:y[++g]={};break;case 9:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 46:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 42:f=y[g--],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 48:f=y[g--],h=y[g--],p=y[g--],h[f]=p;break;case 65:for(f=u[i++],h=u[i++],p=_,p=_;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 71:f=y[g--],y[g]+=f;break;case 12:f=y[g--],y[g]-=f;break;case 34:f=y[g--],y[g]%=f;break;case 15:f=y[g--],p=(h=y[g--])[f]++,y[++g]=p;break;case 45:f=y[g--],p=(h=y[g--])[f]--,y[++g]=p;break;case 24:f=y[g--],y[g]=y[g]===f;break;case 76:f=y[g--],y[g]=y[g]!==f;break;case 49:f=y[g--],y[g]=y[g]<f;break;case 19:f=y[g--],y[g]=y[g]<=f;break;case 30:f=y[g--],y[g]=y[g]>f;break;case 4:f=y[g--],y[g]=y[g]>=f;break;case 52:f=y[g--],y[g]=y[g]&f;break;case 75:f=y[g--],y[g]=y[g]^f;break;case 54:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 35:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 17:l=u[i++],f=y[g--],(p=[h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)}]).p=_,h._v=[f,l,p],h._u=n,y[++g]=h;break;case 21:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 59:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,f=y[g--],y[g]===f&&(--g,i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101df0839f00000055df1380bdf000005b92e00013a0000043600072e00013a0001131000182e0001332000023d004a013a0000332000023d004a010c152e00013a0003043600072e00013a00041310001b2e0001332000023d004a013a0003332000023d004a010c3d0a47152400ff152e00013d002a332000024a002e00013d012a332000024a004b2e00013d022a332000024a004b3a0000332000023d004a010c0800032e00022e00030c3d010c0800042e03002e000449010800052e03002e000349010800062e00034100070e022e00073d001e1000572e0301332000052e00012e00022e00030c3d020c2a332000024a002e00012e00022e00030c3d010c2a332000024a004b2e00012e00022e00070c2a332000024a004b4a012e00062e00032e00070c304100072d0214ffa03d004100070e022e00072e0004311000192e00012e00073d01472a2e00052e0007304100070f0214ffdd122e00050900062e00040900072e0006332000083a00094a0109000a2e000309000b153d000800023d004100020e022e00013d004c1000172e00012e00013d010c344100010e024100020f0214ffe02e0002152e0001432e02032e00024a01472e0003470800042e0301332000052e00042400ff344a01152e0001332000024a00432e02032e00024a010c2e00030c0800042e0301332000052e00042400ff344a01153d550800042400fa0800053d000800072e00072e00023110008e2e00073d02223d01181000272e00042e00012e00072a332000024a004b0800062e00012e00072a332000024a000800041400242e00052e00012e00072a332000024a004b0800062e00012e00072a332000024a000800052e00033d0018100011432e02052e00062e00073d154a0314000e432e02042e00062e00073d154a032e00012e0007304100070f0214ff682e0001153d550800042400fa080005432e02082e00014a01023d000800062e00062e0002311000f92e00012e00062a332000023d004a010800092e00093d7f1e10000c2e00092401000c4100090e022e00063d02223d01181000192e00042e00094b0800072e00090800042e00050800081400162e00052e00094b0800072e00090800052e00040800082e00073d7f1e10000c2e00072401000c4100070e022e00033d0018100011432e02052e00072e00063d154a0314000e432e02042e00072e00063d154a03332000023d004a0108000a2e000a3d7f1e10000c2e000a2401000c41000a0e022e000a2e00080c08000b2e000b3d003110000c2e000b2401004741000b0e022e0301332000052e000b4a012e00012e0006304100060f0214fefd432e02082e00014a01022e0001152e000120000c0800023d000800032e00032e0002311000492e00032e00023d010c181000061400391400282e00012e00032a0800042e00012e00033d01472a2e00012e0003302e00042e00012e00033d0147302e00033d02474100030e0214ffad2e0001152e000020000c3d021e3600082e00003d022a1d4c1000092e00003d022a1400023d010800032e00010800042e00022300062e000420000c080002432e01022e00042e00024a020800052e00052000060800062e00052000070800072e000520000b0800082e000520000a0800092e00093a000d3b00223a000e3b001c3a000f3b00163a00103b00103a00113b001f3a00123b00190214002a432e01062e00062e00072e00034a03080006140018432e01072e00062e00072e00034a03080006140003140000432e01012e00063d002a4a010800082e00072e00080c3d010c08000a2e02002e000a3d0147490108000b3a00092e000b2e000a303d0008000c3d0041000c0e022e000c2e000a311000192e00062e000c3d01472a2e000b2e000c3041000c0f0214ffdd2e000b332000083a00094a011525000003c301010800082500000428010208010225000000001101080001250000005f1102080002250000016c1101080003250000019c110308000425000001c1110308000525000001ec1103080006250000029811030800071d1500130123012a0a707b7261507c77765267017201690c75617c7e507b7261507c77760a707c7d6576616758766a0a707c7d657661675f767d04797c7a7d00067e76677b7c77097e76677b7c775f767d067f767d74677b022222022121097263637776657a7076096476717776657a7076067263634c6521066476714c6521",{0:Array,1:String,get 2(){return cy},set 2(e){cy=e}},void 0);var c_=rw.aTypedArrayConstructor;(0,rw.exportTypedArrayStaticMethod)("of",function(){for(var n=0,i=arguments.length,a=new(c_(this))(i);i>n;)a[n]=arguments[n++];return a},rS);var cb,cA,cw,ck,cE=function(){function n(){eW(this,n);var i,a,o=new Promise(function(n,o){i=n,a=o});return o.resolve=function(n){i(n),o.state="fulfilled"},o.reject=function(n){a(n),o.state="rejected",o.isBreak="DESTROYED"===n},o.state="pending",o}return eY(n,[{key:"resolve",value:function(n){}},{key:"reject",value:function(n){}}]),n}();function cx(n){var i=n||{},a=i.url,o=i.method,s=void 0===o?"GET":o,c=i.type,u=void 0===c?"arraybuffer":c,d=i.data,l=void 0===d?{}:d;return new Promise(function(n,i){var o=new window.XMLHttpRequest,c=s.toUpperCase(),d=[];if(Object.keys(l).map(function(n){d.push("k=".concat(l[n]))}),"GET"===c){var f="";f=0>a.indexOf("?")?"".concat(a,"?").concat(d.join("&")):(null==d?void 0:d.length)>0?"".concat(a,"&").concat(d.join("&")):a,o.open(c,f),u&&(o.responseType=u),o.send()}else{if("POST"!==c)throw Error("xhr ".concat(c," is not supported"));o.open(c,a,!0),u&&(o.responseType=u),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(l))}o.onload=function(){200===o.status||206===o.status?n(o):i(o)},o.onerror=function(){i(o)}})}!function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=[0,null],_=null,b=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)b.push(a[h]);b.p=s;for(var A=[];;)try{switch(u[i++]){case 31:y[++g]=!1;break;case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 53:l=(u[i]<<8)+u[i+1],i+=2,g=g-l+1,f=y.slice(g,g+l),y[g]=f;break;case 18:y[++g]={};break;case 9:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 46:for(f=u[i++],h=u[i++],p=b;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 42:f=y[g--],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=b;f>0;--f)p=p.p;p[h]=y[g--];break;case 48:f=y[g--],h=y[g--],p=y[g--],h[f]=p;break;case 65:for(f=u[i++],h=u[i++],p=b,p=b;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 12:f=y[g--],y[g]-=f;break;case 15:f=y[g--],p=(h=y[g--])[f]++,y[++g]=p;break;case 24:f=y[g--],y[g]=y[g]===f;break;case 49:f=y[g--],y[g]=y[g]<f;break;case 30:f=y[g--],y[g]=y[g]>f;break;case 72:y[g]=!y[g];break;case 54:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 35:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 60:f=y[g--],y[g]=y[g]instanceof f;break;case 13:y[g]=void 0;break;case 44:y[g]=typeof y[g];break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,b],h._u=n,y[++g]=h;break;case 22:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=A[A.length-1])[1]=i+l;break;case 68:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=A[A.length-1])&&!f[1]?(f[0]=3,f.push(i)):A.push([1,0,i]),i+=l;break;case 41:if(h=(f=A.pop())[0],p=m[0],1===h)i=f[1];else if(0===h){if(0===p)i=f[1];else{if(1!==p)throw m[1];if(!_)return m[1];i=_[1],c=_[2],b=_[3],A=_[4],y[++g]=m[1],m=[0,null],_=_[0]}}else i=f[2],f[0]=0,A.push(f);break;case 21:for(f=y[g--],h=null;p=A.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)m=[1,f],i=h[2],h[0]=0,A.push(h);else{if(!_)return f;i=_[1],c=_[2],b=_[3],A=_[4],y[++g]=f,m=[0,null],_=_[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,_=[_,i,c,b,A],i=f[0],null==p&&(p=function(){return this}()),c=p,(b=[h].concat(h)).length=Math.min(f[1],l)+1,b.p=f[2],A=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(m=[0,null];(l=A.pop())&&!l[0];);if(!l){t:for(;_;){for(f=_[4];l=f.pop();)if(l[0])break t;_=_[0]}if(!_)throw n;i=_[1],c=_[2],b=_[3],A=_[4],_=_[0]}1===(f=l[0])?(i=l[2],l[0]=0,A.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,A.push(l),m=[3,n]):(i=l[3],l[0]=2,A.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101df0839f000000352f1380bdf000003802e02094900080004432e020a123a00000900013a00020900032e0003090004123a00050900063a0007090008122e00010900093500003320000a2e00024a0109000b35000109000c09000d4a013320000e250000006c01014a013320001925000000f301004a01022e0004152e000143182300072e00013d000d181000063d000d1400062e000120000f0800022e00022c3a00101810000f2e0300332000112e00024a010800022e00021000212e00022000122e01012a2e01022a0800032e0104332000132e00034a01021400232e0301332000143a00152e01013a00162e01023a00174a05022e0104332000184a00021d152e0301332000143a00152e01013a00162e01023a00194a05022e0104332000184a00021d152e020949000800052e00012300033a001a0800012e000210004d432e0208432e02022e00024a014a010800062e0003100025121209001b0800072e00062e000720001b2e0003302e0005332000132e00074a010214000d2e0005332000132e00064a010214005c2e00013600032e00033600032e000410003d432e020b2e00012e00032e00044a030800083a001c2e00083a001d302e00083320000e25000001df01014a0133200019250000021501014a010214000d2e0005332000183a001e4a01022e000515432e0308432e03022e00014a014a01080002121209001b0800032e00022e000320001b2e0103302e0105332000132e00034a01021d152e0105332000182e00014a01021d15440004080002291600742e02032c3a001f181000063a001f140009432e02072e02034a013a00201836000b2e02032000212c3a0022181000442e02032000232e0204332000243d003d613d733d6d3d013d003d003d004a0849010800012e00012e02032000233c1000132e02032000252e000149012e02032000253c15291f152e01014318100022440004080006291600182e020536000e2e0205332000263a00274a014848080101292e00002000280800032e02062e00033d011e1000092e00033d010c1400023d0049010800043d010800052e00052e0003311000192e00002e00052a2e00042e00053d010c304100050f0214ffdd2e01013600062e02012000293600252e02014100020e2000293320002a2e00023a002b2e00013500023320000a2e00044a014a02021d152500000000010308010b2500000118010408010c2500000224010008010d25000002a4010108010e430800011d15002c0479607c7d04676a637604435c4047067e76677b7c770366617f0221210877617e4c676a637603213d2307657661607a7c7d03657a7706707c7d70726704787a77600f7f7a70767d60764c61766266766067047772677204677b767d08617660637c7d6076066067617a7d740563726160760d637f726a4c7f7a70767d607660076176607c7f6576057661617c611b74766740767061766758766a516a587a7733767d773f33657a773f053f33787a770d617660637c7d6076337d667f7f0661767976706705707267707b0009707f76726158766a600e6176626676606743617c7e7a6076027a7735607b7c667f773363617c657a77763360767061766758766a337c6133657a773f3378766a5a7733727d77337f7a70767d607646617f09667d7776757a7d7677067c71797670670b7a7d6067727d677a7267760875667d70677a7c7d065e7c77667f76027c75085a7d6067727d7076077476675a67767e0c60767061766778766a7f7c74067f767d74677b037f7c74057263637f6a0d484b5440767061766778766a4e",{0:JSON,get 1(){return console},get 2(){return atob},3:WebAssembly,4:Uint8Array,get 5(){return localStorage},6:Array,get 7(){return eZ},get 8(){return cy},get 9(){return cE},get 10(){return cx},get 11(){return cb},set 11(e){cb=e},get 12(){return cA},set 12(e){cA=e},get 13(){return cw},set 13(e){cw=e},get 14(){return ck},set 14(e){ck=e}},void 0);var cS={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(n){this.toString=function(){return"CORRUPT: "+this.message},this.message=n},invalid:function(n){this.toString=function(){return"INVALID: "+this.message},this.message=n},bug:function(n){this.toString=function(){return"BUG: "+this.message},this.message=n},notReady:function(n){this.toString=function(){return"NOT READY: "+this.message},this.message=n}}};function cT(n,i){return cI.apply(this,arguments)}function cI(){return(cI=eG(eV().mark(function n(i,a){var o,s,c,u,d;return eV().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=a.iv,s=a.tagLength,c=a.data,u=null,i=sV.StringToArrayBuffer(i),c=sV.Base64ToHex(c,!0),n.prev=4,n.next=7,crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt","decrypt"]);case 7:d=n.sent,n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(4),"importKey: ".concat((null===n.t0||void 0===n.t0?void 0:n.t0.message)||n.t0);case 13:return n.prev=13,n.next=16,crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(o),tagLength:s},d,c);case 16:u=n.sent,n.next=30;break;case 19:if(n.prev=19,n.t1=n.catch(13),"OperationError"!==String(n.t1)){n.next=25;break}throw"Wrong Password.";case 25:if("InvalidAccessError"!==String(n.t1)){n.next=29;break}throw"Invalid Key";case 29:throw n.t1;case 30:return n.abrupt("return",new TextDecoder("utf-8").decode(u));case 31:case"end":return n.stop()}},n,null,[[4,10],[13,19]])}))).apply(this,arguments)}function cR(n,i){return cC.apply(this,arguments)}function cC(){return(cC=eG(eV().mark(function n(i,a){var o,s,c,u,d,l,f;return eV().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=a.iv,s=a.tagLength,c=a.data,u=btoa(sV.ArrayBufferToString(o)),d=cS.codec.base64.toBits(u),l=cS.codec.utf8String.toBits(i),f=new cS.cipher.aes(l),n.abrupt("return",cS.codec.utf8String.fromBits(cS.mode.gcm.decrypt(f,cS.codec.base64.toBits(c),d,[],s)));case 6:case"end":return n.stop()}},n)}))).apply(this,arguments)}cS.cipher.aes=function(n){this._tables[0][0][0]||this._precompute();var i,a,o,s,c,u=this._tables[0][4],d=this._tables[1],l=n.length,f=1;if(4!==l&&6!==l&&8!==l)throw new cS.exception.invalid("invalid aes key size");for(this._key=[s=n.slice(0),c=[]],i=l;i<4*l+28;i++)o=s[i-1],(i%l==0||8===l&&i%l==4)&&(o=u[o>>>24]<<24^u[o>>16&255]<<16^u[o>>8&255]<<8^u[255&o],i%l==0&&(o=o<<8^o>>>24^f<<24,f=f<<1^283*(f>>7))),s[i]=s[i-l]^o;for(a=0;i;a++,i--)o=s[3&a?i:i-4],c[a]=i<=4||a<4?o:d[0][u[o>>>24]]^d[1][u[o>>16&255]]^d[2][u[o>>8&255]]^d[3][u[255&o]]},cS.cipher.aes.prototype={encrypt:function(n){return this._crypt(n,0)},decrypt:function(n){return this._crypt(n,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var n,i,a,o,s,c,u,d,l=this._tables[0],f=this._tables[1],h=l[4],p=f[4],v=[],g=[];for(n=0;n<256;n++)g[(v[n]=n<<1^283*(n>>7))^n]=n;for(i=a=0;!h[i];i^=o||1,a=g[a]||1)for(c=(c=a^a<<1^a<<2^a<<3^a<<4)>>8^255&c^99,h[i]=c,p[c]=i,d=16843009*v[s=v[o=v[i]]]^65537*s^257*o^16843008*i,u=257*v[c]^16843008*c,n=0;n<4;n++)l[n][i]=u=u<<24^u>>>8,f[n][c]=d=d<<24^d>>>8;for(n=0;n<5;n++)l[n]=l[n].slice(0),f[n]=f[n].slice(0)},_crypt:function(n,i){if(4!==n.length)throw new cS.exception.invalid("invalid aes block size");var a,o,s,c,u=this._key[i],d=n[0]^u[0],l=n[i?3:1]^u[1],f=n[2]^u[2],h=n[i?1:3]^u[3],p=u.length/4-2,v=4,g=[0,0,0,0],y=this._tables[i],m=y[0],_=y[1],b=y[2],A=y[3],w=y[4];for(c=0;c<p;c++)a=m[d>>>24]^_[l>>16&255]^b[f>>8&255]^A[255&h]^u[v],o=m[l>>>24]^_[f>>16&255]^b[h>>8&255]^A[255&d]^u[v+1],s=m[f>>>24]^_[h>>16&255]^b[d>>8&255]^A[255&l]^u[v+2],h=m[h>>>24]^_[d>>16&255]^b[l>>8&255]^A[255&f]^u[v+3],v+=4,d=a,l=o,f=s;for(c=0;c<4;c++)g[i?3&-c:c]=w[d>>>24]<<24^w[l>>16&255]<<16^w[f>>8&255]<<8^w[255&h]^u[v++],a=d,d=l,l=f,f=h,h=a;return g}},cS.bitArray={bitSlice:function(n,i,a){return n=cS.bitArray._shiftRight(n.slice(i/32),32-(31&i)).slice(1),void 0===a?n:cS.bitArray.clamp(n,a-i)},extract:function(n,i,a){var o=Math.floor(-i-a&31);return(-32&(i+a-1^i)?n[i/32|0]<<32-o^n[i/32+1|0]>>>o:n[i/32|0]>>>o)&(1<<a)-1},concat:function(n,i){if(0===n.length||0===i.length)return n.concat(i);var a=n[n.length-1],o=cS.bitArray.getPartial(a);return 32===o?n.concat(i):cS.bitArray._shiftRight(i,o,0|a,n.slice(0,n.length-1))},bitLength:function(n){var i,a=n.length;return 0===a?0:(i=n[a-1],32*(a-1)+cS.bitArray.getPartial(i))},clamp:function(n,i){if(32*n.length<i)return n;var a=(n=n.slice(0,Math.ceil(i/32))).length;return i&=31,a>0&&i&&(n[a-1]=cS.bitArray.partial(i,n[a-1]&2147483648>>i-1,1)),n},partial:function(n,i,a){return 32===n?i:(a?0|i:i<<32-n)+1099511627776*n},getPartial:function(n){return Math.round(n/1099511627776)||32},equal:function(n,i){if(cS.bitArray.bitLength(n)!==cS.bitArray.bitLength(i))return!1;var a,o=0;for(a=0;a<n.length;a++)o|=n[a]^i[a];return 0===o},_shiftRight:function(n,i,a,o){var s,c,u;for(void 0===o&&(o=[]);i>=32;i-=32)o.push(a),a=0;if(0===i)return o.concat(n);for(s=0;s<n.length;s++)o.push(a|n[s]>>>i),a=n[s]<<32-i;return c=n.length?n[n.length-1]:0,u=cS.bitArray.getPartial(c),o.push(cS.bitArray.partial(i+u&31,i+u>32?a:o.pop(),1)),o},_xor4:function(n,i){return[n[0]^i[0],n[1]^i[1],n[2]^i[2],n[3]^i[3]]},byteswapM:function(n){var i,a;for(i=0;i<n.length;++i)a=n[i],n[i]=a>>>24|a>>>8&65280|(65280&a)<<8|a<<24;return n}},cS.codec.utf8String={fromBits:function(n){var i,a,o="",s=cS.bitArray.bitLength(n);for(i=0;i<s/8;i++)0==(3&i)&&(a=n[i/4]),o+=String.fromCharCode(a>>>8>>>8>>>8),a<<=8;return decodeURIComponent(escape(o))},toBits:function(n){n=unescape(encodeURIComponent(n));var i,a=[],o=0;for(i=0;i<n.length;i++)o=o<<8|n.charCodeAt(i),3==(3&i)&&(a.push(o),o=0);return 3&i&&a.push(cS.bitArray.partial(8*(3&i),o)),a}},cS.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(n,i,a){var o,s="",c=0,u=cS.codec.base64._chars,d=0,l=cS.bitArray.bitLength(n);for(a&&(u=u.substr(0,62)+"-_"),o=0;6*s.length<l;)s+=u.charAt((d^n[o]>>>c)>>>26),c<6?(d=n[o]<<6-c,c+=26,o++):(d<<=6,c-=6);for(;3&s.length&&!i;)s+="=";return s},toBits:function(n,i){n=n.replace(/\s|=/g,"");var a,o,s=[],c=0,u=cS.codec.base64._chars,d=0;for(i&&(u=u.substr(0,62)+"-_"),a=0;a<n.length;a++){if((o=u.indexOf(n.charAt(a)))<0)throw new cS.exception.invalid("this isn't base64!");c>26?(c-=26,s.push(d^o>>>c),d=o<<32-c):d^=o<<32-(c+=6)}return 56&c&&s.push(cS.bitArray.partial(56&c,d,1)),s}},cS.codec.base64url={fromBits:function(n){return cS.codec.base64.fromBits(n,1,1)},toBits:function(n){return cS.codec.base64.toBits(n,1)}},cS.mode.gcm={name:"gcm",encrypt:function(n,i,a,o,s){var c,u=i.slice(0),d=cS.bitArray;return s=s||128,o=o||[],c=cS.mode.gcm._ctrMode(!0,n,u,o,a,s),d.concat(c.data,c.tag)},decrypt:function(n,i,a,o,s){var c,u,d=i.slice(0),l=cS.bitArray,f=l.bitLength(d);if(o=o||[],(s=s||128)<=f?(u=l.bitSlice(d,f-s),d=l.bitSlice(d,0,f-s)):(u=d,d=[]),c=cS.mode.gcm._ctrMode(!1,n,d,o,a,s),!l.equal(c.tag,u))throw new cS.exception.corrupt("gcm: tag doesn't match");return c.data},_galoisMultiply:function(n,i){var a,o,s,c,u,d=cS.bitArray._xor4;for(s=[0,0,0,0],c=i.slice(0),a=0;a<128;a++){for(0!=(n[Math.floor(a/32)]&1<<31-a%32)&&(s=d(s,c)),u=0!=(1&c[3]),o=3;o>0;o--)c[o]=c[o]>>>1|(1&c[o-1])<<31;c[0]=c[0]>>>1,u&&(c[0]=-520093696^c[0])}return s},_ghash:function(n,i,a){var o,s,c=a.length;for(o=i.slice(0),s=0;s<c;s+=4)o[0]^=4294967295&a[s],o[1]^=4294967295&a[s+1],o[2]^=4294967295&a[s+2],o[3]^=4294967295&a[s+3],o=cS.mode.gcm._galoisMultiply(o,n);return o},_ctrMode:function(n,i,a,o,s,c){var u,d,l,f,h,p,v,g,y,m,_,b,A=cS.bitArray;for(y=a.length,m=A.bitLength(a),_=A.bitLength(o),b=A.bitLength(s),u=i.encrypt([0,0,0,0]),96===b?(d=s.slice(0),d=A.concat(d,[1])):(d=cS.mode.gcm._ghash(u,[0,0,0,0],s),d=cS.mode.gcm._ghash(u,d,[0,0,Math.floor(b/4294967296),4294967295&b])),l=cS.mode.gcm._ghash(u,[0,0,0,0],o),p=d.slice(0),v=l.slice(0),n||(v=cS.mode.gcm._ghash(u,l,a)),h=0;h<y;h+=4)p[3]++,f=i.encrypt(p),a[h]^=f[0],a[h+1]^=f[1],a[h+2]^=f[2],a[h+3]^=f[3];return a=A.clamp(a,m),n&&(v=cS.mode.gcm._ghash(u,l,a)),g=[Math.floor(_/4294967296),4294967295&_,Math.floor(m/4294967296),4294967295&m],v=cS.mode.gcm._ghash(u,v,g),f=i.encrypt(d),v[0]^=f[0],v[1]^=f[1],v[2]^=f[2],v[3]^=f[3],{tag:A.bitSlice(v,0,c),data:a}}};var cD,cO={webCryptoDecrypt:cT,decrypt:(cD=eG(eV().mark(function n(i,a){var o,s;return eV().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("string"==typeof a&&(a=JSON.parse(a)),!a.enableSoftwareAES&&null!==(o=crypto)&&void 0!==o&&o.subtle){n.next=7;break}return n.next=4,cR(i,a);case 4:case 10:s=n.sent,n.next=18;break;case 7:return n.prev=7,n.next=10,cT(i,a);case 13:return n.prev=13,n.t0=n.catch(7),n.next=17,cR(i,a);case 17:s=n.sent;case 18:return n.abrupt("return",s);case 19:case"end":return n.stop()}},n,null,[[7,13]])})),function(n,i){return cD.apply(this,arguments)})};function cB(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}return i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 23:y[++g]=!0;break;case 31:y[++g]=!1;break;case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 28:y[++g]=c;break;case 53:l=(u[i]<<8)+u[i+1],i+=2,g=g-l+1,f=y.slice(g,g+l),y[g]=f;break;case 18:y[++g]={};break;case 9:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 46:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 42:f=y[g--],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 6:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],p=y[g--],h[f]=p;break;case 48:f=y[g--],h=y[g--],p=y[g--],h[f]=p;break;case 65:for(f=u[i++],h=u[i++],p=_,p=_;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 71:f=y[g--],y[g]+=f;break;case 56:y[g]=-y[g];break;case 24:f=y[g--],y[g]=y[g]===f;break;case 30:f=y[g--],y[g]=y[g]>f;break;case 72:y[g]=!y[g];break;case 54:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 35:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 13:y[g]=void 0;break;case 44:y[g]=typeof y[g];break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 17:l=u[i++],f=y[g--],(p=[h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)}]).p=_,h._v=[f,l,p],h._u=n,y[++g]=h;break;case 11:throw f=y[g--];case 21:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 59:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,f=y[g--],y[g]===f&&(--g,i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}n.TRANSFORM_IV=void 0,n.transformUnionKey=void 0,function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 67:y[++g]=null;break;case 61:l=u[i++],y[++g]=l<<24>>24;break;case 36:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=l<<16>>16;break;case 37:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 58:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 29:y[++g]=void 0;break;case 28:y[++g]=c;break;case 53:l=(u[i]<<8)+u[i+1],i+=2,g=g-l+1,f=y.slice(g,g+l),y[g]=f;break;case 18:y[++g]={};break;case 9:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 46:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 8:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 6:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],p=y[g--],h[f]=p;break;case 14:f=y[g--],(h=y[g--])[f]=y[g];break;case 1:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 17:l=u[i++],f=y[g--],(p=[h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)}]).p=_,h._v=[f,l,p],h._u=n,y[++g]=h;break;case 21:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 74:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 73:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 20:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 16:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 59:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,f=y[g--],y[g]===f&&(--g,i+=l);break;case 2:--g;break;case 51:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101df0839f0000000d9f1380bdf0000011a2e0101332000011c2e00004a0215432e0202432e02014a0033200002250000003811024a014a010801012e0101332000011c2e00004a0215432e04014a0033200003250000004f11012e01004a02153d011000832e00012000042e00013a00050e3d003b00143d033b00463d053b005a3a00063b00540214005a2e0604332000072e02024a010802033d032e00010600042e0603332000082e0203122e02010900092e060509000a24008009000b4a02152e000120000c0802042e00013320000d3a000e2e02044a02152e00013320000f4a001514ff781d1525000000000102080106250000000e01000800012e01003d5b3d683d453d4b24009c2400ab2400ee3d472400ca3d042400f43d0535000c49012000000801051d15001006716675757661057263637f6a047e7261780464617263047d766b67046361766503767d77047b72607b07777670616a63670477726772027a65096772745f767d74677b0460767d67067271616663670661766766617d0460677c63",{0:Uint8Array,get 1(){return eV},get 2(){return eG},get 3(){return cO},get 4(){return cm},get 5(){return n.TRANSFORM_IV},set 5(t){n.TRANSFORM_IV=t},get 6(){return n.transformUnionKey},set 6(t){n.transformUnionKey=t}},void 0);var cP="volcvui",cL=new Map,cM=function(i){eX(s,oI);var a,o=e$(s);function s(i){var a;return eW(this,s),(a=o.call(this)).EMEError=function(i){a.emit(n.EVENT_EME.ERROR,i)},a.encryptHandle=function(){var i;null===(i=a.eme)||void 0===i||i.emit(n.EVENT_EME.ENCRYPTED)},a.config=s.defaultConfig,a.updateConfig(i),a.config.isEncrypt=!!(a.config.kid||a.config.drm||a.config.secretKey||a.config.drmKeyToken||a.config.keyValue||a.config.drm),a.on(n.EVENT_EME.ENCRYPTED,a.encryptHandle),a}return eY(s,[{key:"updateConfig",value:function(n){var i=this;Object.keys(n).map(function(a){void 0!==n[a]&&null!==n[a]&&void 0!==i.config[a]&&(i.config[a]=n[a])}),this.log("set config",JSON.stringify(this.config))}},{key:"setupEME",value:function(n){this.eme&&this.eme.setupEME(n)}},{key:"setOptions",value:function(n){this.eme&&this.eme.setOptions(n)}},{key:"getSecretKeyByToken",value:function(n,i,a){var o=this,s=this.config,c=n||s.kid,u=i||s.playDomain;0>u.indexOf("//")&&(u="//".concat(u));var d=a||s.drmKeyToken,l=sV.isBase64(d)?window.atob(d):d,f="".concat(u,"?").concat(l,"&PlayAuthIds=").concat(c,"&ssl=true");0>l.indexOf("DrmType=")&&(f+="&DrmType=".concat(s.useUnionInfoDRM?"webdevice":"22")),this.log("getSecretKeyByToken start, vid,",s.vid,f);var h=Promise.withResolvers(),p=h.promise,v=h.resolve,g=h.reject;return cx({type:"json",method:"GET",url:f}).then(function(n){var i,a,c=n.response;if("string"==typeof c&&(c=JSON.parse(c)),c&&null!==(i=c)&&void 0!==i&&i.Result&&(null===(a=c.Result.PlayAuthInfoList)||void 0===a?void 0:a.length)>0){var u=c.Result.PlayAuthInfoList[0].PlayAuthContent;o.log("getSecretKeyByToken end, vid,",s.vid,",res,",JSON.stringify(c)),v(u)}}).catch(function(n){g(n)}),p}},{key:"getLicense",value:function i(){return cB("504B0101df0839f0000002f4f1380bdf0000036e432e03034a003320000a250000002211012e0100433d053d203500023500014a04153d011002cb2e000120000b2e00013a000c0e3d003b00463d033b00673d0a3b01003d0b3b01043d133b01cd3d163b01dc3d173b01e03d193b01e63d1a3b01e73d203b022c3d253b025e3d273b02643d293b02703a000d3b026a02140270123a000e09000f1f0900100802013d032e000106000b2e0401332000112e02012e04094a02152e04012000004102020e022e02022000124102030e022e02022000134102040e022e04042300032e02032300032e02042300092e04012000002000144810000b3d272e000106000b1401ff3d052e000106000c2e04012000002000142300032e02040802052e02032300092e04043600032e04054810000b3d0b2e000106000b1401c73d0a2e000106000b432e05042e04032e02032e04042e04054a04152e00012000150802052e02053600062e020520001610000d2e02052000162e04042a1400032e02050802062e04012000004102080e022e02082000174102090e022e020820001841020a0e022e020820001941020b0e022e05053320001a2e02094a0108020c2e02064836000d2e04012000002000134102060e022e020a3600182e05063320001b2e020c20001c2e020c20001d2e020b4a034810000b3d192e000106000b1401042e05072c3a001e184810000b3d162e000106000b1400ed3d132e000106000b432e05072e02062e020c20001d4a02152e00012000150802073d172e000106000b1400c12e05083a001f49010b3d1a2e000106000b1400ad2e02060802072e02053600062e02052000161000162e02072e02052000162e0404302e02052e02010600142e02072e0201060013172e0201060010432e04082e02014a01023d252e000106000b14005d3d202e000106000c2e0001333a00202a3d054a012e00010600211f2e02010600102e00012000212e0201060022432e04092e02014a01023d292e000106000b14001b172e0201060010432e04082e02014a01022e0001332000234a001514fd301d151c0800011c2000000800022e00022000010800032e00022000020800042e00022000030800052e0101332000044a000800062e00062000050800072e00062000060800082e00062000070800092e0101332000064a0033200008432e0102432e01034a0033200009250000000011004a014a014a01022e000715002406707c7d757a7403657a7703787a770d7476675f7a70767d607646617f0d647a677b4176607c7f657661600763617c7e7a6076076176607c7f65760661767976706704677b767d047e7261780464617263047d766b67046361766503767d770a7476675f7a70767d6076067e76677b7c770760667070766060174c67616a54766740767061766758766a516a477c78767d0960767061766758766a0878766a45727f66760377617e0460767d6709707f76726158766a6009607660607a7c7d5a770f666076467d7a7c7d5a7d757c57415e1778766a477c78767d566b637a61767757666172677a7c7d0374766715707b767078467d7a7c7d5a7d757c566b637a61767707667d7a7c7d5a5709667d7a7c7d5a7d757c0875667d70677a7c7d49477b7633316761727d60757c617e467d7a7c7d58766a3133607b7c667f773371763363617c657a777677337a7d33707c7d757a74666172677a7c7d33726033723375667d70677a7c7d05707267707b026723057661617c610460677c63",{get 0(){return i},1:Promise,get 2(){return eG},get 3(){return eV},get 4(){return cA},get 5(){return cL},get 6(){return sV},get 7(){return void 0!==n.transformUnionKey?n.transformUnionKey:void 0},8:Error,9:arguments},this)}},{key:"_tryGetSecretKeyByToken",value:(a=eG(eV().mark(function n(i,a){var o,s,c,u;return eV().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=(o=this.config).kid,c=o.drmKeyToken,u=o.playDomain,!(s&&c&&u)){n.next=13;break}return n.prev=2,n.next=5,this.getSecretKeyByToken(s,u,c);case 5:this.config.secretKey=n.sent,n.next=13;break;case 8:n.prev=8,n.t0=n.catch(2),i.success=!1,i.error=n.t0,a(i);case 13:case"end":return n.stop()}},n,this,[[2,8]])})),function(n,i){return a.apply(this,arguments)})},{key:"updateKid",value:function n(i){return cB("504B0101df0839f000000000f1380bdf000000171c20000036000d1c200000332000012e01024a01021d15000203767e7609666377726776587a77",{get 0(){return n},1:arguments,2:i},this)}},{key:"getLicenseSecret",value:function i(){return cB("504B0101df0839f00000029ff1380bdf000003f42e01013320000b2e020220000a2e00014a02021d152e01013320000b2e020220000c2e00014a02021d15432e03074a003320001d250000004c11012e0100433d093d173500023500014a04153d0110024c2e000120001e2e00013a001f0e3d003b00323d033b00533d073b008c3d083b00903d103b01533d113b01573d123b01703d173b01d33d1c3b02053a00203b01ff02140205123a00210900221f0900230802013d032e000106001e2e0401332000242e02012e040e4a02152e04012000002000250802022e0202483600042e0407484810000b3d082e000106001e1401b93d072e000106001e432e05082e04032e04042e04054a03152e00012000260802022e04061000282e0202360013432e0509432e050a2e02024a014a014102020e022e04073600072e04074102020e023d092e000106001f2e04012000004102030e022e02032000274102040e022e02032000284102050e022e02032000294102060e022e050b3320002a2e02044a010802072e02053600182e050c3320002b2e020720002c2e020720002d2e02064a034810000b3d122e000106001e1400fa2e04064810000b3d112e000106001e1400e83d102e000106001e432e050d2e02022e020720002d4a02152e00012000260802022e050c3320002e2e050e3320002f2e020720002d4a014a012e02010600302e040610003d12120900310802082e04042300032e050f0802092e02022e02082000312e0209302e0401200006332000162e02084a01023d000d2e02010600251400092e02022e0201060025172e0201060023432e040d2e02014a01023d1c2e000106001e1400413d172e000106001f2e0001333a00322a3d094a012e00010600331f2e02010600232e00012000332e0201060034432e040e2e02014a01022e0001332000354a001514fdaf1d151c0800011c2000000800022e00022000010800032e00022000020800042e00022000030800052e00022000040800062e00022000050800071c2000002000041000bf2e010149001c0600061c200006332000072e01022000081c2000094a02021c200006332000072e010220000a250000000001014a02021c200006332000072e010220000c250000001501014a02021c20000020000d0800082e00043600032e000810005b2e010320000e20000f332000104a00332000113a00124a013d01381e1000063a00131400033a0014080009432e0104122e0009122e00082e0004470900154a0308000a1c200006332000162e000a4a01022e0105332000174a00152e0105332000184a0008000b2e000b20001908000c2e000b20001708000d2e000b20001a08000e2e0105332000174a003320001b432e0106432e01074a003320001c250000002a11004a014a014a01022e000c15003606707c7d757a7403657a7703787a770d7476675f7a70767d607646617f06666076565e560878766a45727f667603767e76027c7d055641415c4108565e565661617c611350575e4c5f5a50565d40564c4046505056404004767e7a671150575e4c5f5a50565d40564c5641415c41137a7d677661676166606740766165766146415f097d72657a7472677c6109666076615274767d6711677c5f7c70727f765f7c64766150726076077a7d77766b5c7506707b617c7e7608647a7776657a7d7609637f726a617672776a0960766165766146415f0966637772677657617e076176607c7f65760d647a677b4176607c7f657661600763617c7e7a60760661767976706704677b767d047e7261780464617263047d766b67046361766503767d770a7476675f7a70767d6076067e76677b7c770760667070766060174c67616a54766740767061766758766a516a477c78767d0960767061766758766a0460767d6709607660607a7c7d5a770f666076467d7a7c7d5a7d757c57415e1778766a477c78767d566b637a61767757666172677a7c7d0374766715707b767078467d7a7c7d5a7d757c566b637a61767707667d7a7c7d5a5709667d7a7c7d5a7d757c134067617a7d74477c526161726a516675757661047b72607b0a777670616a636758766a09707f76726158766a6005707267707b026723057661617c610460677c63",{get 0(){return i},get 1(){return sG},get 2(){return n.EVENT_EME},get 3(){return window},get 4(){return eK},5:Promise,get 6(){return eG},get 7(){return eV},get 8(){return cb},get 9(){return cy},get 10(){return atob},get 11(){return cL},get 12(){return sV},get 13(){return n.transformUnionKey},get 14(){return cm},get 15(){return sN},16:arguments},this)}},{key:"destroy",value:function(){this.removeAllListeners(),this.eme&&(this.eme.destroy(),this.eme=null)}},{key:"log",value:function(n){for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];ck.apply(void 0,[n].concat(a))}},{key:"getSecretKey",value:function(){var n=this.config,i=n.vid,a=n.kid,o=n.getLicenseUrl,s=n.drmKeyToken,c=n.playDomain,u=n.secretKey;return o&&a?cb(i,a,o):s&&a&&c?this.getSecretKeyByToken(a,c,s):u||null}},{key:"getKeyValue",value:function n(){return cB("504B0101df0839f000000000f1380bdf0000003e1c2000000800012e00012000010800022e00012000020800032e00012000030800042e0001200004080005432e01012e00022e00052e00032e00044a0415000506707c7d757a7403657a7703787a770d7476675f7a70767d607646617f0960767061766758766a",{get 0(){return n},get 1(){return cA},2:arguments},this)}}],[{key:"pluginName",get:function(){return"XGSecretKey"}},{key:"defaultConfig",get:function(){return{keyValue:null,kid:null,getLicenseUrl:"",secretKey:null,drm:null,vid:"",useUnionInfoDRM:!1,transformUnionKey:null,drmKeyToken:null,keyTokenExpiredDuration:null,playDomain:null,sessionId:cP,useEME:!0,intertrustServerURL:null}}},{key:"updateUnionInfo",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cP,a=sV.getUnionInfo(n);return cL.set(i,{unionID:n,unionInfo:a}),a}}]),s}();cM.isWebAssemblySupported=cw,n.XGSecretKey=cM,n.aes4js=cO,n.util=sV}(i)},831442:function(n,i,a){"use strict";a.d(i,{Z:function(){return E}});var o,s,c=a(884504);a(514312),a(561999),a(831528),a(121621),a(379493),a(969642),a(577829),a(864614),a(632852),a(238658),a(616414),a(142301),a(210434),a(612222);var u=a(623176),d=a(374078),l=a(280161),f=a(233343),h=a(203199),p=a(569898),v=a(479461),g=a(431413),y=a(722774),m=a(927425),_=a(897948),b=a(74312),A=a(274005),w=a(918334),k=v.iS;let E=(0,c.qH)(function n(i){var a=this;(0,c.PA)(this,n),(0,c._x)(this,"_onChangeConfig",function(n){if(n){var i,o=n.nextBufferLength===(null===(i=a.config)||void 0===i?void 0:i.minBufferLength);if(a._nextBufferLength=n.nextBufferLength,n.nextBufferLength&&!o)try{a.loadData()}catch(n){}}}),(0,c._x)(this,"startProgressTimer",function(){a._pluginInst.info({msg:"startProgressTimer"});a._loadDataTime=0;var n=a.player,i=a.config;if(!!n&&!!a&&!!a.isDashCanUse&&!!a.dash.mse)a.dash.mse.progressTimer=new l.zh,a.dash.mse.progressTimer.repeat(function(){a._checkAndLoadData("timer")},1e3*i.tickInSeconds||i.progressTimer||v.vG),a._startCheckBufferBreakTimer(),a.player.on(u.TIME_UPDATE,a._onTimeUpdate)}),(0,c._x)(this,"_onTimeUpdate",function(){var n,i;if(!!a.isDashCanUse&&!!a.config.dashOpts&&!!(null!==(n=a.dash)&&void 0!==n&&n.mse))a._checkAndLoadData("timeupdate"),a.isEnded(),null===(i=a.dash)||void 0===i||i.onTimeUpdate(),a._seekingCheckBuffer()}),(0,c._x)(this,"_checkAndLoadData",function(){var n=a.config;if(!!a.isDashCanUse&&!!a.dash.mse&&!!a.dash.mse.progressTimer){var i=1e3*n.tickInSeconds||n.progressTimer||v.vG,o=h.Z.nowTime();o-a._loadDataTime>=i&&(a._loadDataTime=o,a.checkRemoveBuffer(),a.handleUrlExpire(),a.loadData(void 0),a.isEnded())}}),(0,c._x)(this,"_onAutoDescChange",function(n){var i,o=n.definition,s=n.reset,u=n.fps,d=n.item;!s&&(a.player.curDefinition=(0,c.Zj)({},d)),p.ZP.log(a.config.vid,"abritem autoDescChange",null===(i=a.player.curDefinition)||void 0===i?void 0:i.definition),a.updateAutoDefiDesc(o,s,u,d)}),this._pluginInst=i.pluginInst;var o=this._pluginInst,s=o.player,d=o.config;this._minDuration=1/0,this.player=s,this.config=d,this.startTimestamp=new Date().getTime(),this.lastDefiIdx=void 0,this.__isDashCanUse=!1,this.preloadBufferThreshold=this.config.preloadBufferThreshold||.5,this.abrInstance=null,this.definitions=[];var f=this.config.autoBitrateOpts||{};this.isPlayAutoDefi=!!f.isPlayAutoDefi,this.isOpenAutoDefi=!!f.isOpenAutoDefi,this.isCurrentAutoDefi=this.isOpenAutoDefi&&this.isPlayAutoDefi,this.bitrateMap={},this.curBitrate=0,this.defiIdMap={},this.definition2item={},this.bandwidth2item={},(this.preloadBufferThreshold<=0||this.preloadBufferThreshold>1)&&(this.preloadBufferThreshold=.5),this.curVideoInitSegmentIdx=-1,this.curVideoFileId=void 0,this.getPlayInfoTimestamp=this.startTimestamp/1e3;var g=d.dashOpts.dynamic_video.dynamic_video_list,m=d.dashOpts.dynamic_video.dynamic_audio_list;g&&g.length>0?this.urlExpireTimestamp=d.dashOpts.dynamic_video.dynamic_video_list[0].url_expire||0:m&&m.length>0&&(this.urlExpireTimestamp=d.dashOpts.dynamic_video.dynamic_audio_list[0].url_expire||0),this.gapJumpInst=new y.Z(s,d),h.Z.on(s,"addVideoBufferEnd",function(){a.gapJumpInst.onSegmentAppend()},"dashDestroy"),this._nextBufferLength=this.config.nextBufferLength,h.Z.on(s,A.J.CHANGE_FLYING_PLUGIN_CONFIG,this._onChangeConfig,"dashDestroy"),this._lastRemoveTimestamp=0},[{key:"initDash",value:function(n){var i=this;this.dash=n;var a=this.config;a.dashOpts.dynamic_video.dynamic_video_list.length>0&&(this.initAbr(),a.dashOpts.dynamic_video.dynamic_video_list.sort(function(n,i){return i.vheight-n.vheight}),a.dashOpts.dynamic_video.dynamic_video_list.forEach(function(n,o){n.definition===a.defaultDefinition&&(i.dash.selectedIdx=o)}),this.dashVideoEncrypted=a.dashOpts.dynamic_video.dynamic_video_list.some(function(n){return!!n.kid})),a.dashOpts.dynamic_video.dynamic_audio_list.length>0&&(this.dashAudioEncrypted=a.dashOpts.dynamic_video.dynamic_audio_list.some(function(n){return!!n.kid}))}},{key:"isDashCanUse",get:function(){return this.__isDashCanUse},set:function(n){this.__isDashCanUse=n}},{key:"encryptedType",get:function(){if(this.dashVideoEncrypted||this.dashAudioEncrypted){var n,i=!!this.config.intertrustServerURL||(null===(n=this.player.plugins)||void 0===n||null===(n=n.drm)||void 0===n?void 0:n.serverCertificatePath);return this.config.useEME?i?1:3:2}return 0}},{key:"isEnded",value:function(){var n=this.dash,i=this.player,a=this.mse,o=this.config;if("vod"===n.type){if(i.ended)p.ZP.log("player.ended === true"),"safari"===d.Z.browser&&(i.pause(),i.emit("ended"));else{var s=o.duration||i.duration||n.mpd.duration;if(i.duration&&(s=Math.min(s,i.duration)),n.mpd.duration&&(s=Math.min(s,n.mpd.duration)),s-this._minDuration<10&&(s=Math.min(s,this._minDuration)),s>0&&s-i.currentTime<v.Z6){var c=this._findRangeForPlaybackTime(i.currentTime)||{start:0,end:0};p.ZP.log("range",c,"current",i.currentTime,"duration",s);var u=Math.min(c.end,i.duration),l=i.currentTime-u>=0&&c.end>0,f=u-i.currentTime<v.Z6&&c.end>0;(l||f)&&(p.ZP.log("isEnded execute, isOver",l,"isClosed",f),a.endOfStream(),this.clearProgressTimer())}}}}},{key:"dashDestroy",value:function(){var n=this.player,i=this.dash;for(var a in i&&i.mse&&i.mse.unbindMedia&&i.mse.unbindMedia(),i&&i.eme&&(i.eme.emit("destroy"),i.eme.destroy()),i&&n.errorHandler&&(i.abortLoadingTasks(),i.emit("destroy")),i&&i.mpd&&i.mpd.timer&&(clearTimeout(i.mpd.timer),i.mpd.timer=null),this.crypto&&this.crypto.destroy(),i&&i.destroy(),this.clearCheckCanplayTimer(),this.clearProgressTimer(),this.clearBufferBreakTimer(),this.destroyAbr(),this.gapJumpInst&&this.gapJumpInst.destroy(),n&&(this.player.off(u.TIME_UPDATE,this._onTimeUpdate),n.__dash__=null,this._pluginInst.unloadVideo(),"function"==typeof n.video.setMediaKeys&&n.video.setMediaKeys(null).catch(function(){})),i)delete i[a];for(var o in this)delete this[o]}},{key:"bindComEvent",value:function(){var n,i=this;this._lastSeekTime=null;var a=this.player,o=this.config;h.Z.on(a,"error",i.clearProgressTimer.bind(i),"dashDestroy"),h.Z.on(a,"ended",i.clearProgressTimer.bind(i),"dashDestroy"),h.Z.on(a,"ended",function(){i.ended=!0},"dashDestroy");var s=(n=(0,c.x)((0,c.l5)().mark(function n(){var s,u,d,l,f,h,v,g,y,_;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(p.ZP.log("dash onSeeking",a.currentTime,"duration",a.duration),!a._invalidSeekTag){n.next=5;break}return a._invalidSeekTag=!1,p.ZP.log("auto seek 0.001, return"),n.abrupt("return");case 5:if(!(!i.isDashCanUse||!o.dashOpts||!i.mse)){n.next=7;break}return n.abrupt("return");case 7:if(u=i.ended,i.ended=a.ended,!u){n.next=12;break}return this.isOpenAutoDefi?this._pluginInst.next(a.currentTime,"NEXT",a.config.DASHPlugin,!0):i.startProgressTimer(),n.abrupt("return");case 12:if(l=0===(d=a.getBufferedRange(a.buffered)[1]),p.ZP.log("dash onseeking, bufferEnd:".concat(d,", outBuffer:").concat(l,", \n      switching:").concat(i.switching,", isFull:").concat(null===(s=i.mse)||void 0===s?void 0:s.isFull(m.d1.VIDEO))),!(l&&!i.switching)){n.next=20;break}return i.abortLoading=!0,n.next=19,i.dash.abortLoadingTasks();case 19:p.ZP.log("dash cancel loading task execute");case 20:if(i.dash){n.next=22;break}return n.abrupt("return");case 22:if(i.dash.mpd.setSegmentIndexByTime(a.currentTime),i.mse){n.next=25;break}return n.abrupt("return");case 25:if((f=i.mse).isFull&&(f.isFull(m.d1.VIDEO)||f.isFull(m.d1.AUDIO)))i.checkRemoveBuffer(!0,!0);else if(!l&&o.removeBufferWhenSeekInBuffer)try{h=a.getBufferedRange(i.mse.buffered("video"))[1],v=a.getBufferedRange(i.mse.buffered("audio"))[1],i._clearBufferByTime(Math.max(h,v),a.duration)}catch(n){}i.abortLoading=!1,l&&i._checkAndLoadData(),g=o.useDurationBackoff||!1,y=Date.now()/1e3,_=a.duration-a.currentTime<1,g&&_&&(!this._lastSeekTime||this._lastSeekTime<y-1)&&(this._lastSeekTime=y,a.currentTime=a.duration-1),i.gapJumpInst&&i.gapJumpInst.onSeeking();case 34:case"end":return n.stop()}},n,this)})),function(){return n.apply(this,arguments)});h.Z.on(a,"seeking",s,"dashDestroy");h.Z.on(a,"seeked",function(){p.ZP.log("dash onSeeked",a.currentTime),i.seeking=!1,i.isEnded(),i.dash.isAllAppend()&&(i.mse.endOfStream(),p.ZP.log("dash seeked endofstream"))},"dashDestroy"),h.Z.on(a,"dashDestroy",i.dashDestroy.bind(this))}},{key:"_seekingCheckBuffer",value:function(){var n=this;if(!!this.dash)for(var i=[m.d1.VIDEO,m.d1.AUDIO],a=0;a<i.length;a++){for(var o=i[a],s=this.dash.mpd.getBuffered(o),c=0;c<s.length;c++)!function(){var i=s[c],a=n.player.currentTime,u=i.start<=a&&a<=i.end;if(!u&&i.end-i.start<.5){p.ZP.log("remove buffer _seekingCheckBuffer",i.start,i.end,"curTime",a,"inBuffer",u,"mediaType",o,"mediaBuffered",s);var d=n.removeBuffer(o,i.start,i.end);d&&d.catch(function(n){p.ZP.log("_seekingCheckBuffer start",i.start,"end",i.end,n.message)})}}()}}},{key:"destroy",value:function(){var n=this.player;null==n||n.emit("dashDestroy")}},{key:"_findRangeForPlaybackTime",value:function(n){var i=this.player.buffered;if(!!i){for(var a=0;a<i.length;a++)if(h.Z.round(i.start(a))<=h.Z.round(n)&&h.Z.round(i.end(a))>=h.Z.round(n))return{start:h.Z.round(i.start(a)),end:h.Z.round(i.end(a)),rawStart:i.start(a),rawEnd:i.end(a)}}}},{key:"loadData",value:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.player,s=this.config;if(this.switching||this.abortLoading){p.ZP.log(s.vid,"loadData switching",this.switching);return}if(!this.dash)return;var c=s.maxBufferLength||s.preloadTime||v.VC,u=this.dash.mpd.mediaList.video;if(u&&u.length>0&&u[u.selectedIdx]){var d=u[u.selectedIdx].bandwidth;i=u[u.selectedIdx].definition||this.bandwidth2item[d].definition}if(s.dynamicPreloadTimeOpts&&i){var l=s.dynamicPreloadTimeOpts[i];l&&(c=l)}var h=!1;o.paused&&(h=!0),c=h?o.isInstNext&&this._nextBufferLength>=0?this._nextBufferLength:s.minBufferLength:this.dash.getAdaptCacheBuffer(c),this.preloadTime!==c&&(this.preloadTime=c,p.ZP.log("maxCacheTimeAudio change",c),o.emit(f._c.MAX_BUFFER_CHANGE,{videoCacheTime:c,audioCacheTime:c}));var g=n||o.currentTime;!n&&(n=o.currentTime);var y=this._findRangeForPlaybackTime(n),m=y&&Math.ceil(Math.max(y.end,y.rawEnd))||Math.floor(n);if(this.dash.isOpenPCDN((null==y?void 0:y.end)||0),!(m>n+c)){var _=this.dash.getPCDNInOutBuffer(),b={force_set_min:h,buffer_dur:c,load_size:-1,load_tar_dur:-1,load_dur:-1,in_buf:_.PCDNInBuffer||-1,out_buf:_.PCDNOutBuffer||-1};this.dash.pushDynamicBufferServiceRes(b),this.dash.seek(n>0,g,a,c)}}},{key:"startCheckCanplayTimer",value:function(){var n=this,i=this.player,a=this.config;if(!!i&&!a.disableCanplayCheck)p.ZP.log("未起播计时开始！持续".concat(a.canplayTimeout,"毫秒未启播降级")),this.checkCanplayTimer=setTimeout(function(){p.ZP.log("确认没有起播！！！"),n.clearCheckCanplayTimer(),null==i||i.errorHandler(new g.Z(_.wb.RUNTIME,_.wb.SUB_TYPES.NO_CANPLAY_ERROR,{message:"NO_CANPLAY_ERROR"}))},a.canplayTimeout)}},{key:"clearCheckCanplayTimer",value:function(){this.checkCanplayTimer&&(clearTimeout(this.checkCanplayTimer),this.checkCanplayTimer=null)}},{key:"clearBufferBreakTimer",value:function(){this.bufferCheckTimer&&(clearTimeout(this.bufferCheckTimer),this.bufferCheckTimer=null)}},{key:"handleUrlExpire",value:function(){var n;null===(n=this._pluginInst)||void 0===n||n.handleUrlExpire(this)}},{key:"_startCheckBufferBreakTimer",value:function(){var n=this,i=this.config;if(!!i&&!i.disableBufferBreakCheck)this.clearBufferBreakTimer(),this.bufferCheckTimer=setTimeout(function(){n._onBufferBreakCheck(),n._startCheckBufferBreakTimer()},v.vG)}},{key:"_onBufferBreakCheck",value:function(){var n=this,i=this.player,a=this.config;if(!a){this.clearBufferBreakTimer();return}!a.disableBufferBreakCheck&&(Math.abs(i.currentTime-(n.lastCurrentTime||0))>.1||i.paused?(1===n.dashBufferBreak||2===n.dashBufferBreak)&&(p.ZP.log("视频没有卡死，重置卡死标记"),n.dashBufferBreak=0,clearTimeout(n.dashBufferBreakTimer),n.dashBufferBreakTimer=null):!n.dashBufferBreak&&(n.dashBufferBreak=1,p.ZP.log("卡死计时开始！持续".concat(a.waitingTimeOut,"毫秒则确认卡死")),n.dashBufferBreakTimer=setTimeout(function(){if(1===n.dashBufferBreak){n.dashBufferBreak=2,p.ZP.log("确认卡死！！！");var i=document.hidden||"hidden"===document.visibilityState?_.wb.SUB_TYPES.WAITING_TIMEOUT_ERROR:_.wb.SUB_TYPES.BUFFERBREAK_ERROR;n.dash.emit("error",new g.Z(_.wb.RUNTIME,i))}n.dashBufferBreakTimer=null},a.waitingTimeOut)),n.lastCurrentTime=i.currentTime)}},{key:"_isMseFull",value:function(){return!!this.mse&&!!this.mse.isFull&&(this.mse.isFull(m.d1.VIDEO)||this.mse.isFull(m.d1.AUDIO))}},{key:"checkRemoveBuffer",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.player,o=this.config,s=new Date().getTime(),c=this._isMseFull(),u=n||c;if(!(s-this._lastRemoveTimestamp<1e3*o.removeBufferLen)||!!u){this._lastRemoveTimestamp=s;var d=a.currentTime,l=a.getBufferedRange(),f=l&&l[0]>=0&&d-l[0]>o.removeBufferLen;p.ZP.log("checkRemoveBuffer","mseFull",c,"force",n,"needRemove",f),(u||f)&&this._clearBuffer(u,i)}}},{key:"_checkBufferFull",value:function(n){var i=this;clearTimeout(this._fullTimer),this._isMseFull()&&(this._fullTimer=setTimeout(function(){clearTimeout(i._fullTimer),i._clearBuffer(!0)},1e3*n))}},{key:"_clearBuffer",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.player;if(!!this.isDashCanUse&&!!this.mse){var s=o.getBufferedRange()[1]>0,c=o.currentTime,u=h.Z.getBufferData(null==o?void 0:o.buffered,c),d=u.beforeBufLen,l=u.afterBufLen,f=u.beforeLastBuffEnd,v=u.afterFirstBuffEnd,g=u.afterFirstBuffStart;!s&&(c=c-f<15?f:c);var y=this._findClosetGop(c,!1),m=i&&a&&!s,_=m?.1:5;if(y&&this._clearBufferByTime(0,y,function(i){m&&(null==i?void 0:i.removeDur)<5&&n._clearBuffer(!0,!0)}),i){p.ZP.log("clearBuffer isFull","isSeeking",a,"isInBuffer",s,"beforeBufLen",d,"afterBufLen",l,"afterFirstBuffEnd",v,"afterFirstBuffStart",g,"beforeLastBuffEnd",f);var b=0,A=0;if(a&&!s){if(A=this._findClosetGop(g,!0,2),b=this._findClosetGop(v,!1,1),p.ZP.log("clearBuffer isFull removeStart",A,"removeEnd",b),0===d){for(var w=this.player.video.buffered,k=0,E=w.length-1;E>=0;E--){var x=w.start(E),S=w.end(E);if((k+=S-x)>10){A=h.Z.round(x),b=h.Z.round(S);break}}p.ZP.log("clearBuffer isFull beforeBufLen 0 removeStart",A,"removeEnd",b)}A<b?this._clearBufferByTime(A,b,function(i){m&&(null==i?void 0:i.removeDur)<5&&n._clearBuffer(!0,!0)}):this._checkBufferFull(_)}else this._checkBufferFull(_)}}}},{key:"_findClosetGop",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=this.dash.mpd.mediaList.video;!o[o.selectedIdx]&&(o=this.dash.mpd.mediaList.audio);var s=o[o.selectedIdx].mediaSegments;if(i){for(var c=0,u=0;u<s.length;u++)if(s[u].startRaw>n&&++c>a)return s[u].start}else{for(var d=0,l=s.length-1;l>-1;l--)if(s[l].endRaw<n&&++d>a)return s[l].end}}},{key:"_getFirstGopEnd",value:function(){var n,i=this.dash.mpd.mediaList,a=i.video.length>0,o=this.dash.mpd.mediaList.audio.length>0,s=0;if(a&&(s=Math.max(s,i.video[i.video.selectedIdx].mediaSegments[0].end)),o){;s=Math.max(s,(null===(n=i.audio[i.audio.selectedIdx].mediaSegments[0])||void 0===n?void 0:n.end)||0)}return{clearMinStart:s,hasVideo:a,hasAudio:o}}},{key:"clearBufferDirect",value:function(n,i){var a=i.startRaw,o=i.endRaw;if(!(a>=o)){var s=this.removeBuffer(n,a+1e-5,o);s&&s.catch(function(){p.ZP.log("mediaType",n,"catch clearBufferDirect start: ".concat(a," end: ").concat(o))})}}},{key:"_clearBufferByTime",value:function(n,i,a){var o=this,s=[],c=this._getFirstGopEnd(),u=c.clearMinStart,d=c.hasVideo,l=c.hasAudio;n=Math.max(u,n),p.ZP.log("removeBuffer clearBufferByTime start: ".concat(n," end: ").concat(i," clearMinStart:").concat(u));var f=this.getBufferDur();if(n>i){p.ZP.log("clearBuffer return clearBufferByTime start: ".concat(n," end: ").concat(i," clearMinStart:").concat(u)),a({removeDur:0});return}if(d){var h=this.removeBuffer(m.d1.VIDEO,n,i);h&&s.push(h)}if(l){var v=this.removeBuffer(m.d1.AUDIO,n,i);v&&s.push(v)}Promise.all(s).then(function(){var n=o.getBufferDur(),i=f-n;i>0&&(o.player.emit("removeBuffer",{removeDur:i}),p.ZP.log("removeBuffer dur,",i,"oldTotalBuffer",f,"newTotalBuffer",n),o.player.emit("removeBufferEnd"),a&&a({removeDur:i}))}).catch(function(n){p.ZP.log("removeBuffer error",n),a&&a({removeDur:0})})}},{key:"removeBuffer",value:function(n,i,a){if(p.ZP.log("removeBuffer start",n,i,a),void 0===a){var o,s,c,u=this.dash.mpd.mediaList[n];if(null!==(o=u[u.selectedIdx])&&void 0!==o&&null!==(o=o.mediaSegments)&&void 0!==o&&o[0])a=null===(s=u[u.selectedIdx])||void 0===s||null===(s=s.mediaSegments)||void 0===s?void 0:s[0].endRaw;else{;a=this.config.duration||this.player.duration||(null===(c=this.dash)||void 0===c||null===(c=c.mpd)||void 0===c?void 0:c.duration)}p.ZP.log("removeBuffer end undefined, fix",n,i,a)}if(this.dash.mpd.clearBuffer(i,a,n),this.mse&&this.mse.remove&&!this._pluginInst.softVideo){var d=this.mse.remove(n,i,a);return d&&d.catch(function(){}),d}return null}},{key:"getBufferDur",value:function(){if(!(null!==(n=this.player)&&void 0!==n&&n.buffered))return 0;for(var n,i=this.player.buffered,a=0,o=0,s=i.length;o<s;o++)a+=i.end(o)-i.start(o);return a}},{key:"abort",value:function(n){if(this.mse&&this.mse.abort&&this.dash.mpd.mediaList[n].length>0){var i=this.mse.abort(n,{mediaType:n});i&&i.catch(function(){})}}},{key:"clearProgressTimer",value:function(){this.isDashCanUse&&this.dash.mse&&this.dash.mse.progressTimer&&(this.dash.mse.progressTimer.clear(),this.dash.mse.progressTimer=null),this.dashBufferBreakTimer&&(clearTimeout(this.dashBufferBreakTimer),this.dashBufferBreakTimer=null,this.dashBufferBreak=void 0)}},{key:"emitMenuResolutionChange",value:function(){var n=this.player;try{var i=this.dash.mpd.mediaList.video;if(i){var a=i[i.selectedIdx],o={width:a.width,height:a.height};n.emit("RESOLUTION_UPDATE",o)}else n.emit("RESOLUTION_UPDATE")}catch(i){n.emit("RESOLUTION_UPDATE")}}},{key:"updateDashType",value:function(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=l.Xb.getItem(v.WV),o=v.sp;n=i?o.MAIN:a===o.BACK?o.MAIN:o.BACK,l.Xb.setItem(v.WV,n)}},{key:"changeMainBackUrl",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.INIT,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i&&!!this._pluginInst){var a=this._pluginInst.config,o=l.Xb.getItem(v.WV),s=!1,c=v.sp;if((n===k.INIT&&o===c.BACK||n===k.ERR)&&(s=!0),p.ZP.log(a.vid,"curDashType",o,"changeState",n,"needChange",s),s){var u=a.dashOpts.dynamic_video.main_url,d=a.dashOpts.dynamic_video.backup_url_1;a.dashOpts.dynamic_video.main_url=d,a.dashOpts.dynamic_video.backup_url_1=u,h.Z.exchangeListUrl(a.dashOpts.dynamic_video.dynamic_video_list),h.Z.exchangeListUrl(a.dashOpts.dynamic_video.dynamic_audio_list)}var f=a.dashOpts.dynamic_video.main_url;return this._checkUrlRange(f),a}}},{key:"_checkUrlRange",value:function(n){var i=this._pluginInst.config,a=i.url_range_domains||[],o=h.Z.validateUrlRange(a,n);i.useUrlRange=o}},{key:"updateAutoDefiDesc",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=this.player,c=(this.config.autoBitrateOpts||{}).autoDefiText||"auto";s.emit("ABR_AUTO_DESC_CHANGE",c,i?void 0:n,a,o),!i&&this._pluginInst.setCurrentDefitionInfos("自动 ".concat(n),o)}},{key:"_abrLoadMetaSuccess",value:function(n,i,a,o){if(o===m.d1.VIDEO){var s=this.dash,c=this.config,u=s.mpd.mediaList.video;this.abrInstance&&this.abrInstance.updateBitrate(this.defiIdMap[n].bitrate),a&&(this.lastDefiIdx=n),this.selectedIdx=i,c.defaultDefinition=u[this.selectedIdx].definition}}},{key:"_startLoadInitSegment",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"video",s=new l.XK,c=this,u=this.dash,d=this.config;if(!u.mpd){p.ZP.log("_startLoadInitSegment dash.mpd is null"),s.reject();return}var f=u.mpd.mediaList[o],h=f.selectedIdx;return f.every(function(l,v){if(l.id!==n)return!0;h=v,c.setSwitching(o,!0);var g=f[h].wrapperData,y=u.isProgressiveLoading(o).isCancellable;return p.ZP.log("mediaType",o,"isCancellable",y),g&&y?((c.dashVideoEncrypted||c.dashAudioEncrypted)&&!1===d.useEME&&c.crypto&&c.crypto.updateHeaderId(),i._abrLoadMetaSuccess(n,h,a,o),s.resolve(g)):c._makeInitSegemntRequestWithRetry(o,h,!1,function(){c.setSwitching(o,!1)}).then(function(c){i._abrLoadMetaSuccess(n,h,a,o),s.resolve(c)}).catch(function(n){c.setSwitching(o,!1),p.ZP.log("_makeInitSegemntRequestWithRetry",JSON.stringify({msg:n.message}))}),!1}),s}},{key:"setCurrentDefinition",value:function(){try{var n=this.dash,i=n.mpd.mediaList.video,a=i[i.selectedIdx],o=a.definition,s=a.bandwidth;this._pluginInst.setCurrentDefitionInfos(o,this.definition2item[o]),n.updateDynamicBufferServiceBitrate(s),n.checkPCDN()}catch(n){}}},{key:"_emitDefinitionChangeDetailEvent",value:function(n){this.player.emit("definitionChangeDetail",n)}},{key:"setPlayerCurDefinition",value:function(n){var i=this._pluginInst.player;if(n&&"__auto__"===n.url||(i.curDefinition=n),i.curDefinition&&"object"===(0,c.Ac)(i.curDefinition)){var a=this.dash.mpd.mediaList.audio,o=a[a.selectedIdx],s=this.config.dashOpts.dynamic_video.dynamic_audio_list;if(s.length>0)try{i.curDefinition.audioDefinition=s.filter(function(n){return n.main_url===o.baseURL})[0]}catch(n){p.ZP.log("setAudioFaild",n)}}}},{key:"switchURL",value:function(n){var i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=this;if(!n)return;if(!Array.isArray(n)){var o=n.toString();n=o.split("/")[o.split("/").length-1]}var s=a.definitions.filter(function(i){return i.url===n})[0];if(!!s){this.setPlayerCurDefinition(s);var c=n===f.UV;if(p.ZP.log("switchURL",n,i),c){a.abrInstance.start(),a.isCurrentAutoDefi=!0,a.abrInstance.isCurrentInAbr=!0,setTimeout(function(){a.abrInstance._onTimeUpdate(null,!0)});return}a.isCurrentAutoDefi&&(a.updateAutoDefiDesc("",!0),a.isCurrentAutoDefi=!1,a.abrInstance.isCurrentInAbr=this.isCurrentAutoDefi),i&&a.abrInstance.stop(!0),this._doChangeDefinition(m.d1.VIDEO,n),this._audioChangeDefinition(n)}}},{key:"_audioChangeDefinition",value:function(n){var i=this.dash.selectAudio(n,!1);if(i>-1)try{p.ZP.log("switch url audio change",i);var a=this.dash.mpd.mediaList.audio[i].id;if(a!==this.dash.mpd.mediaList.audio.selectedIdx){p.ZP.log("switch url audio same no need change");return}this._doChangeDefinition(m.d1.AUDIO,a)}catch(n){}}},{key:"_doChangeDefinition",value:function(n,i){var a,o=this,s=this._pluginInst.player,u=this;u._startLoadInitSegment(i,!0,n).then((a=(0,c.x)((0,c.l5)().mark(function i(a){var l,f,v,g,y,_,b,A,w,k,E;return(0,c.l5)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!((l=u.dash.mpd.mediaList[n])[u.selectedIdx].definition!==a.definition&&n===m.d1.VIDEO)){i.next=7;break}return u._videoSwiting=!1,p.ZP.log("definitionSwitchTime cancel, current:",u.selectedIdx,"self",a.newIdx),i.abrupt("return");case 7:return a.newIdx!==u.selectedIdx&&(p.ZP.log("definitionSwitch fix:",u.selectedIdx,"newIdx",a.newIdx),a.newIdx=u.selectedIdx),i.next=10,u._switch(a.newIdx,n);case 10:if(f=i.sent,v=s.currentTime,g=null,g=l[f||0].mediaSegments.find(function(n){return n.start-v>2.5}),y=!1,!g&&(g=(_=l[f||0].mediaSegments)[_.length-1],y=!0),g){i.next=19;break}return u._doAppendInitSegment(n,a,g),i.abrupt("return");case 19:b=h.Z.round(g.start),A=h.Z.round(s.getBufferedRange(s.buffered)[1]),p.ZP.log("切换清晰度 curTime: ".concat(v," start: ").concat(b," end: ").concat(A),v),n===m.d1.VIDEO&&(u.setCurrentDefinition(),!u.isCurrentInAbr()&&(p.ZP.log("definitionSwitchTime emit, current",u.selectedIdx),s.emit("definitionSwitchTime",b)),o._emitDefinitionChangeDetailEvent({start:b,bitrate:null===(w=l[a.newIdx])||void 0===w?void 0:w.bandwidth,mediaType:n,definition:a.definition,url:a.url,fileid:a.fileId})),A-b>0&&"safari"!==d.Z.browser&&!y&&n===m.d1.VIDEO&&(p.ZP.log("switch seek removeBuffer: ".concat(b," ").concat(s.duration)),u.removeBuffer(n,g.startRaw,s.duration),k=Math.max(1,g.idx-1),(E=l[f||0].mediaSegments[k-1]).start>0&&E.start<v&&u.removeBuffer(n,0,E.startRaw-.001)),u._doAppendInitSegment(n,a,g);case 25:case"end":return i.stop()}},i)})),function(n){return a.apply(this,arguments)}))}},{key:"_doAppendInitSegment",value:function(n,i,a){var o=this;p.ZP.log("switchURL appendInitSegment start",i.newIdx),this._appendInitSegment(n,i,i.newIdx).then(function(){if(p.ZP.log("switchURL appendInitSegment",i.newIdx),o.setSwitching(n,!1),a&&o.loadData((a.start+a.end)/2,!1),o.emitMenuResolutionChange(),o.config.loadFirstGopData){var s;null===(s=o.dash)||void 0===s||s.loadFirstVideoGop()}})}},{key:"switching",get:function(){return this._switching}},{key:"setSwitching",value:function(n,i){n===m.d1.VIDEO?this._videoSwiting=i:this._audioSwiting=i,this._switching=this._videoSwiting||this._audioSwiting,p.ZP.log("setSwitching",n,"video",this._videoSwiting,"audio",this._audioSwiting)}},{key:"abrSwitchURL",value:function(n){var i,a=this,o=this.dash,s=this.player,u=this.config;n=n.split("/")[n.split("/").length-1],p.ZP.log("abrSwitchURL",n),this._startLoadInitSegment(n).then((i=(0,c.x)((0,c.l5)().mark(function n(i){var d,l,f,h;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return d=o.mpd.mediaList.video,n.next=3,a._switch(i.newIdx,m.d1.VIDEO);case 3:if(l=n.sent,f=s.getBufferedRange(s.buffered)[1],h=d[l].mediaSegments.find(function(n){return n.start-f>=0})){n.next=9;break}return a._doAppendInitSegment(m.d1.VIDEO,i,h),n.abrupt("return");case 9:a._pluginInst.info({msg:"abr switch",data:{bd:d[l].definition,d:d[i.newIdx].definition,start:0===f?s.currentTime:h.start},add:!0}),a.setCurrentDefinition(),a._appendInitSegment("video",i,i.newIdx).then(function(){p.ZP.log(null==u?void 0:u.vid,"abrSwitchURL appendInitSegment",i.newIdx),a.setSwitching(m.d1.VIDEO,!1),a.loadData(void 0,!1)}).catch(function(n){p.ZP.log(null==u?void 0:u.vid,"appendInitSegment",n)});case 12:case"end":return n.stop()}},n)})),function(n){return i.apply(this,arguments)})).catch(function(n){p.ZP.log("startLoadInitSegemnt",n)}),p.ZP.log("abrSwitchURLAudioStart",n),this._audioChangeDefinition(n)}},{key:"_switch",value:(o=(0,c.x)((0,c.l5)().mark(function n(i,a){var o,s,u,d;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=this.dash,u=(s=a===m.d1.VIDEO?o.mpd.mediaList.video:o.mpd.mediaList.audio).selectedIdx,s.selectedIdx=i,n.next=6,o.abortLoadingTasks(a);case 6:return s[u].mediaSegments.every(function(n){return n.downloaded=v.Kc.NO_START,!0}),(d=o.mpd.mediaList.audio)[d.selectedIdx]&&d[d.selectedIdx].mediaSegments&&d[d.selectedIdx].mediaSegments.forEach(function(n){n.downloaded===v.Kc.GOING&&(n.downloaded=v.Kc.NO_START)}),n.abrupt("return",u);case 10:case"end":return n.stop()}},n,this)})),function(n,i){return o.apply(this,arguments)})},{key:"_handleInitData",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,c=this.dash,u=new l.XK;if(n instanceof ArrayBuffer){var d=0===i.length?n:n.slice(i[0],i[1]+1),f=null===a?null:n.slice(a[0],a[1]+1);c&&!1===c.useEME&&this.crypto?this.crypto.decryptHeader(d,"video"===s,!this._pluginInst.softVideo).then(function(i){var a=i.data,s=a.res,c=a.videoTrack,d=a.audioTrack;u.resolve({initSegmentRes:s,data:n,sidxSegmentRes:f,headers:o,videoTrack:c,audioTrack:d})}):u.resolve({initSegmentRes:d,data:n,sidxSegmentRes:f,vid:null,headers:o})}return u}},{key:"_appendInitSegment",value:function(n,i,a){var o=this,s=this.player,c=this.config,u=c.duration;this.dash.mpd.duration>0&&(u=this.dash.mpd.duration);var d=new l.XK,f=this.dash.mpd.mediaList[n],h=i.initSegmentRes,v=i.sidxSegmentRes;if(!i.fromCache&&(i.fromCache=!0,f[f.selectedIdx].wrapperData=i,v))try{if(this.dash.mpd.getSidx(v,n,a,u),this.abrInstance&&n===m.d1.VIDEO){var y=f[f.selectedIdx].mediaSegments[0].segmentDuration;this.abrInstance.readyPromise().then(function(){o.abrInstance.updateSegmentDuration(y)})}}catch(n){s.errorHandler(n);return}if(n===m.d1.VIDEO){var A=(0,b.Ww)(f[f.selectedIdx].codecs);this._pluginInst.setCodeInfo(A)}return p.ZP.log(null==c?void 0:c.vid,"appendInitSegment mediaType:".concat(n,", index: ").concat(a)),this.dash.changeType(n,f[f.selectedIdx].codecs),this._pluginInst._kernal.setNodeTime("init_".concat(n,"_appendStart")),this.dash.appendBuffer(n,h,{mediaType:n,index:a,initSegment:!0,allSegment:!0},i.videoTrack,i.audioTrack).then(function(i){if(o._pluginInst.info({msg:"appendBuffer",data:{mediaType:n,index:a}}),o._pluginInst._kernal.setNodeTime("init_".concat(n,"_appendDone"),i),p.ZP.log(null==c?void 0:c.vid,"appendInitSegment success mediaType:".concat(n,", index: ").concat(a,", \n      curVideoInitSegment:").concat(o.curVideoInitSegmentIdx)),f[f.selectedIdx].inited=!0,f.switchTag=!0,d.resolve(),"video"===n&&o.curVideoInitSegmentIdx!==a){o.curVideoInitSegmentIdx=a,o.curVideoFileId=f[f.selectedIdx].fileId,p.ZP.log(null==c?void 0:c.vid,"appendInitSegment",a,"fileId",o.curVideoFileId);var u=o._findClosetGop(s.currentTime,!0,0);o.dash.mpd.clearBuffer(u,s.duration,"video")}}).catch(function(i){var a,u="appendInitSegment type-".concat(n,"-appendCatch,range:").concat(JSON.stringify(h),",\n      message:").concat(i.message);p.ZP.log(null==c?void 0:c.vid,u),null===(a=o._pluginInst)||void 0===a||a.setStartTimelines(w.l1.MSE_ERROR,{message:u}),i&&i.errorCode&&s&&s.emit(new g.Z(_.wb.MEDIA,i.errorCode,{message:"appendInit ".concat(i.message)}))}),this.dash.appendFirstSegment(n),d}},{key:"_makeInitSegemntRequest",value:(s=(0,c.x)((0,c.l5)().mark(function n(){var i,a,o,s,u,d,f,h,v,g,y,m,_,b,A,w,k,E,x,S,T,I,R,C,D,O,B=arguments;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=B.length>0&&void 0!==B[0]?B[0]:"video",o=B.length>1&&void 0!==B[1]?B[1]:0,s=B.length>2&&void 0!==B[2]?B[2]:null,u=this.dash,d=this.config,f=new l.XK,h=u.mpd&&u.mpd.mediaList[a][o],v=[],g="",h){n.next=12;break}return f.reject({mediaType:a,index:o,initSegmentRange:v,url:g,rejected:!0,msg:"list is null"}),p.ZP.log("initSegmentRequest error"),n.abrupt("return",f);case 12:return v=(h.initSegmentRange||[]).concat(),(y="segment_base"===u.mpd.dashType)&&(v[1]=h.sidxRange[1]),g=h.initSegment,m="video"===a&&(h.definition||this.bandwidth2item[h.bandwidth].definition),this._checkUrlRange(g),_=d.useInitTimeout?d.initTimeout:0,b={mediaType:a,vid:d.vid,definition:"video"===a?m:void 0,useUrlRange:d.useUrlRange,timeout:_,bitrate:h.avg_bitrate||h.bandwidth||h.bitrate,initSegment:!0,codecType:(null===(i=u.mpd)||void 0===i?void 0:i.videoCodecType)||"h264",fileId:h.fileId,checkPreload:!0},A=!1,w=function(){s&&s(),A=!0},n.next=24,u.getData(g,v,a,b,!1,null,w,_);case 24:return E=(k=n.sent||{}).res,x=k.headers,S=k.status,T=k.readyState,I=k.fromCache,R=k.error,C=k.orgDefinition,E&&"error"!==E?(C&&m===(null===(O=this.player.curDefinition)||void 0===O?void 0:O.definition)&&(this.player.curDefinition.orgDefinition=C),this._handleInitData(E,h.initSegmentRange,y?h.sidxRange:null,x,a).then(function(n){n.newIdx=o,n.mediaType=a,n.initSegmentRange=v,n.cache=I,n.definition=b.definition,n.bitrate=b.bitrate,n.url=g,n.fileId=b.fileId,f.resolve(n)})):(D=!1,h.fallbackUrl&&!h.hasFallback&&y&&(h.hasFallback=!0,D=!0,h.initSegment=h.fallbackUrl),f.reject({mediaType:a,index:o,initSegmentRange:v,url:g,rejected:!0,reason:E||(A?"isCanceled":"initData is null"),status:S,readyState:T,ext:R instanceof Error?{msg:R.message}:R,retry:D})),n.abrupt("return",f);case 28:case"end":return n.stop()}},n,this)})),function(){return s.apply(this,arguments)})},{key:"_makeInitSegemntRequestWithRetry",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"video",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.handleUrlExpire();var u=c||new l.XK;return o&&this._pluginInst._kernal.setNodeTime("init".concat(i,"_metastart")),this._makeInitSegemntRequest(i,a,s).then(function(s){n._pluginInst.info({msg:"initSegmentRequest succ"}),o&&(n._pluginInst._kernal.setNodeTime("init".concat(i,"_metadone"),{fromCache:s.cache,byteLength:s.data.byteLength,mediaType:i,index:a,definition:s.definition,isInitSegment:!0},!0),n._emitDefinitionChangeDetailEvent({start:0,bitrate:s.bitrate,mediaType:i,definition:s.definition,url:s.url,fileid:s.fileId})),u.resolve(s)}).catch(function(o){if(o.retry){n._makeInitSegemntRequestWithRetry(i,a,!1,s,u);return}var c,d=o.message?o.message:o;u.reject(new g.Z(_.wb.RUNTIME,g.Z.INIT_SEGMENT_ERROR,{line:329,mediaType:i,index:a,error:d,message:"reason ".concat((null==o||null===(c=o.ext)||void 0===c?void 0:c.msg)||(null==d?void 0:d.reason)," status ").concat(null==d?void 0:d.status),retry:o.retry}))}),u}},{key:"updateAbrCacheData",value:function(n,i,a){var o=this.dash,s=this.config,c=s.autoBitrateOpts||{},u=o.mpd.mediaList.video,d=a.definition,l=s.definitionText&&s.definitionText[d]||d,h=u[n],p=a.bitrate;this.bitrateMap[p]={url:h.id,definition:d,definitionName:l},this.defiIdMap[h.id]={bitrate:p,definition:d},n===u.length-1&&this.isOpenAutoDefi&&this.definitions.push({name:c.autoDefiText||"auto",url:f.UV,selected:i,definition:"自动",fps:void 0})}},{key:"destroyAbr",value:function(){var n=this.player;this.abrInstance&&(n&&n.off(f._c.UPDATE_AUTO_DESC,this._onAutoDescChange),this.abrInstance.destroy(),this.abrInstance=null)}},{key:"initAbr",value:function(){var n,i=this,a=this,o=this.player,s=this.config;h.Z.on(o,f._c.UPDATE_AUTO_DESC,this._onAutoDescChange,"dashDestroy"),this.bitrateMap={},this.defiIdMap={};var u=p.qu;a.abrInstance=new f.ZP(o,s,0,s.dashOpts.dynamic_video,5e3,{logger:p.ZP.abr,openLog:u}),h.Z.once(o,f._c.ABR_START_PROGRESS,this.startProgressTimer,"dashDestroy"),a.abrInstance.onAbrChange=function(n,i,s,c){var u=a.bitrateMap[n],d=a.bitrateMap[i],l=null==u?void 0:u.definition,f=null==d?void 0:d.definition;if(p.ZP.abr("abr change prevD:",l,"curDef:".concat(f)),l!==f&&!!d)a.abrSwitchURL(d.url),o.emit("ABR_CHANGE",{prev:l,cur:f,prevName:u.definitionName,curName:d.definitionName,abrInfo:c})},h.Z.on(o,f._c.ABR_CHANGE,a.abrInstance.onAbrChange,"dashDestroy"),h.Z.on(o,f._c.ABR_LIMIT_BITRATE,(n=(0,c.x)((0,c.l5)().mark(function n(s){var u,d,l;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=s.removed,p.ZP.log("ABR_LIMIT_BITRATE, currentTime",o.currentTime,"removed",u),!(a.isCurrentInAbr()&&u)){n.next=8;break}return n.next=5,null===(d=a.dash)||void 0===d?void 0:d._doCancel(m.d1.VIDEO);case 5:l=i._findClosetGop(o.currentTime,!0,2),p.ZP.log("ABR_LIMIT_BITRATE, currentTime",o.currentTime,"removeStart",l),i.removeBuffer(m.d1.VIDEO,l,o.duration);case 8:case"end":return n.stop()}},n)})),function(i){return n.apply(this,arguments)}),"dashDestroy"),a.abrInstance.isCurrentInAbr=this.isCurrentAutoDefi}},{key:"isCurrentInAbr",value:function(){return!!this.abrInstance&&this.abrInstance.isCurrentInAbr}}])},660065:function(n,i,a){"use strict";a.d(i,{g:function(){return s}});var o=a(140709),s={bufferThreshold:10,defaultFormat:"dash",useEME:null,getLicenseUrl:"",intertrustServerURL:null,defaultDefinition:null,useGapJump:!0,useDurationBackoff:!1,preloadTime:void 0,maxBufferLength:void 0,minBufferLength:10,dynamicPreloadTimeOpts:null,preloadCancelTime:5,progressTimer:1e3,tickInSeconds:void 0,disableCanplayCheck:!0,canplayTimeout:2e3,disableBufferBreakCheck:!0,waitingTimeOut:2e4,definitionText:null,useUnionInfoDRM:!1,keyTokenExpiredDuration:null,keyToken:null,playDomain:null,usePlaySpade:!1,preloadBufferThreshold:.5,vtype:a(918334).l0.DASH,useProgressiveAppend:!1,useProgressiveAppendAll:!1,loader:o.d,logMaxSize:204800,timeout:5e3,reqOptions:{},timerInWorker:!1,resumePlayWaterLevel:0,waitingInBufferTimeOut:5e3,waitJampBufferMaxCnt:3,removeBufferLen:60,removeBufferWhenSeekInBuffer:!0,replayReset:!0,resetStateUpdrade:!1,netNoRetryCode:[403,404],progressiveTimeout:1500,usePCDNProgressiveCheck:!1,useCDNProgressiveCheck:!1,useSeparationMode:!0,loadFirstGopData:!1,useGopCacheAcc:!1,mseOpenTimeout:-1,useInitTimeout:!1,initTimeout:1500,usePlayAbortRetry:!1}},239714:function(n,i,a){"use strict";a.d(i,{Z:function(){return M}});var o=a("884504");a("514312"),a("121621"),a("379493"),a("969642"),a("577829"),a("947478"),a("864614"),a("227470"),a("238658"),a("459167"),a("812735"),a("623302"),a("983431"),a("319386"),a("657170"),a("853127"),a("644952"),a("759149"),a("949136"),a("966922"),a("33814"),a("29536"),a("716005"),a("548485"),a("260075"),a("791017"),a("743286"),a("310378"),a("124539"),a("48498"),a("728271"),a("814647"),a("535689"),a("659673"),a("210434");var s=a("241689"),c=a.n(s),u=a("203199"),d=a("431413"),l=a("479461"),f=a("280161"),h=a("569898"),p=a("74312"),v=a("75161"),g=a("405664"),y="undefined"!=typeof window,m=y&&navigator.userAgent.toLocaleLowerCase();y&&/^((?!chrome|android).)*safari/.test(m);var _=y&&m.includes("firefox"),b=y&&m.includes("android"),A=function(){function n(){(0,v.PA)(this,n)}return(0,v.qH)(n,null,[{key:"getRateIndexByRate",value:function(i){return n.FREQ.indexOf(i)}},{key:"parseADTS",value:function(i,a){for(var o,s,c=i.length,u=0;u+2<c&&(255!==i[u]||(246&i[u+1])!=240);){;u++}if(!(u>=c)){var d=u,l=[],f=(60&i[u+2])>>>2,h=n.FREQ[f];if(!h)throw Error("Invalid sampling index: ".concat(f));for(var p=((192&i[u+2])>>>6)+1,v=(1&i[u+2])<<2|(192&i[u+3])>>>6,g=n._getConfig(f,v,p),y=g.config,m=g.codec,_=0,b=n.getFrameDuration(h);u+7<c;){if(255!==i[u]||(246&i[u+1])!=240){u++;continue}if(s=(3&i[u+3])<<11|i[u+4]<<3|(224&i[u+5])>>5,c-u<s)break;o=(1&~i[u+1])*2,l.push({pts:a+_*b,data:i.subarray(u+7+o,u+s)}),_++,u+=s}return{skip:d,remaining:u>=c?void 0:i.subarray(u),frames:l,samplingFrequencyIndex:f,sampleRate:h,objectType:p,channelCount:v,codec:m,config:y,originCodec:"mp4a.40.".concat(p)}}}},{key:"parseAudioSpecificConfig",value:function(i){if(!!i.length){var a=i[0]>>>3,o=(7&i[0])<<1|i[1]>>>7,s=(120&i[1])>>>3,c=n.FREQ[o];if(c){var u=n._getConfig(o,s,a),d=u.config;return{samplingFrequencyIndex:o,sampleRate:c,objectType:a,channelCount:s,config:d,codec:u.codec,originCodec:"mp4a.40.".concat(a)}}}}},{key:"getFrameDuration",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return 1024*i/n}},{key:"_getConfig",value:function(n,i,a){var o,s,c=[];return _?n>=6?(o=5,s=n-3):(o=2,s=n):b?(o=2,s=n):(o=2===a||5===a?a:5,s=n,n>=6?s=n-3:1===i&&(o=2,s=n)),c[0]=o<<3,c[0]|=(14&n)>>1,c[1]=(1&n)<<7,c[1]|=i<<3,5===o&&(c[1]|=(14&s)>>1,c[2]=(1&s)<<7,c[2]|=8,c[3]=0),{config:c,codec:"mp4a.40.".concat(o)}}},{key:"getSilentFrame",value:function(n,i){if("mp4a.40.2"===n){if(1===i)return new Uint8Array([0,200,0,128,35,128]);if(2===i)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===i)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===i||3===i)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),n}();(0,v._x)(A,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);var w=a("757714"),k=function(){function n(i){(0,v.PA)(this,n),this._buffer=i,this._offset=0,this._heldBits=0,this._numHeldBits=0}return(0,v.qH)(n,[{key:"readUint8",value:function(){return this._buffer[this._offset++]}},{key:"readUint16",value:function(){return this._buffer[this._offset++]<<8|this._buffer[this._offset++]}},{key:"readUint32",value:function(){return this._buffer[this._offset++]<<24|this._buffer[this._offset++]<<16|this._buffer[this._offset++]<<8|this._buffer[this._offset++]}},{key:"readUint8Array",value:function(n){var i=this._buffer.slice(this._offset,this._offset+n);return this._offset+=n,i}},{key:"streamRead1Bytes",value:function(){this._heldBits=this.readUint8(),this._numHeldBits=8}},{key:"streamRead2Bytes",value:function(){this._heldBits=this.readUint16(),this._numHeldBits=16}},{key:"extractBits",value:function(n){var i=this._heldBits>>this._numHeldBits-n&(1<<n)-1;return this._numHeldBits-=n,i}}]),n}(),E=function(){function n(){(0,v.PA)(this,n)}return(0,v.qH)(n,null,[{key:"parseVVCDecoderConfigurationRecord",value:function(i){var a,o,s,c,u,d,l,f,h=new k(i),p=h.readUint8();h.streamRead1Bytes(),h.extractBits(5);var v=h.extractBits(2)+1,g=h.extractBits(1),y={};g&&(h.streamRead2Bytes(),c=h.extractBits(2),u=h.extractBits(3),o=h.extractBits(3),s=h.extractBits(2),h.extractBits(6),y=n.parseVVCPTLRecord(h,o),a=h.readUint16(),d=h.readUint16(),l=h.readUint16(),f=h.readUint16());for(var m=h.readUint8(),_=[],b=[],A=[],w=null,E=0;E<m;E++){h.streamRead1Bytes(),h.extractBits(1),h.extractBits(2);var x=h.extractBits(5),S=1;13!==x&&12!==x&&(S=h.readUint16());for(var T=0;T<S;T++){var I=h.readUint16();switch(x){case 14:_.push(h.readUint8Array(I));break;case 15:var R=h.readUint8Array(I);!w&&(w=n.parseSPS(n.removeEPB(R))),b.push(R);break;case 16:A.push(h.readUint8Array(I))}}}return{data:i,configurationVersion:p,codec:"bvc2.1.6.L93.B0",nalUnitSize:v,ptlPresentFlag:g,olsIdx:a,numSublayers:o,constantFrameRate:s,chromaFormatIdc:c,bitDepthLumaMinus8:u,ptlRecord:y,width:d,height:l,sampleRate:f,numOfArrays:m,vps:_,sps:b,pps:A,spsParsed:w}}},{key:"parseVVCPTLRecord",value:function(n,i){n.streamRead2Bytes(),n.extractBits(2);var a=n.extractBits(6),o=n.extractBits(7),s=n.extractBits(1),c=n.readUint8();n.streamRead1Bytes();var u=n.extractBits(1),d=n.extractBits(1),l=new Uint8Array(a);if(a){for(var f=0;f<a-1;f++){var h=n.extractBits(6);n.streamRead1Bytes();var p=n.extractBits(2);l[f]=h<<2|p}l[a-1]=n.extractBits(6)}else n.extractBits(6);var v=[];if(i>1){n.streamRead1Bytes();for(var g=0,y=i-2;y>=0;--y)g|=n.extractBits(1)<<y;for(var m=i;m<=8&&i>1;++m)n.extractBits(1);for(var _=i-2;_>=0;--_)g&1<<_&&(v[_]=n.readUint8())}var b=n.readUint8(),A=[];if(b)for(var w=0;w<b;w++)A.push(n.readUint32());return{generalProfileIdc:o,generalTierFlag:s,generalLevelIdc:c,ptlFrameOnlyConstraintFlag:u,ptlMultilayerEnabledFlag:d,generalConstraintInfo:l,subLayerLevelIdc:v,generalSubProfileIdc:A,ptlNumSubProfiles:b,numBytesConstraintInfo:a}}},{key:"getAvccNals",value:function(n){for(var i=[];n.position<n.length-4;){var a=n.dataview.getInt32(n.dataview.position);if(n.length-n.position>=a){var o=n.buffer.slice(n.position,n.position+4);n.skip(4);var s=new Uint8Array(n.buffer.slice(n.position,n.position+a));n.skip(a),i.push({header:o,body:s});continue}break}return i}},{key:"analyseNal",value:function(n){var i=(248&n.body[1])>>3;switch(n.type=i,i){case 23:case 24:break;case 7:case 8:n.key=!0;break;case 14:n.vps=!0;break;case 15:n.sps=!0;break;case 16:n.pps=!0;break;case 17:n.aps=!0}}},{key:"removeEPB",value:function(n){for(var i=n.byteLength,a=[],o=1;o<i-2;)0===n[o]&&0===n[o+1]&&3===n[o+2]?(a.push(o+2),o+=2):o++;if(!a.length)return n;var s=i-a.length,c=new Uint8Array(s),u=0;for(o=0;o<s;u++,o++)u===a[0]&&(u++,a.shift()),c[o]=n[u];return c}},{key:"parseVps",value:function(){}},{key:"parseSPS",value:function(i){var a=new w.Z(i);a.readUByte(),a.readUByte(),a.skipBits(4);var o=a.readBits(4),s=a.readBits(3),c=a.readBits(2),u=420;c<=3&&(u=[0,420,422,444][c]),a.readBits(2),a.readBits(1);var d=n._parseProfileTierLevel(a,1,s);a.readBits(1),a.readBits(1)&&a.readBits(1);var l=a.readUEG();return{width:l,height:a.readUEG(),spsMaxSubLayerMinus1:s,spsVideoParameterSetId:o,chromaFormatIdc:c,chromaFormat:u,ptlInfo:d}}},{key:"_parseProfileTierLevel",value:function(i,a,o){var s,c=i.readBits(7),u=i.readBits(1),d=i.readBits(8),l=i.readBits(1),f=i.readBits(1);a&&(s=n._parseGeneralConstraintsInfo(i));for(var h=o-1,p=[],v=[],g=[],y=h;y>=0;--y)p[y]=i.readBits(1);for(;!i.byteAligned();)i.readBits(1);for(var m=h;m>=0;--m)p[m]&&(v[m]=i.readUByte());if(a){for(var _=i.readUByte(),b=0;b<_;b++)g[b]=i.readBits(32)}return{generalProfileIdc:c,generalTierFlag:u,generalLevelIdc:d,ptlFrameOnlyConstraintFlag:l,ptlMultilayerEnabledFlag:f,ptlSublayerLevelPresentFlags:p,ptlSublayerLevelIdcs:v,ptlSubProfileIdcs:g,gciInfo:s}}},{key:"_parseGeneralConstraintsInfo",value:function(n){var i=n.readBits(1);if(i){n.skipBits(71);var a=n.readBits(8);a&&n.skipBits(a)}var o=8-n.bitsPos()%8;return n.skipBits(o),{gciPresentFlag:i}}}]),n}(),x=a("237125"),S=function(){function n(){(0,v.PA)(this,n)}return(0,v.qH)(n,null,[{key:"findBox",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=[];if(!i)return s;for(var c=0,u="",d=0;i.length>7;){if(c=(0,g.Bh)(i),u=String.fromCharCode.apply(null,i.subarray(4,8)),d=8,1===c?(c=(0,g.h9)(i,8),d+=8):!c&&(c=i.length),!a[0]||u===a[0]){var l=i.subarray(0,c);if(!(a.length<2))return n.findBox(l.subarray(d),a.slice(1),o+d);s.push({start:o,size:c,headerSize:d,type:u,data:l})}o+=c,i=i.subarray(c)}return s}},{key:"tfhd",value:function(n){return C(n,!0,function(n,i){n.trackId=(0,g.Bh)(i);var a=4,o=1&n.flags,s=2&n.flags,c=8&n.flags,u=16&n.flags,d=32&n.flags;o&&(a+=4,n.baseDataOffset=(0,g.Bh)(i,a),a+=4),s&&(n.sampleDescriptionIndex=(0,g.Bh)(i,a),a+=4),c&&(n.defaultSampleDuration=(0,g.Bh)(i,a),a+=4),u&&(n.defaultSampleSize=(0,g.Bh)(i,a),a+=4),d&&(n.defaultSampleFlags=(0,g.Bh)(i,a))})}},{key:"sidx",value:function(n){return C(n,!0,function(n,i){var a=0;n.reference_ID=(0,g.Bh)(i,a),a+=4,n.timescale=(0,g.Bh)(i,a),a+=4,0===n.version?(n.earliest_presentation_time=(0,g.Bh)(i,a),a+=4,n.first_offset=(0,g.Bh)(i,a),a+=4):(n.earliest_presentation_time=(0,g.h9)(i,a),a+=8,n.first_offset=(0,g.h9)(i,a),a+=8),a+=2,n.references=[];var o=(0,g.i4)(i,a);a+=2;for(var s=0;s<o;s++){var c={};n.references.push(c);var u=(0,g.Bh)(i,a);a+=4,c.reference_type=u>>31&1,c.referenced_size=2147483647&u,c.subsegment_duration=(0,g.Bh)(i,a),a+=4,u=(0,g.Bh)(i,a),a+=4,c.starts_with_SAP=u>>31&1,c.SAP_type=u>>28&7,c.SAP_delta_time=268435455&u}})}},{key:"moov",value:function(i){return C(i,!1,function(i,a,o){i.mvhd=n.mvhd(n.findBox(a,["mvhd"],o)[0]),i.trak=n.findBox(a,["trak"],o).map(function(i){return n.trak(i)}),i.pssh=n.pssh(n.findBox(a,["pssh"],o)[0])})}},{key:"mvhd",value:function(n){return C(n,!0,function(n,i){var a=0;1===n.version?(n.timescale=(0,g.Bh)(i,16),n.duration=(0,g.h9)(i,20),a+=28):(n.timescale=(0,g.Bh)(i,8),n.duration=(0,g.Bh)(i,12),a+=16),n.nextTrackId=(0,g.Bh)(i,a+76)})}},{key:"trak",value:function(i){return C(i,!1,function(i,a,o){i.tkhd=n.tkhd(n.findBox(a,["tkhd"],o)[0]),i.mdia=n.mdia(n.findBox(a,["mdia"],o)[0]),i.edts=n.edts(n.findBox(a,["edts"],o)[0])})}},{key:"tkhd",value:function(n){return C(n,!0,function(n,i){var a=0;1===n.version?(n.trackId=(0,g.Bh)(i,16),n.duration=(0,g.h9)(i,24),a+=32):(n.trackId=(0,g.Bh)(i,8),n.duration=(0,g.Bh)(i,16),a+=20),n.width=(0,g.Bh)(i,a+52),n.height=(0,g.Bh)(i,a+56)})}},{key:"mdia",value:function(i){return C(i,!1,function(i,a,o){i.mdhd=n.mdhd(n.findBox(a,["mdhd"],o)[0]),i.hdlr=n.hdlr(n.findBox(a,["hdlr"],o)[0]),i.minf=n.minf(n.findBox(a,["minf"],o)[0])})}},{key:"edts",value:function(i){return C(i,!1,function(i,a,o){i.elst=n.elst(n.findBox(a,["elst"],o)[0])})}},{key:"elst",value:function(n){return C(n,!0,function(n,i,a){n.entries=[],n.entriesData=i;var o=0,s=(0,g.Bh)(i,o);o+=4;for(var c=0;c<s;c++){var u={};n.entries.push(u),1===n.version?(u.segment_duration=(0,g.h9)(i,o),o+=8,u.media_time=(0,g._b)(i,o),o+=8):(u.segment_duration=(0,g.Bh)(i,o),o+=4,u.media_time=(0,g.e2)(i,o),o+=4),u.media_rate_integer=(0,g.i4)(i,o),o+=2,u.media_rate_fraction=(0,g.i4)(i,a),o+=2}})}},{key:"mdhd",value:function(n){return C(n,!0,function(n,i){var a=0;1===n.version?(n.timescale=(0,g.Bh)(i,16),n.duration=(0,g.h9)(i,20),a+=28):(n.timescale=(0,g.Bh)(i,8),n.duration=(0,g.Bh)(i,12),a+=16);var o=(0,g.i4)(i,a);n.language=String.fromCharCode((o>>10&31)+96,(o>>5&31)+96,(31&o)+96)})}},{key:"hdlr",value:function(n){return C(n,!0,function(n,i){0===n.version&&(n.handlerType=String.fromCharCode.apply(null,i.subarray(4,8)))})}},{key:"minf",value:function(i){return C(i,!1,function(i,a,o){i.vmhd=n.vmhd(n.findBox(a,["vmhd"],o)[0]),i.smhd=n.smhd(n.findBox(a,["smhd"],o)[0]),i.stbl=n.stbl(n.findBox(a,["stbl"],o)[0])})}},{key:"vmhd",value:function(n){return C(n,!0,function(n,i){n.graphicsmode=(0,g.i4)(i),n.opcolor=[(0,g.i4)(i,2),(0,g.i4)(i,4),(0,g.i4)(i,6)]})}},{key:"smhd",value:function(n){return C(n,!0,function(n,i){n.balance=(0,g.i4)(i)})}},{key:"stbl",value:function(i){return C(i,!1,function(i,a,o){i.stsd=n.stsd(n.findBox(a,["stsd"],o)[0]),i.stts=n.stts(n.findBox(a,["stts"],o)[0]),i.ctts=n.ctts(n.findBox(a,["ctts"],o)[0]),i.stsc=n.stsc(n.findBox(a,["stsc"],o)[0]),i.stsz=n.stsz(n.findBox(a,["stsz"],o)[0]),i.stco=n.stco(n.findBox(a,["stco"],o)[0]),!i.stco&&(i.co64=n.co64(n.findBox(a,["co64"],o)[0]),i.stco=i.co64);var s,c,u,d=null===(s=i.stsd.entries[0])||void 0===s?void 0:null===(c=s.sinf)||void 0===c?void 0:null===(u=c.schi)||void 0===u?void 0:u.tenc.default_IV_size;i.stss=n.stss(n.findBox(a,["stss"],o)[0]),i.senc=n.senc(n.findBox(a,["senc"],o)[0],d)})}},{key:"senc",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return C(n,!0,function(n,a){var o=0,s=(0,g.Bh)(a,o);o+=4,n.samples=[];for(var c=0;c<s;c++){var u={};u.InitializationVector=[];for(var d=0;d<i;d++)u.InitializationVector[d]=a[o+d];if(o+=i,2&n.flags){u.subsamples=[];var l=(0,g.i4)(a,o);o+=2;for(var f=0;f<l;f++){var h={};h.BytesOfClearData=(0,g.i4)(a,o),o+=2,h.BytesOfProtectedData=(0,g.Bh)(a,o),o+=4,u.subsamples.push(h)}}n.samples.push(u)}})}},{key:"pssh",value:function(n){return C(n,!0,function(n,i){for(var a=[],o=[],s=0,c=0;c<16;c++)o.push(O(i[s+c]));if(s+=16,n.version>0){var u=(0,g.Bh)(i,s);s+=4;for(var d=0;d<(""+u).length;d++)for(var l=0;l<16;l++){var f=i[s];s+=1,a.push(O(f))}}var h=(0,g.Bh)(i,s);n.data_size=h,s+=4,n.kid=a,n.system_id=o,n.buffer=i})}},{key:"bvc2",value:function(i){return C(i,!1,function(i,a,o){var s=I(i,a),c=a.subarray(s);o+=s,i.vvcC=n.bv2C(n.findBox(c,["bv2C"],o)[0]),i.pasp=n.pasp(n.findBox(c,["pasp"],o)[0])})}},{key:"bv2C",value:function(n){return C(n,!1,function(n,i,a){var o=E.parseVVCDecoderConfigurationRecord(i);for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})}},{key:"stsd",value:function(i){return C(i,!0,function(i,a,o){i.entryCount=(0,g.Bh)(a),i.entries=n.findBox(a.subarray(4),[],o+4).map(function(i){switch(i.type){case"avc1":case"avc2":case"avc3":case"avc4":return n.avc1(i);case"hvc1":case"hev1":return n.hvc1(i);case"bvc2":return n.bvc2(i);case"mp4a":return n.mp4a(i);case"alaw":case"ulaw":return n.alaw(i);case"enca":return C(i,!1,function(i,a,o){i.channelCount=(0,g.i4)(a,16),i.samplesize=(0,g.i4)(a,18),i.sampleRate=(0,g.Bh)(a,24)/65536,a=a.subarray(28),i.sinf=n.sinf(n.findBox(a,["sinf"],o)[0]),i.esds=n.esds(n.findBox(a,["esds"],o)[0])});case"encv":return C(i,!1,function(i,a,o){i.width=(0,g.i4)(a,24),i.height=(0,g.i4)(a,26),i.horizresolution=(0,g.Bh)(a,28),i.vertresolution=(0,g.Bh)(a,32),a=a.subarray(78),i.sinf=n.sinf(n.findBox(a,["sinf"],o)[0]),i.avcC=n.avcC(n.findBox(a,["avcC"],o)[0]),i.hvcC=n.hvcC(n.findBox(a,["hvcC"],o)[0]),i.pasp=n.pasp(n.findBox(a,["pasp"],o)[0])})}}).filter(Boolean)})}},{key:"tenc",value:function(n){return C(n,!1,function(n,i){var a=6;n.default_IsEncrypted=i[a],a+=1,n.default_IV_size=i[a],a+=1,n.default_KID=[];for(var o=0;o<16;o++)n.default_KID.push(O(i[a])),a+=1})}},{key:"schi",value:function(i){return C(i,!1,function(i,a,o){i.tenc=n.tenc(n.findBox(a,["tenc"],o)[0])})}},{key:"sinf",value:function(i){return C(i,!1,function(i,a,o){i.schi=n.schi(n.findBox(a,["schi"],o)[0]),i.frma=n.frma(n.findBox(a,["frma"],o)[0])})}},{key:"frma",value:function(n){return C(n,!1,function(n,i){n.data_format="";for(var a=0;a<4;a++)n.data_format+=String.fromCharCode(i[a])})}},{key:"avc1",value:function(i){return C(i,!1,function(i,a,o){var s=I(i,a),c=a.subarray(s);o+=s,i.avcC=n.avcC(n.findBox(c,["avcC"],o)[0]),i.pasp=n.pasp(n.findBox(c,["pasp"],o)[0])})}},{key:"avcC",value:function(n){return C(n,!1,function(n,i){n.configurationVersion=i[0],n.AVCProfileIndication=i[1],n.profileCompatibility=i[2],n.AVCLevelIndication=i[3],n.codec=(0,g.dB)([i[1],i[2],i[3]]),n.lengthSizeMinusOne=3&i[4],n.spsLength=31&i[5],n.sps=[];for(var a=6,o=0;o<n.spsLength;o++){var s=(0,g.i4)(i,a);a+=2,n.sps.push(i.subarray(a,a+s)),a+=s}n.ppsLength=i[a],a+=1,n.pps=[];for(var c=0;c<n.ppsLength;c++){var u=(0,g.i4)(i,a);a+=2,n.pps.push(i.subarray(a,a+=u)),a+=u}})}},{key:"hvc1",value:function(i){return C(i,!1,function(i,a,o){var s=I(i,a),c=a.subarray(s);o+=s,i.hvcC=n.hvcC(n.findBox(c,["hvcC"],o)[0]),i.pasp=n.pasp(n.findBox(c,["pasp"],o)[0])})}},{key:"hvcC",value:function(n){return C(n,!1,function(i,a){i.data=n.data,i.codec="hev1.1.6.L93.B0",i.configurationVersion=a[0];var o=a[1];i.generalProfileSpace=o>>6,i.generalTierFlag=(32&o)>>5,i.generalProfileIdc=31&o,i.generalProfileCompatibility=(0,g.Bh)(a,2),i.generalConstraintIndicatorFlags=a.subarray(6,12),i.generalLevelIdc=a[12],i.avgFrameRate=(0,g.i4)(a,19),i.numOfArrays=a[22],i.vps=[],i.sps=[],i.pps=[];for(var s=23,c=0,u=0,d=0,l=0;l<i.numOfArrays;l++){c=63&a[s],u=(0,g.i4)(a,s+1),s+=3;for(var f,h,p,v=[],y=0;y<u;y++)d=(0,g.i4)(a,s),s+=2,v.push(a.subarray(s,s+d)),s+=d;32===c?(f=i.vps).push.apply(f,v):33===c?(h=i.sps).push.apply(h,v):34===c&&(p=i.pps).push.apply(p,v)}})}},{key:"pasp",value:function(n){return C(n,!1,function(n,i){n.hSpacing=(0,g.Bh)(i),n.vSpacing=(0,g.Bh)(i,4)})}},{key:"mp4a",value:function(i){return C(i,!1,function(i,a,o){var s=R(i,a);i.esds=n.esds(n.findBox(a.subarray(s),["esds"],o+s)[0])})}},{key:"esds",value:function(n){return C(n,!0,function(n,i){n.codec="mp4a.";for(var a=0,o=0,s=0,c=0;i.length;){for(c=i[a=0],o=i[a+1],a+=2;128&o;)s=(127&o)<<7,o=i[a],a+=1;if(s+=127&o,3===c)i=i.subarray(a+3);else if(4===c)n.codec+=(i[a].toString(16)+".").padStart(3,"0"),i=i.subarray(a+13);else if(5===c){var u=n.config=i.subarray(a,a+s),d=(248&u[0])>>3;31===d&&u.length>=2&&(d=32+((7&u[0])<<3)+((224&u[1])>>5)),n.objectType=d,n.codec+=d.toString(16),"."===n.codec[n.codec.length-1]&&(n.codec=n.codec.substring(0,n.codec.length-1));return}else{"."===n.codec[n.codec.length-1]&&(n.codec=n.codec.substring(0,n.codec.length-1));return}}})}},{key:"alaw",value:function(n){return C(n,!1,function(n,i){R(n,i)})}},{key:"stts",value:function(n){return C(n,!0,function(n,i){for(var a=(0,g.Bh)(i),o=[],s=4,c=0;c<a;c++)o.push({count:(0,g.Bh)(i,s),delta:(0,g.Bh)(i,s+4)}),s+=8;n.entryCount=a,n.entries=o})}},{key:"ctts",value:function(n){return C(n,!0,function(n,i){var a=(0,g.Bh)(i),o=[],s=4;if(1===n.version)for(var c=0;c<a;c++)o.push({count:(0,g.Bh)(i,s),offset:(0,g.Bh)(i,s+4)}),s+=8;else for(var u=0;u<a;u++)o.push({count:(0,g.Bh)(i,s),offset:-(~(0,g.Bh)(i,s+4)+1)}),s+=8;n.entryCount=a,n.entries=o})}},{key:"stsc",value:function(n){return C(n,!0,function(n,i){for(var a=(0,g.Bh)(i),o=Array(a),s=4,c=0;c<a;c++)o[c]={firstChunk:(0,g.Bh)(i,s),samplesPerChunk:(0,g.Bh)(i,s+4),sampleDescriptionIndex:(0,g.Bh)(i,s+8)},s+=12;n.entryCount=a,n.entries=o})}},{key:"stsz",value:function(n){return C(n,!0,function(n,i){var a=(0,g.Bh)(i),o=(0,g.Bh)(i,4),s=Array(o);if(!a){for(var c=8,u=0;u<o;u++)s[u]=(0,g.Bh)(i,c),c+=4}n.sampleSize=a,n.sampleCount=o,n.entrySizes=s})}},{key:"stco",value:function(n){return C(n,!0,function(n,i){for(var a=(0,g.Bh)(i),o=Array(a),s=4,c=0;c<a;c++)o[c]=(0,g.Bh)(i,s),s+=4;n.entryCount=a,n.entries=o})}},{key:"co64",value:function(n){return C(n,!0,function(n,i){for(var a=(0,g.Bh)(i),o=Array(a),s=4,c=0;c<a;c++)o[c]=(0,g.h9)(i,s),s+=8;n.entryCount=a,n.entries=o})}},{key:"stss",value:function(n){return C(n,!0,function(n,i){for(var a=(0,g.Bh)(i),o=Array(a),s=4,c=0;c<a;c++)o[c]=(0,g.Bh)(i,s),s+=4;n.entryCount=a,n.entries=o})}},{key:"moof",value:function(i){return C(i,!1,function(i,a,o){i.mfhd=n.mfhd(n.findBox(a,["mfhd"],o)[0]),i.traf=n.findBox(a,["traf"],o).map(function(i){return n.traf(i)})})}},{key:"mfhd",value:function(n){return C(n,!0,function(n,i){n.sequenceNumber=(0,g.Bh)(i)})}},{key:"traf",value:function(i){return C(i,!1,function(i,a,o){i.tfhd=n.tfhd(n.findBox(a,["tfhd"],o)[0]),i.tfdt=n.tfdt(n.findBox(a,["tfdt"],o)[0]),i.trun=n.trun(n.findBox(a,["trun"],o)[0])})}},{key:"trun",value:function(n){return C(n,!0,function(n,i){var a=n.version,o=n.flags,s=i.length,c=n.sampleCount=(0,g.Bh)(i),u=4;if(s>4&&1&o&&(n.dataOffset=-(~(0,g.Bh)(i,u)+1),u+=4),s>u&&4&o&&(n.firstSampleFlags=(0,g.Bh)(i,u),u+=4),s>u){n.samples=Array(c);for(var d,l=0;l<c;l++)d={},256&o&&(d.duration=(0,g.Bh)(i,u),u+=4),512&o&&(d.size=(0,g.Bh)(i,u),u+=4),1024&o&&(d.flags=(0,g.Bh)(i,u),u+=4),2048&o&&(a?d.cts=-(~(0,g.Bh)(i,u+4)+1):d.cts=(0,g.Bh)(i,u),u+=4),n.samples[l]=d}})}},{key:"tfdt",value:function(n){return C(n,!0,function(n,i){1===n.version?n.baseMediaDecodeTime=(0,g.h9)(i):n.baseMediaDecodeTime=(0,g.Bh)(i)})}},{key:"probe",value:function(i){return!!n.findBox(i,["ftyp"])}},{key:"parseSampleFlags",value:function(n){return{isLeading:(12&n[0])>>>2,dependsOn:3&n[0],isDependedOn:(192&n[1])>>>6,hasRedundancy:(48&n[1])>>>4,paddingValue:(14&n[1])>>>1,isNonSyncSample:1&n[1],degradationPriority:n[2]<<8|n[3]}}},{key:"moovToTrack",value:function(n,i,a){var o=n.trak;if(o&&o.length){var s=o.find(function(n){var i,a;return(null===(i=n.mdia)||void 0===i?void 0:null===(a=i.hdlr)||void 0===a?void 0:a.handlerType)==="vide"}),c=o.find(function(n){var i,a;return(null===(i=n.mdia)||void 0===i?void 0:null===(a=i.hdlr)||void 0===a?void 0:a.handlerType)==="soun"});if(s&&i){var u,d,l,f,h,p,v,g,y,m,_,b,w,k,E,S,T,I,R=null===(l=s.tkhd)||void 0===l?void 0:l.trackId;null!=R&&(i.id=s.tkhd.trackId),i.tkhdDuration=s.tkhd.duration,i.mvhdDurtion=n.mvhd.duration,i.mvhdTimecale=n.mvhd.timescale,i.timescale=i.formatTimescale=s.mdia.mdhd.timescale,i.duration=s.mdia.mdhd.duration||i.mvhdDurtion/i.mvhdTimecale*i.timescale,null!==(f=s.edts)&&void 0!==f&&f.elst&&(i.editList=s.edts.elst,i.editListApplied=s.editListApplied);var C=s.mdia.minf.stbl.stsd.entries[0];if(i.width=C.width,i.height=C.height,C.pasp&&(i.sarRatio=[C.pasp.hSpacing,C.pasp.vSpacing]),C.hvcC)i.codecType=x._e.HEVC,i.codec=C.hvcC.codec,i.vps=C.hvcC.vps,i.sps=C.hvcC.sps,i.pps=C.hvcC.pps,i.hvcC=C.hvcC.data;else if(C.avcC)i.codec=C.avcC.codec,i.sps=C.avcC.sps,i.pps=C.avcC.pps;else if(C.vvcC)i.codecType=x._e.VVCC,i.codec=C.vvcC.codec,i.sps=C.vvcC.sps,i.pps=C.vvcC.pps,i.vps=C.vvcC.vps,i.vvcC=C.vvcC.data;else throw Error("unknown video stsd entry");i.present=!0,i.ext={},i.ext.stss=null===(h=s.mdia)||void 0===h?void 0:null===(p=h.minf)||void 0===p?void 0:null===(v=p.stbl)||void 0===v?void 0:v.stss,i.ext.ctts=null===(g=s.mdia)||void 0===g?void 0:null===(y=g.minf)||void 0===y?void 0:null===(m=y.stbl)||void 0===m?void 0:m.ctts,C&&"encv"===C.type&&(i.isVideoEncryption=!0,C.default_KID=null===(_=C.sinf)||void 0===_?void 0:null===(b=_.schi)||void 0===b?void 0:b.tenc.default_KID,C.default_IsEncrypted=null===(w=C.sinf)||void 0===w?void 0:null===(k=w.schi)||void 0===k?void 0:k.tenc.default_IsEncrypted,C.default_IV_size=null===(E=C.sinf)||void 0===E?void 0:null===(S=E.schi)||void 0===S?void 0:S.tenc.default_IV_size,i.videoSenc=s.mdia.minf.stbl.senc&&s.mdia.minf.stbl.senc.samples,C.data_format=null===(T=C.sinf)||void 0===T?void 0:null===(I=T.frma)||void 0===I?void 0:I.data_format,i.useEME=n.useEME,i.kidValue=n.kidValue,i.pssh=n.pssh,i.encv=C)}if(c&&a){var D,O,B,P,L,M,N,U,F,j,V,Z,H,G,W,z,Y,K,X=null===(D=c.tkhd)||void 0===D?void 0:D.trackId;null!=X&&(a.id=c.tkhd.trackId),a.tkhdDuration=c.tkhd.duration,a.mvhdDurtion=n.mvhd.duration,a.mvhdTimecale=n.mvhd.timescale,a.timescale=a.formatTimescale=c.mdia.mdhd.timescale,a.duration=c.mdia.mdhd.duration||a.mvhdDurtion/a.mvhdTimecale*a.timescale,null!==(O=c.edts)&&void 0!==O&&O.elst&&(a.editList=c.edts.elst,a.editListApplied=c.editListApplied);var J=c.mdia.minf.stbl.stsd.entries[0];switch(a.sampleSize=J.sampleSize,a.sampleRate=J.sampleRate,a.channelCount=J.channelCount,a.present=!0,J.type){case"alaw":a.codecType=a.codec=x.yQ.G711PCMA,a.sampleRate=8e3;break;case"ulaw":a.codecType=a.codec=x.yQ.G711PCMU,a.sampleRate=8e3;break;default:a.sampleDuration=A.getFrameDuration(a.sampleRate,a.timescale),a.sampleRateIndex=A.getRateIndexByRate(a.sampleRate),a.objectType=(null===(u=J.esds)||void 0===u?void 0:u.objectType)||2,J.esds&&(a.config=Array.from(J.esds.config)),a.codec=(null===(d=J.esds)||void 0===d?void 0:d.codec)||"mp4a.40.2"}a.sampleDuration=A.getFrameDuration(a.sampleRate,a.timescale),a.objectType=(null===(B=J.esds)||void 0===B?void 0:B.objectType)||2,J.esds&&J.esds.config&&(a.config=Array.from(J.esds.config)),a.codec=(null===(P=J.esds)||void 0===P?void 0:P.codec)||"mp4a.40.2",a.sampleRateIndex=A.getRateIndexByRate(a.sampleRate),a.ext={},a.ext.stss=null===(L=c.mdia)||void 0===L?void 0:null===(M=L.minf)||void 0===M?void 0:null===(N=M.stbl)||void 0===N?void 0:N.stss,a.ext.ctts=null===(U=c.mdia)||void 0===U?void 0:null===(F=U.minf)||void 0===F?void 0:null===(j=F.stbl)||void 0===j?void 0:j.ctts,a.present=!0,J&&"enca"===J.type&&(a.isAudioEncryption=!0,J.data_format=null===(V=J.sinf)||void 0===V?void 0:null===(Z=V.frma)||void 0===Z?void 0:Z.data_format,J.default_KID=null===(H=J.sinf)||void 0===H?void 0:null===(G=H.schi)||void 0===G?void 0:G.tenc.default_KID,J.default_IsEncrypted=null===(W=J.sinf)||void 0===W?void 0:null===(z=W.schi)||void 0===z?void 0:z.tenc.default_IsEncrypted,J.default_IV_size=null===(Y=J.sinf)||void 0===Y?void 0:null===(K=Y.schi)||void 0===K?void 0:K.tenc.default_IV_size,a.audioSenc=c.mdia.minf.stbl.senc&&c.mdia.minf.stbl.senc.samples,a.useEME=n.useEME,a.kidValue=n.kidValue,a.enca=J)}if(a&&(a.isVideoEncryption=!!i&&i.isVideoEncryption),i&&(i.isAudioEncryption=!!a&&a.isAudioEncryption),null!=i&&i.encv||null!=a&&a.enca){var q,Q,$=null==i?void 0:null===(q=i.encv)||void 0===q?void 0:q.default_KID,ee=null==a?void 0:null===(Q=a.enca)||void 0===Q?void 0:Q.default_KID,et=$||ee?($||ee).join(""):null;i&&(i.kid=et),a&&(a.kid=et)}return i&&(i.flags=3841),a&&(a.flags=1793),{videoTrack:i,audioTrack:a}}}},{key:"evaluateDefaultDuration",value:function(n,i,a){var o,s=null==i?void 0:null===(o=i.samples)||void 0===o?void 0:o.length;return s?1024*s/i.timescale*n.timescale/a:1024}},{key:"moofToSamples",value:function(i,a,o){var s={};return i.mfhd&&(a&&(a.sequenceNumber=i.mfhd.sequenceNumber),o&&(o.sequenceNumber=i.mfhd.sequenceNumber)),i.traf.forEach(function(i){var c=i.tfhd,u=i.tfdt,d=i.trun;if(c&&d){u&&(a&&a.id===c.trackId&&(a.baseMediaDecodeTime=u.baseMediaDecodeTime),o&&o.id===c.trackId&&(o.baseMediaDecodeTime=u.baseMediaDecodeTime));var l=c.defaultSampleSize||0,f=c.defaultSampleDuration||n.evaluateDefaultDuration(a,o,d.samples.length||d.sampleCount),h=d.dataOffset||0,p=0,v=-1;if(!d.samples.length&&d.sampleCount){s[c.trackId]=Array(d.sampleCount);for(var g=0;g<d.sampleCount;g++)s[c.trackId][g]={offset:h,dts:p,duration:f,size:l},p+=f,h+=l}else s[c.trackId]=d.samples.map(function(n,i){return(n={offset:h,dts:p,pts:p+(n.cts||0),duration:n.duration||f,size:n.size||l,gopId:v,keyframe:0===i||null!==n.flags&&void 0!==n.flags&&(65536&n.flags)>>>0!=65536}).keyframe&&(v++,n.gopId=v),p+=n.duration,h+=n.size,n})}}),s}},{key:"moovToSamples",value:function(n){var i=n.trak;if(!!i&&!!i.length){var a=i.find(function(n){var i,a;return(null===(i=n.mdia)||void 0===i?void 0:null===(a=i.hdlr)||void 0===a?void 0:a.handlerType)==="vide"}),o=i.find(function(n){var i,a;return(null===(i=n.mdia)||void 0===i?void 0:null===(a=i.hdlr)||void 0===a?void 0:a.handlerType)==="soun"});if(a||o){if(a){var s,c,u,d,l=null===(u=a.mdia)||void 0===u?void 0:null===(d=u.minf)||void 0===d?void 0:d.stbl;if(!l)return;var f=l.stts,h=l.stsc,p=l.stsz,v=l.stco,g=l.stss,y=l.ctts;if(!f||!h||!p||!v||!g)return;s=T(f,h,p,v,y,g)}if(o){var m,_,b,A=null===(m=o.mdia)||void 0===m?void 0:null===(_=m.minf)||void 0===_?void 0:_.stbl;if(!A)return;var w=null===(b=o.mdia.mdhd)||void 0===b?void 0:b.timescale,k=A.stts,E=A.stsc,x=A.stsz,S=A.stco;if(!w||!k||!E||!x||!S)return;c=T(k,E,x,S)}return{videoSamples:s,audioSamples:c}}}}}]),n}();function T(n,i,a,o,s,c){var u,d,l,f=[],h=null==s?void 0:s.entries,p=i.entries,v=o.entries,g=a.entrySizes,y=null==c?void 0:c.entries;y&&(u={},y.forEach(function(n){u[n-1]=!0})),h&&(d=[],h.forEach(function(n){for(var i=n.count,a=n.offset,o=0;o<i;o++)d.push(a)}));var m=-1,_=0,b=0,A=0,w=0,k=0,E=p[0].samplesPerChunk,x=p[1]?p[1].firstChunk-1:1/0;return n.entries.forEach(function(n){for(var i=n.count,o=n.delta,s=0;s<i;s++)l={dts:_,duration:o,size:g[b]||a.sampleSize,offset:v[A]+k,index:b},y&&(l.keyframe=u[b],l.keyframe&&m++,l.gopId=m),d&&b<d.length&&(l.pts=l.dts+d[b]),f.push(l),_+=o,++b<E?k+=l.size:(A++,k=0,A>=x&&(x=p[++w+1]?p[w+1].firstChunk-1:1/0),E+=p[w].samplesPerChunk)}),f}function I(n,i){return n.dataReferenceIndex=(0,g.i4)(i,6),n.width=(0,g.i4)(i,24),n.height=(0,g.i4)(i,26),n.horizresolution=(0,g.Bh)(i,28),n.vertresolution=(0,g.Bh)(i,32),n.frameCount=(0,g.i4)(i,40),n.depth=(0,g.i4)(i,74),78}function R(n,i){return n.dataReferenceIndex=(0,g.i4)(i,6),n.channelCount=(0,g.i4)(i,16),n.sampleSize=(0,g.i4)(i,18),n.sampleRate=(0,g.Bh)(i,24)/65536,28}function C(n,i,a){if(n){if(n.size!==n.data.length)throw Error("box ".concat(n.type," size !== data.length"));var o={start:n.start,size:n.size,headerSize:n.headerSize,type:n.type};return i&&(o.version=n.data[n.headerSize],o.flags=(0,g.sV)(n.data,n.headerSize+1),o.headerSize+=4),a(o,n.data.subarray(o.headerSize),o.start+o.headerSize),o}}var D=function(n,i,a){for(var o=String(a),s=i>>0,c=Math.ceil(s/o.length),u=[],d=String(n);c--;)u.push(o);return u.join("").substring(0,s-d.length)+d},O=function(){for(var n=[],i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.forEach(function(i){n.push(D(Number(i).toString(16),2,0))}),n[0]},B=a("54544"),P=a("897948");function L(n,i,a,o){return n[i]?o?o(n[i]):n[i]:a}let M=function(){var n;function i(n){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;(0,o.PA)(this,i),c()(this),this.url=n,this.options=s,this.dash=u,this.useSeparationMode=null===(a=this.dash.config)||void 0===a?void 0:a.useSeparationMode,this.mediaList={video:[],audio:[]},this.mediaList.audio.selectedIdx=0,this.retryMax=10,this.retry=0,this.type="live",this.isEnd=!1,this.duration=0,this.videoCodecType=null,this.videoCodecs=null,this.hasSync=!1,this._readyPromise=new f.XK,this._loadStates={video:this._createLoadingState(),audio:this._createLoadingState()}}return(0,o.qH)(i,[{key:"_createLoadingState",value:function(){return{currentIndex:0,isLoading:!1}}},{key:"readyPromise",get:function(){return this._readyPromise}},{key:"setLoadingState",value:function(n,i){this._loadStates[n].isLoading=i}},{key:"calcVideoCodeType",value:function(n,i){if(!!n||!!i){var a=null;i?a=i.split(".")[0]:n&&(a=n.split(".")[0]);for(var o=Object.keys(p.$V),s=0;s<o.length;s++){var c=o[s],u=p.$V[c];if(u.types.concat(u.visualEntryBox).indexOf(a)>-1){this.videoCodecType=c,"hevc"===c?this.videoCodecType="h265":"bvc2"===c&&(this.videoCodecType="h266"),this.videoCodecs=u.codecs;break}}h.ZP.log("mpd dataType:",n,"codecs:",i,"cal type:",this.videoCodecType,"videoCodecs",this.videoCodecs),!this.videoCodecType&&(this.videoCodecType=p.d0.AVC,this.videoCodecs=p.$V[p.d0.AVC].codecs),this.dash&&this.dash._pluginInst&&this.dash._pluginInst.setCodeInfo(this.videoCodecType)}}},{key:"fetch",value:(n=(0,o.x)((0,o.l5)().mark(function n(a){var s,c,u,l,f,h,p,v;return(0,o.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=this,c={TYPE:"LIVE",ENDLIST:""},u=[],n.prev=3,l=new B.mf({}),n.next=7,l.load(a);case 7:if(!(f=n.sent.data)){n.next=21;break}if(h=i.parseMPD(f)){n.next=13;break}throw Error("parse mpd error");case 13:return this._parseMeta(c,h),this._parseSegments(h,a),["video","audio"].forEach(function(n){s.mediaList[n].length>0&&(s.mediaList[n].selectedIdx="video"===n&&s.dash.selectedIdx||0,s.mediaList[n].sort(function(i,a){return"video"===n?a.height-i.height:a.bandwidth-i.bandwidth}))}),0===s.mediaList.video.length&&0===s.mediaList.audio.length&&(null===(p=s.dash)||void 0===p||p.emit("error",new d.Z(P.wb.MANIFEST,P.wb.SUB_TYPES.DASH,{url:a,message:"NO_MEDIALIST fetch"}))),n.abrupt("return",{meta:c,segments:u});case 21:throw s.dash.emit("error",new d.Z(P.wb.MANIFEST,P.wb.SUB_TYPES.DASH,{url:a,message:"mpd parse error"})),Error("MPD_PARSE_ERROR");case 23:n.next=29;break;case 25:throw n.prev=25,n.t0=n.catch(3),s.dash.emit("error",new d.Z(P.wb.RUNTIME,d.Z.MPD_INIT_ERROR,{httpCode:null===(v=n.t0.response)||void 0===v?void 0:v.status,url:a,message:null===n.t0||void 0===n.t0?void 0:n.t0.message})),Error(n.t0);case 29:case"end":return n.stop()}},n,this,[[3,25]])})),function(i){return n.apply(this,arguments)})},{key:"_parseMeta",value:function(n,i){"static"===i.type&&(n.TYPE="VOD"),i.minBufferTime&&(n.minBufferTime=u.Z.durationConvert(i.minBufferTime)),i.maxSegmentDuration&&(n.maxSegmentDuration=u.Z.durationConvert(i.maxSegmentDuration)),i.mediaPresentationDuration&&(this.duration=u.Z.durationConvert(i.mediaPresentationDuration));var a=i.Period[0];!this.duration&&a&&a.duration&&(this.duration=u.Z.durationConvert(a.duration)),n.duration=this.duration}},{key:"_parseST",value:function(n,i,a,o,s){for(var c=parseFloat(n.timescale),d=Math.round(parseFloat(n.duration)/c),l=parseInt(n.startNumber,10),f=l+Math.ceil(this.duration/d)-1,h=l;h<=f;h++){var p=d*(h-l),v=d*(h-l+1);h===f&&(d=this.duration-d*(f-l),v=this.duration),i.push({idx:h,start:Math.round(p),end:Math.round(v),url:o+n.media.replace("$RepresentationID$",a).replace("$Number%04d$",u.Z.preFixInterge(h,4)),downloaded:0,segmentDuration:d,height:s})}}},{key:"_getVideoSegments",value:function(n){var i,a,o,s,c=n.bandwidth,u=n.id,d=n.baseURL,l=n.initSegment,f=n.mediaSegments,h=n.mimeType,p=n.codecs,v=n.width,g=n.height,y=n.frameRate,m=n.sar,_=n.startWithSAP,b=n.timescale,A=n.duration,w=n.encrypted;if(this.options.dynamic_video&&this.options.dynamic_video.dynamic_video_list)for(var k=0;k<this.options.dynamic_video.dynamic_video_list.length;k++){var E=this.options.dynamic_video.dynamic_video_list[k];E.bitrate===c&&(i=E.size,a=E.definition,o=E.file_id,s=E.audio_file_id)}this.mediaList.video.push({id:u,baseURL:d,initSegment:d+l.replace("$RepresentationID$",u),inited:!1,mediaSegments:f,mimeType:h,codecs:p,width:v,height:g,size:i,frameRate:y,sar:m,startWithSAP:_,bandwidth:c,timescale:b,duration:A,encrypted:w,definition:a,fileId:o,audioFileId:s})}},{key:"_getAudioSegments",value:function(n){var i,a=n.bandwidth,o=n.id,s=n.baseURL,c=n.initSegment,u=n.mediaSegments,d=n.mimeType,l=n.codecs,f=n.startWithSAP,h=n.timescale,p=n.duration,v=n.encrypted;if(this.options.dynamic_video&&this.options.dynamic_video.dynamic_audio_list)for(var g=0;g<this.options.dynamic_video.dynamic_audio_list.length;g++)this.options.dynamic_video.dynamic_audio_list[g].bitrate===a&&(i=this.options.dynamic_video.dynamic_audio_list[g].size);this.mediaList.audio.push({id:o,baseURL:s,initSegment:s+c.replace("$RepresentationID$",o),inited:!1,mediaSegments:u,mimeType:d,codecs:l,startWithSAP:f,bandwidth:a,size:i,timescale:h,duration:p,encrypted:v})}},{key:"_parseSegments",value:function(n,i){var a=this,o=[],s="";n.BaseURL&&(s=n.BaseURL[0]);var c=n.Period[0];c.AdaptationSet&&c.AdaptationSet.length>1&&c.AdaptationSet.forEach(function(n){var c="video/mp4",u="avc1.64001E",d="640",l="360",f="25",h="1:1",p="1",v="588633";n.mimeType&&("video/mp4"===(c=n.mimeType)?(u=n.codecs,d=parseFloat(n.width),l=parseFloat(n.height),f=parseFloat(n.frameRate),h=n.sar,p=n.startWithSAP,v=parseFloat(n.bandwidth),a.calcVideoCodeType(null,u)):"audio/mp4"===c&&(u=n.codecs,p=n.startWithSAP,v=parseFloat(n.bandwidth))),n.Representation.forEach(function(g){o.indexOf(g.id)>-1&&(g.id=(parseInt(o[o.length-1],10)+1).toString()),o.push(g.id);var y,m="",_=[],b=0,A=i.slice(0,i.lastIndexOf("/")+1)+s;"video/mp4"===(c=L(g,"mimeType",c))?(g.codecs&&(u=g.codecs,a.calcVideoCodeType(null,u)),d=L(g,"width",d,parseFloat),l=L(g,"height",l,parseFloat),f=L(g,"frameRate",f,parseFloat),h=L(g,"sar",h)):"audio/mp4"===c&&(u=L(g,"codecs",u)),p=L(g,"startWithSAP",p),v=L(g,"bandwidth",v,parseFloat),g.BaseURL&&g.BaseURL.length>0&&(A+=g.BaseURL[0]),n.SegmentTemplate&&n.SegmentTemplate.length>0&&(y=n.SegmentTemplate[0]),g.SegmentTemplate&&g.SegmentTemplate.length>0&&(y=g.SegmentTemplate[0]);var w=!1;(n.ContentProtection||g.ContentProtection)&&(w=!0),y&&(m=y.initialization,b=parseFloat(y.duration),a._parseST(y,_,g.id,A,l)),v=parseInt(v),"video/mp4"===c?a._getVideoSegments({id:g.id,bandwidth:v,baseURL:A,initSegment:m,mediaSegments:_,mimeType:c,codecs:u,width:d,height:l,frameRate:f,sar:h,startWithSAP:p,timescale:0,duration:b,encrypted:w}):"audio/mp4"===c&&a._getAudioSegments({id:g.id,baseURL:A,bandwidth:v,initSegment:m,mediaSegments:_,mimeType:c,codecs:u,startWithSAP:p,timescale:0,duration:b,encrypted:w})})})}},{key:"getCurrDefition",value:function(){var n=this.mediaList,i=n.video,a=n.audio,s={all:{},videoFileId:i[i.selectedIdx].fileId,audioFileId:a[a.selectedIdx].fileId},c,u=(0,o.sf)(i);try{for(u.s();!(c=u.n()).done;){var d=c.value;s.all[d.fileId]=d}}catch(n){u.e(n)}finally{u.f()}var l,f=(0,o.sf)(a);try{for(f.s();!(l=f.n()).done;){var h=l.value;s.all[h.fileId]=h}}catch(n){f.e(n)}finally{f.f()}return s}},{key:"init",value:function(){var n=!(arguments.length>0)||void 0===arguments[0]||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this;this.mediaList={video:[],audio:[]};var o=a.options;if(o.dynamic_video.dynamic_type&&"segment_template"!==o.dynamic_video.dynamic_type){a.dashType="segment_base",o.duration;var s,c=o.dynamic_video;["dynamic_video_list","dynamic_audio_list"].forEach(function(n){var s="dynamic_audio_list"===n,u=0;c[n].forEach(function(c,d){var l=parseInt(c.init_range.split("-")[0],10),f=parseInt(c.init_range.split("-")[1],10),h=parseInt(c.index_range.split("-")[0],10),p=parseInt(c.index_range.split("-")[1],10),v=c.first_segment_range,g=v?[parseInt(v.split("-")[0],10),parseInt(v.split("-")[1],10)]:null;!s&&a.calcVideoCodeType(c.codec_type);var y=c.fileId||c.file_id,m="dynamic_audio_list"===n?"audio":"video",_="video"===m?i&&i.videoFileId:i&&i.audioFileId,b=i&&i.all,A=b&&b[y];y===_&&(a.mediaList[m].selectedIdx=d,A.wrapperData&&(A.wrapperData.newIdx=d),A.mediaSegments&&A.mediaSegments.forEach(function(n){n.selectedIdx=d})),a.mediaList[m].push({id:(u++).toString(),baseURL:c.main_url,initSegment:c.main_url,initSegmentRange:[l,f],sidxRange:[h,p],firstMoofMdatRange:g,inited:!1,hasSidx:!1,mediaSegments:A?A.mediaSegments:[],mimeType:s?"audio/mp4":"video/mp4",codecs:s?"mp4a.40.2":a.videoCodecs,width:c.vwidth,height:c.vheight,bandwidth:parseInt(c.bitrate),avg_bitrate:c.avg_bitrate,size:c.size,timescale:-1,duration:o.duration,encrypted:c.encrypt,kid:c.kid,definition:c.definition,sidxRes:void 0,fileId:c.file_id,audioFileId:c.audio_file_id,fallbackUrl:c.fallback_url,hasFallback:!1,backupUrl:c.backup_url_1,hasBackup:!1,wrapperData:A?A.wrapperData:null})})}),a.type="vod",["video","audio"].forEach(function(n){a.mediaList[n].length>0&&(!i&&(a.mediaList[n].selectedIdx="video"===n&&a.dash.selectedIdx||0),"video"===n&&a.mediaList[n].sort(function(i,a){return"video"===n?a.height-i.height:a.bandwidth-i.bandwidth}))}),0===a.mediaList.video.length&&0===a.mediaList.audio.length&&(h.ZP.log("medaiList is null",JSON.stringify(a.options.dynamic_video)),null===(s=a.dash)||void 0===s||s.emit("error",new d.Z(P.wb.MANIFEST,P.wb.SUB_TYPES.DASH,{message:"NO_MEDIALIST"}))),n&&a.emit("ready"),a._readyPromise.resolve()}else a.dashType="segment_template",a.fetch(o.dynamic_video.main_url).then(function(n){a.type=n.meta.TYPE.toLocaleLowerCase(),a.emit("ready"),a._readyPromise.resolve()},function(){["video","audio"].forEach(function(n){a.mediaList[n]=[]}),a.retry++,a.retry,a.retryMax})}},{key:"getSidx",value:function(n){var i,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3?arguments[3]:void 0,u=this.mediaList[o][s],l=u.sidxRange[1];try{var f=n instanceof ArrayBuffer?n:n.buffer,p=new Uint8Array(f),v=String.fromCharCode.apply(null,p.subarray(4,8));if("sidx"!==v)throw h.ZP.log("mpd sdix parse err"),Error("topLevel ".concat(v,", index:").concat(s,", res:").concat(n.byteLength,", range:").concat(JSON.stringify(u.sidxRange)));var g=(i=S.sidx(S.findBox(new Uint8Array(f),[])[0])).timescale,y=[],m=0,_=0,b=l+1,A=b-1,w=u.cancelFirstSegmentReq,k=u.firstMoofMdatRange;i.references.forEach(function(n,i){_+=n.subsegment_duration,A+=n.referenced_size,y.push({idx:i+1,url:u.initSegment,start:Math.round(m/g),end:Math.round(_/g),startRaw:m/g,endRaw:_/g,range:[b,A],downloaded:!w&&k&&0===m?1:0,segmentDuration:Math.round(n.subsegment_duration/g),reference_type:n.reference_type,starts_with_SAP:n.starts_with_SAP,SAP_type:n.SAP_type,SAP_delta_time:n.SAP_delta_time,codecType:a.getCodecType(),mediaType:o,selectedIdx:s,fileId:u.fileId}),m=_+1,b=A+1}),y[0].startTime_=0,u.mediaDuration=0,y.forEach(function(n,i){u.mediaDuration+=n.segmentDuration,i>0&&(n.startTime_=y[i-1].startTime_+y[i-1].segmentDuration),i===y.length-1&&c&&(n.end=c)}),u.hasSidx=!0,u.mediaSegments=y,u.timescale=g,u.sidxRes=n}catch(n){if(this.sidxHanded)return;throw this.sidxHanded=!0,new d.Z(P.wb.DEMUX,P.wb.SUB_TYPES.SIDX,{line:398,handle:"[MPD] getSidx",message:"mpd segment base Parse getSidx error ".concat(o," err: ").concat(n.message)})}}},{key:"getCodecType",value:function(){return"bvc2"===this.videoCodecType?"h266":"hevc"===this.videoCodecType?"h265":this.videoCodecType?this.videoCodecType:"h264"}},{key:"checkInBuffered",value:function(n,i,a){return 0!==n.length&&this._inBufferd(i,a,n)}},{key:"_inBufferd",value:function(n,i,a){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=0;s<a.length;s++){var c=a[s].start,u=a[s].end;if(!(i<c)&&!(n>u)){if(c-o<n&&i<u+o)return!0}}return!1}},{key:"getBuffered",value:function(n){return this._getBuffered(n)}},{key:"_getBuffered",value:function(n){var i=this._getMseBuffered(n);if(!i||0===i.length)return[];for(var a=[],o=0;o<i.length;o++)a.push({start:i.start(o),end:i.end(o)});return a}},{key:"_getMseBuffered",value:function(n){var i,a,o,s=this.dash.mse;return s?i="[object Function]"===Object.prototype.toString.call(s.buffered)?this.dash.mse.buffered(n):"video"===n?null===(a=s.timeline)||void 0===a||null===(a=a.videoRender)||void 0===a?void 0:a.buffered:null===(o=s.timeline)||void 0===o||null===(o=o.audioRender)||void 0===o?void 0:o.buffered:[]}},{key:"seek",value:function(n,i,a){return this._getMediaResultsSeparate(n,i,["video","audio"],a)}},{key:"setSegmentIndexByTime",value:function(n){this._setSegmentBySeek(n,"video"),this._setSegmentBySeek(n,"audio")}},{key:"getCurSegment",value:function(){for(var n=["video","audio"],i={},a=0;a<n.length;a++){var o=n[a],s=null===(c=this.mediaList[o][this.mediaList[o].selectedIdx])||void 0===c?void 0:c.mediaSegments;if(s){var c,u,d,l,f=this._loadStates[o].currentIndex;i[o]=s[f],h.ZP.log("getCurSegment",o,null===(u=i[o])||void 0===u?void 0:u.idx,null===(d=i[o])||void 0===d?void 0:d.start,null===(l=i[o])||void 0===l?void 0:l.end,"idx",f,"len",s.length)}}return i}},{key:"getVideoFirstGop",value:function(){var n,i="video",a=null===(n=this.mediaList[i][this.mediaList[i].selectedIdx])||void 0===n?void 0:n.mediaSegments;return null==a?void 0:a[0]}},{key:"checkRemovedSegment",value:function(n){for(var i=["video","audio"],a={},o=0;o<i.length;o++){var s=i[o],c=n[s];if(!!c){var u=this._getBuffered(s);!this.checkInBuffered(u,c.startRaw,c.endRaw)&&(a[s]={remove:!0,start:c.startRaw,end:c.endRaw})}}return a}},{key:"_setSegmentBySeek",value:function(n,i){var a=this._findSegmentIndexByTime(i,n),o=a;a=this._adjustSegIndex(a,i),h.ZP.log("_setSegmentBySeek",i,o,"newSeg",a),this.setNextSegmentIndex(i,a),this.setLoadingState(i,!1)}},{key:"_adjustSegIndex",value:function(n,i){var a,o=null===(a=this.mediaList[i][this.mediaList[i].selectedIdx])||void 0===a?void 0:a.mediaSegments;if(o&&o.length>0){for(var s=this._getBuffered(i),c=n;c<o.length;c++){var u=o[c];if(this._isItemBufferRemoved(i,s,u),(null==u?void 0:u.downloaded)===0){n=c;break}}}return n}},{key:"setNextSegmentIndex",value:function(n,i){this._loadStates[n].currentIndex=i}},{key:"moveNextSegmentIndex",value:function(n,i){if(i-1===this._loadStates[n].currentIndex){var a=this._loadStates[n].currentIndex,o=this._adjustSegIndex(a+1,n);this._loadStates[n].currentIndex=o,a+1!==o&&h.ZP.log("seekResult moveNextSegmentIndex  mediaType",n,"segIdx",a+1,"segIdx",o)}}},{key:"_getMediaResultsSeparate",value:function(n,i,a,o){for(var s={},c=0;c<a.length;c++){var u=a[c];s[u]=[];var d=this._getCurBuffered(u),f=this._getBuffered(u),p=this._loadStates[u];if(p.isLoading||n+i<(null==d?void 0:d[1]))continue;var v=null===(b=this.mediaList[u][this.mediaList[u].selectedIdx])||void 0===b?void 0:b.mediaSegments;if(!v||0===v.length||p.currentIndex>=v.length)continue;var g=p.currentIndex,y=v[g];if(!y)continue;var m=y.end-y.start;if((null==d?void 0:d[1])===0||(null==d?void 0:d[1])>0&&y.start-d[1]>m+1){var _=this._findSegmentIndexByTime(u,n);if(_!==g-1||o){var b,A,w,k=_;(null==d?void 0:d[1])>0&&(k=this._adjustSegIndex(_,u),h.ZP.log("getMediaResults adjust1",u,g,"new",_,"adjustIdx",k,"buf",null==d?void 0:d[1])),this.setNextSegmentIndex(u,k),y=v[p.currentIndex],h.ZP.log("getMediaResults",u,g,"new",_,"adjustIdx",k,"buf",null==d?void 0:d[1],"gap",(null===(A=y)||void 0===A?void 0:A.start)-d[1],"mediaBuffers",JSON.stringify(f),"seg downloaded",null===(w=y)||void 0===w?void 0:w.downloaded)}else h.ZP.log("getMediaResults seq",u,"nsegIndex",_)}if(!!y&&!(y.start-n>i)){var E=this.checkInBuffered(f,y.startRaw,y.endRaw);if((null==d?void 0:d[1])===0&&E&&(h.ZP.log("_getMediaResults buffer gap fix",u),p.currentIndex<v.length-1&&(p.currentIndex++,y=v[p.currentIndex])),(null==d?void 0:d[1])>0&&y.end<n){var x=y.end;this._setSegmentBySeek(d[1],u),y=v[p.currentIndex],h.ZP.log("getMediaResults low",u,"curBuffers",d,"orgEnd",x,"newend",y.end,"currentTime",n)}y&&y.downloaded===l.Kc.NO_START&&s[u].push(y)}}return s}},{key:"_findSegmentIndexByTime",value:function(n,i){var a,o=null===(a=this.mediaList[n][this.mediaList[n].selectedIdx])||void 0===a?void 0:a.mediaSegments;if(o&&o.length>0){for(var s=0;s<o.length;s++){var c=o[s];if(i>=c.start&&i<c.end)return s}var u=o[o.length-1];if(.2>Math.abs(i-(null==u?void 0:u.end)))return o.length-1}return -1}},{key:"_getCurBuffered",value:function(n){var i,a=this._getMseBuffered(n);return Array.isArray(a)?[0,0]:null===(i=this.dash.player)||void 0===i?void 0:i.getBufferedRange(a)}},{key:"_isItemBufferRemoved",value:function(n,i,a){if(a&&a.downloaded===l.Kc.APPEND)return!this.checkInBuffered(i,a.startRaw,a.endRaw)&&(h.ZP.log("".concat(n," start:").concat(a.start," end:").concat(a.end," segment downloaded to set false")),a.downloaded=l.Kc.NO_START,!0);return a&&a.downloaded===l.Kc.NO_START&&this.checkInBuffered(i,a.startRaw,a.endRaw)&&(a.downloaded=l.Kc.APPEND,h.ZP.log("".concat(n," start:").concat(a.start," end:").concat(a.end," segment downloaded to append"))),!1}},{key:"clearBuffer",value:function(n,i,a){if(!(n>i)){h.ZP.log("mpd clearBuffer ".concat(a," start:").concat(n," end:").concat(i));var o=this;"vod"===o.type&&(a?[a]:["video","audio"]).forEach(function(a){if(o.mediaList[a].length>0){var s=o.mediaList[a][o.mediaList[a].selectedIdx],c=[];s.mediaSegments.forEach(function(a,o){!(a.end<n)&&!(a.start>i)&&(a.downloaded=l.Kc.NO_START,a.extRange=void 0,c.push(o))});var u=c.length>0?c[0]:void 0,d=c.length>1?c[c.length-1]:u;h.ZP.log("".concat(a," start:").concat(n," end:").concat(i,",\n             startId:").concat(u," , endId:").concat(d,", segment downloaded set false"))}})}}},{key:"isLastSegmentAndAppend",value:function(n,i){if(!this.mediaList[n])return!0;var a,o=i-1,s=this.mediaList[n].selectedIdx,c=null===(a=this.mediaList[n][s])||void 0===a?void 0:a.mediaSegments;return!!c&&(!c[o]||this._isSegmentAppend(c[o])&&c.length-1===o)}},{key:"_isSegmentAppend",value:function(n){return n.downloaded===l.Kc.APPEND}},{key:"isSegmentAppendFromIdx",value:function(n,i){if(!this.mediaList[n])return{res:!0,emptyTrack:!0};var a,o=0,s=this.mediaList[n].selectedIdx,c=(null===(a=this.mediaList[n][s])||void 0===a?void 0:a.mediaSegments)||[];if(0===c.length)return{res:!0,emptySegments:!0};for(var u=0;u<c.length;u++)if(c[u].start<=i&&i<=c[u].end){o=u;break}c&&i>=c[c.length-1].end&&(o=c.length-1);var d=!0;if(c)for(var l=o;o<c.length&&c[l];l++){;if(!this._isSegmentAppend(c[l])){d=!1;break}}else d=!1;return{res:d}}}],[{key:"parseMPD",value:function(n){if("string"==typeof n&&(i=n),n instanceof ArrayBuffer){var i,a=new Uint8Array(n);i=String.fromCharCode.apply(null,a)}if(!i)return null;var o=performance.now();return i=i.replace(/<(\/)?(\w+:)+(\w+)/g,"<$1$3"),h.ZP.log("MPD cost",performance.now()-o),f.v8.parse(i)}}])}()},198901:function(n,i,a){"use strict";a.d(i,{Z:function(){return v}});var o=a(884504);a(514312),a(904644),a(969642),a(766282),a(947478),a(864614),a(238658),a(210434);var s=a(203199),c=a(479461),u=a(233343),d=a(569898),l=a(897948),f=a(611451),h=a(626735),p=a(918334),v=(0,o.qH)(function n(i){var a=this;(0,o.PA)(this,n),(0,o._x)(this,"start",function(){var n=a._pluginInst.player;a._pluginInst.originStartInit.call(n,a._url);var i="dash mp4 kernal start";a._pluginInst.info({msg:i}),d.ZP.log(i)}),(0,o._x)(this,"_errorHandler",function(n){var i=a._pluginInst.player;if(i.video.error)n=new h.ZP(i,{errorType:l.wb.MEDIA,errorCode:5100+i.video.error.code});else{var o=n;if("string"!=typeof n)try{o=JSON.stringify(n)}catch(n){o="other"}n=new h.ZP(i,{errorType:l.wb.OTHER,errorCode:0,errorMessage:o})}a._stat.error.push({err:n}),d.ZP.log("mp4 error",n);var s=new Date().getTime()/1e3>=a.urlExpireTimestamp&&a.urlExpireTimestamp>0;if(a._pluginInst.info({msg:"dash mp4 kernal error happend, url expired ".concat(s),err:n}),s&&i.video.error&&(4===i.video.error.code||2===i.video.error.code)){!a._urlExpiredWhenInit&&a._mp4CheckExpire();return}a._pluginInst.setStartTimelines(p.l1.PLAYER_ERROR,{message:"dashmp4-".concat(n.errorMessage,"-").concat(n.errorCode)}),i.emit("error",n)}),(0,o._x)(this,"_updateMp4Auto",function(){setTimeout(function(){a._updateMp4AutoDesc()},0)}),this._url=null,this._pluginInst=i,this._urlExpiredWhenInit=!1,this._initialize(),this._proxyPlayer(),this._stat={type:"mp4",error:[]}},[{key:"executeReady",value:function(){var n=this._pluginInst.player;n.dashState=c.Y9,n.emit("nextEnded")}},{key:"_initialize",value:function(){var n=this,i=this._pluginInst.config;this._handleMp4Definitions(i.defaultDefinition),this._getMp4Opts();var a=this._pluginInst.player;a.dash=!1,setTimeout(function(){a.emit("resourceReady",n._mp4Definitions||[],[].concat(n._RawMp4Definitions)),n._updateMp4Auto()}),this.urlExpireTimestamp&&(this._urlExpiredWhenInit=new Date().getTime()/1e3>=this.urlExpireTimestamp&&this.urlExpireTimestamp>0,this._mp4CheckExpire())}},{key:"onPreChangeDefinition",value:function(n){var i=this._pluginInst,a=i.config,o=i.player;return!a.mp4Opts&&(a.mp4Opts={}),a.mp4Opts.mp4List=n,this._handleMp4Definitions(this._currDefinition),o.config.definition&&(o.config.definition.defaultDefinition=this._currDefinition,o.plugins.definition&&(o.plugins.definition.config.defaultDefinition=this._currDefinition)),o.emit("resourceReady",this._mp4Definitions),this._mp4Definitions}},{key:"_handleMp4Definitions",value:function(n){var i=this;n=n&&n.toString();var a=this._pluginInst,o=a.player,s=a.config,d=a.playerConfig;if(d.downgradeUrl&&(!s.mp4Opts||!s.mp4Opts.list||0===s.mp4Opts.list.length)){var p=[{url:d.downgradeUrl,definition:"1",vtype:"MP4",size:0,codecType:"h264"}];s.mp4Opts={mp4List:p}}if(s.mp4Opts){this.mp4AutoItem=null;var v,g=[].concat(s.mp4Opts.mp4List||[]);g.every(function(n){return!!n.bitrate})&&g.sort(function(n,i){return i.bitrate-n.bitrate});var y=s.mp4Opts.isOpenAutoDefi,m=s.mp4Opts.isPlayAutoDefi,_=!1;if(y){var b={};g.forEach(function(n){b[(n.definition||"").toLowerCase()]=n});for(var A=["720p","480p","360p"],w=null,k=0;k<A.length;k++){var E=b[A[k]];if(E){w=E;break}}if(w){this.mp4AutoItem=w;var x=s.mp4Opts.autoDefiText||"自动",S="".concat(x,"(").concat(w.definition,")");g.push({definition:x,url:u.UV,name:S,url_expire:w.url_expire||0,selected:!!m}),_=m}}if(g.length>0){g.forEach(function(n){if(n.definition&&(n.definition=n.definition.toString()),d&&"function"==typeof d.preProcessUrl){var i=d.preProcessUrlOptions||{};n.url=d.preProcessUrl(n.url,i).url}});var T=g[0].url,I=g[0].url;g.forEach(function(a){a.definition===n&&(T=a.url,I=a.url,i._currDefinition=n)}),y&&m&&this.mp4AutoItem&&(T=this.mp4AutoItem.url,I=u.UV),this._mp4Url=I,this._url=T,this._pluginInst.loadURL=T}if(!_){for(var R=0;R<g.length;R++){var C=g[R];if(n===C.definition){C.selected=!0,_=!0,this._currDefinition=n;break}}if(!_){if(g.length>0)g[0].selected=!0,this._currDefinition=String(g[0].definition);else{setTimeout(function(){var n=l.WE[l.wb.MEDIA][l.wb.SUB_TYPES.MEDIA_ERR_URL_EMPTY],i=new h.ZP(o,{errorType:l.wb.MEDIA,errorCode:n});o.emit(f.K.ERROR,i)});return}}}this._mp4Definitions=g.map(function(a){n===a.definition&&(i._url=a.url,!m&&(a.selected=!0));var o=JSON.parse(JSON.stringify(a));return o.name=s.definitionText&&s.definitionText[a.definition]||a.definition,o.url_expire=a.url_expire||0,o}),this._backup_url=this._mp4Definitions[0].backup_url,this._RawMp4Definitions=g;var D=!1;this._pluginInst.setCodeInfo(null===(v=g[0])||void 0===v?void 0:v.codec_type);for(var O=0;O<g.length;O++){var B=g[O];B.codec_type&&B.vtype&&("h264"!==B.codec_type||"mp4"!==B.vtype)&&(D=!0)}D&&o.emit("log",{type:"oneevent",end_type:c.c9})}}},{key:"_getMp4Opts",value:function(){var n=this._pluginInst.player,i={url:this._mp4Url,realUrl:this._url,mp4Definitions:[].concat(this._mp4Definitions)};return this._getPlayInfoTimestamp=new Date().getTime()/1e3,i.mp4Definitions&&i.mp4Definitions.length>0&&i.mp4Definitions[0]&&(this.urlExpireTimestamp=i.mp4Definitions[0].url_expire||0),this._destroyMp4AutoHandler(),n.on("canplay",this._updateMp4Auto),this.urlExpireTimestamp&&(this.mp4CheckExpire=this._mp4CheckExpire.bind(this),n.on("timeupdate",this.mp4CheckExpire)),i}},{key:"_proxyPlayer",value:function(){var n=this._pluginInst,i=n.player,a=n.config;this._originSwitchURL=i.switchURL,this._originErrorHandler=i.errorHandler,a.defaultFormat="mp4",i._startInit=this.start,i.errorHandler=this._errorHandler,i.switchURL=this._switchURLMp4.bind(this),i.config.url=this._url}},{key:"_switchURLMp4",value:function(n){var i=this,a=this._pluginInst.player,o=(Array.isArray(n)?n:n.split("/")[n.split("/").length-1])===u.UV,c=o?this.mp4AutoItem.url:n;this._pluginInst.loadURL=c,a.curTime=a.currentTime;var d=a.paused;this._url=o?u.UV:n,!a.ended&&(a.src=c,s.Z.once(a,"canplay",function(){if(a.currentTime=a.curTime,!d){var n=a.play();void 0!==n&&n&&n.catch(function(){})}d&&a.pause()}));o?this._setCurrentDefitionInfos("自动 ".concat(this.mp4AutoItem.definition),this.mp4AutoItem):s.Z.once(a,"definitionChange",function(n){for(var a=n.to,o=null,s=i._pluginInst.cnofig,c=0;c<s.mp4Opts.mp4List.length;c++){var u=s.mp4Opts.mp4List[c];if(u.definition===a){o=u,i._currDefinition=String(o.definition);break}}i._setCurrentDefitionInfos("".concat(a),o)})}},{key:"_mp4CheckExpire",value:function(){var n;null===(n=this._pluginInst)||void 0===n||n.handleUrlExpire(this,!0)}},{key:"_updateMp4AutoDesc",value:function(){var n=this._pluginInst.player,i=this._url!==u.UV||void 0;this.mp4AutoItem&&(n.emit("MP4_AUTO_DESC_CHANGE",JSON.parse(JSON.stringify(this.mp4AutoItem)),!!i||void 0),!i&&this._setCurrentDefitionInfos(this.mp4AutoItem.definition,this.mp4AutoItem))}},{key:"_setCurrentDefitionInfos",value:function(n,i){this._pluginInst.setCurrentDefitionInfos(n,i)}},{key:"_destroyMp4AutoHandler",value:function(){var n=this._pluginInst.player;n.off("canplay",this._updateMp4Auto),n.off("timeupdate",this._mp4CheckExpire)}},{key:"destroy",value:function(){var n=this._pluginInst.player;n.errorHandler=this._originErrorHandler,n._startInit=this._pluginInst._originStartInit,this._destroyMp4AutoHandler(),this._pluginInst.unloadVideo(),n.switchURL=this._originSwitchURL}},{key:"getStat",value:function(){var n=this._pluginInst.player;this._stat.currentTime=n.currentTime;var i=n.video.error;return this._stat.videoError=i?{code:i.code,message:i.message}:null,this._stat}}])},342189:function(n,i,a){"use strict";a.d(i,{Z:function(){return d}});var o,s,c=a(884504);a(11258),a(947478),a(864614),a(210434);var u=a(907376);var d=(0,c.qH)(function n(i,a){(0,c.PA)(this,n),this._mediaTypeToServiceType={audio:null,video:null},this._useSeparationMode=!1;var o=i.config,s=i.isOpenPCDN,u=i.videoDuration,d=i.uri,l=o.pcdnConfig,f=o.useSeparationMode;this._useSeparationMode=f,f?(this._mediaTypeToServiceType.video=this._createPCDNService(l,s,u,d,a,"video_PCDN"),this._mediaTypeToServiceType.audio=this._createPCDNService(l,s,u,d,a,"audio_PCDN")):this._pcdn=this._createPCDNService(l,s,u,d,a,"all_PCDN")},[{key:"openPCDNForce",value:(o=(0,c.x)((0,c.l5)().mark(function n(i,a){var o;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=this._getPCDNService(a.mediaType),n.next=3,o.openPCDNForce(i,a);case 3:case"end":return n.stop()}},n,this)})),function(n,i){return o.apply(this,arguments)})},{key:"_getPCDNService",value:function(n){return this._useSeparationMode?this._mediaTypeToServiceType[n]:this._pcdn}},{key:"checkPCDN",value:function(n){var i=this._getPCDNService(n.mediaType);null==i||i.checkPCDN(n)}},{key:"_createPCDNService",value:function(n,i,a,o,s,c){return new u.ZP(n,i,a,o,s,c)}},{key:"selectedPCDN",value:function(n,i,a){var o=this._getPCDNService(n);return null==o?void 0:o.selectedPCDN(i,a)}},{key:"isOpenPCDN",value:function(n,i,a,o,s){var c=this._getPCDNService(n);null==c||c.isOpenPCDN(i,a,o,s)}},{key:"setSetRetryInfo",value:function(n,i){var a=this._getPCDNService(n);null==a||a.setSetRetryInfo(i)}},{key:"removePCDNNode",value:(s=(0,c.x)((0,c.l5)().mark(function n(i,a,o){var s;return(0,c.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=this._getPCDNService(i),n.next=3,null==s?void 0:s.removePCDNNode(a,o);case 3:case"end":return n.stop()}},n,this)})),function(n,i,a){return s.apply(this,arguments)})},{key:"getPCDNInOUtBuffer",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"video",i=this._getPCDNService(n);return null==i?void 0:i.getPCDNInOUtBuffer()}},{key:"pcdnVVStat",get:function(){var n,i,a=this;if(!this._useSeparationMode)return this._pcdn.pcdnReqCnt;var o={};if(!this._mediaTypeToServiceType.video||!this._mediaTypeToServiceType.audio)return(null===(n=this._mediaTypeToServiceType.video)||void 0===n?void 0:n.pcdnReqCnt)||(null===(i=this._mediaTypeToServiceType.audio)||void 0===i?void 0:i.pcdnReqCnt)||{};var s=this._mediaTypeToServiceType.video.pcdnReqCnt,c=this._mediaTypeToServiceType.audio.pcdnReqCnt;return Object.keys(s).forEach(function(n){o[n]=a._getValue(n,s)+a._getValue(n,c)}),o}},{key:"pcdnReqCnt",get:function(){var n,i,a,o,s=this;if(!this._useSeparationMode)return this._pcdn.pcdnVVStat;if(!this._mediaTypeToServiceType.video||!this._mediaTypeToServiceType.audio)return(null===(n=this._mediaTypeToServiceType.video)||void 0===n?void 0:n.pcdnVVStat)||(null===(i=this._mediaTypeToServiceType.audio)||void 0===i?void 0:i.pcdnVVStat)||{};var c={},u=["is_try_open","trace_id"],d=null===(a=this._mediaTypeToServiceType.video)||void 0===a?void 0:a.pcdnVVStat,l=null===(o=this._mediaTypeToServiceType.audio)||void 0===o?void 0:o.pcdnVVStat;return Object.keys(d).forEach(function(n){u.includes(n)?c[n]=d[n]||l[n]:c[n]=s._getValue(n,d)+s._getValue(n,l)}),c}},{key:"_getValue",value:function(n,i){return i[n]||0}},{key:"updateConfig",value:function(n,i){this._getPCDNService(n).updateConfig(i)}}])},811156:function(n,i,a){"use strict";function o(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function s(n){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(i){f(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function c(n){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function d(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,m(o.key),o)}}function l(n,i,a){return i&&d(n.prototype,i),a&&d(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function f(n,i,a){return(i=m(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function h(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&v(n,i)}function p(n){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function v(n,i){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}a.d(i,{Ac:function(){return c},Lc:function(){return g},PA:function(){return u},WY:function(){return y},XW:function(){return h},Zj:function(){return s},_x:function(){return f},qH:function(){return l}});function g(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function y(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var a,o=p(n);return a=i?Reflect.construct(o,arguments,p(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return g(n)}(this,a)}}function m(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},895672:function(n,i,a){"use strict";a.d(i,{Z:function(){return u}});var o=a(811156),s=a(458862),c=a(12337),u=function(){function n(i,a,u){var d=this;(0,o.PA)(this,n),(0,o._x)(this,"_missFrames",0),(0,o._x)(this,"_lastTotalFrames",0),(0,o._x)(this,"_lastTime",0),(0,o._x)(this,"_threshold",0),(0,o._x)(this,"_isVFC",!1),(0,o._x)(this,"_longFrames",0),(0,o._x)(this,"_isResize",!1),(0,o._x)(this,"_totalFrames",0),(0,o._x)(this,"_visibilityFrames",0),(0,o._x)(this,"_visibilityTotalFrames",0),(0,o._x)(this,"_mediaElement",null),(0,o._x)(this,"_onPause",function(){d._isPaused=!0}),(0,o._x)(this,"_onPlay",function(){d._isPaused&&(d._resumePlay=!0,d._isPaused=!1)}),(0,o._x)(this,"_onResize",function(){d._isResize=!1,d._resizeNextRender=!0}),(0,o._x)(this,"_onVisibilityChange",function(){if(d._mediaElement&&d._mediaElement.getVideoPlaybackQuality){var n=d._mediaElement.getVideoPlaybackQuality().totalVideoFrames;if(document.hidden)d._visibilityFrames=n;else{if(d._visibilityFrames>0){var i=n-d._visibilityFrames;d._missFrames+=i,d._visibilityTotalFrames+=i}d._isActiveHidden&&d._activeHiddenCallback(n),d._resumeVisibilityChange=!0}}});var l=i.threshold,f=i.minRenderCount,h=i.longTaskScale,p=i.isVFC;this._threshold=l,this._minRenderCount=f,this._longTaskScale=h,this._mediaElement=a,this._isVFC=p,this._activeHiddenCallback=u,this._isActiveHidden=!1,this._ewma=new c.Z(5),this._onResizeHandler=(0,s.P2)(this._onResize,200,function(){!document.hidden&&(d._isResize=!0,d._resizeNextRender=!1)}),window.addEventListener("resize",this._onResizeHandler),document.addEventListener("visibilitychange",this._onVisibilityChange),this._isVFC&&(a.addEventListener("pause",this._onPause),a.addEventListener("play",this._onPlay)),document.hidden&&(this._isActiveHidden=!0)}return(0,o.qH)(n,[{key:"record",value:function(n,i){this._totalFrames=i;var a=n-this._lastTime,o=i-this._lastTotalFrames-1;o<0&&(o=0),this._lastTotalFrames>0&&!this._resumeVisibilityChange&&((this._isResize||this._resizeNextRender)&&o>=this._threshold?(this._missFrames+=o,this._resizeNextRender=!1):((this._isPaused||this._resumePlay)&&(this._resumePlay=!1,a=this._ewma.getEstimate()||20),this._ewma.sample(1,a),1e3/this._ewma.getEstimate()>=this._minRenderCount?a>1e3/this._minRenderCount*2&&(this._missFrames+=o):this._longFrames+=o)),this._lastTime=n,this._lastTotalFrames=i,this._resumeVisibilityChange&&(this._resumeVisibilityChange=!1)}},{key:"missFrames",get:function(){return this._missFrames}},{key:"getStat",value:function(){return{missFrames:this._missFrames,longFrames:this._longFrames,renderDelta:this._ewma.getEstimate()||0,totalFrames:this._totalFrames,visibilityFrames:this._visibilityTotalFrames}}},{key:"destroy",value:function(){this._missFrames=0,this._lastTotalFrames=0,this._lastTime=0,this._longFrames=0,window.removeEventListener("resize",this._onResizeHandler),document.removeEventListener("visibilitychange",this._onVisibilityChange),this._isVFC&&(this._mediaElement.removeEventListener("pause",this._onPause),this._mediaElement.removeEventListener("play",this._onPlay))}}]),n}()},12337:function(n,i,a){"use strict";a.d(i,{Z:function(){return s}});var o=a(811156),s=function(){function n(i){(0,o.PA)(this,n),this.alpha_=Math.exp(Math.log(.5)/i),this.estimate_=0,this.totalWeight_=0}return(0,o.qH)(n,[{key:"updateAlpha",value:function(n){this.alpha_=Math.exp(Math.log(.5)/n)}},{key:"sample",value:function(n,i){var a=Math.pow(this.alpha_,n),o=i*(1-a)+a*this.estimate_;!Number.isNaN(o)&&(this.estimate_=o,this.totalWeight_+=n)}},{key:"getEstimate",value:function(){var n=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/n}}]),n}()},166960:function(n,i,a){"use strict";a.d(i,{E:function(){return s},Z:function(){return c}});var o=a(811156),s={LOAD_WASM:"loadWasm",WASM_INIT:"initWasm",RENDER:"render",CALFPS:"calfps",RUNINFO:"runinfo",GETERRORRENDER:"geterrorrender",SETRUNNING:"setrunning",SETWIDTHHEIGHT:"setwidthheight"},c=function(){function n(){var i=this;(0,o.PA)(this,n),(0,o._x)(this,"_marks",new Map),(0,o._x)(this,"_names",Object.values(s)),this._names.forEach(function(n){i._marks.set(n,{start:0,duration:0,avg:0,count:0})})}return(0,o.qH)(n,[{key:"mark",value:function(n){this._marks.get(n).start=performance.now()}},{key:"endMark",value:function(n){var i=this._marks.get(n);i.duration=performance.now()-i.start,i.count++,i.avg=(i.avg*(i.count-1)+i.duration)/i.count}},{key:"getStat",value:function(){var n=this,i={};return this._names.forEach(function(a){i[a]=n._marks.get(a).avg}),i}}]),n}()},233343:function(n,i,a){"use strict";a.d(i,{UV:function(){return l},ZP:function(){return h},_c:function(){return d}});var o,s=a(395770);a(514312),a(121621),a(904644),a(379493),a(969642),a(577829),a(953722),a(410121),a(842903),a(947478),a(864614),a(616414),a(617192),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(224382),a(74370),a(533431),a(917128),a(621120),a(890568),a(494319),a(631666),a(542074),a(783858),a(677046),a(540865),a(794349),a(210434),a(612222);var c=a(280161),u=a(787475);var d=((o=d||{}).ABR_CHANGE="ABR_CHANGE_A",o.ABR_UPDATE_SPEC="ABR_UPDATE_SPEC",o.START_ABR="START_ABR",o.UPDATE_AUTO_DESC="UPDATE_AUTO_DESC",o.ABR_START_PROGRESS="ABR_START_PROGRESS",o.MAX_BUFFER_CHANGE="MAX_BUFFER_CHANGE",o.NEXT_SEGMENT_PREDICT="NEXT_SEGMENT_PREDICT",o.ABR_STAT="ABR_STAT",o.ABR_DEFINITION_REAL_CHANGE="ABR_DEFINITION_REAL_CHANGE",o.ABR_LIMIT_BITRATE="ABR_LIMIT_BITRATE",o),l="__auto__",f={PLAYBACK_BITRATE:"avg_play_bitrate",DOWNLOAD_BITRATE:"avg_download_bitrate",DOWNLOAD_NETWORK_SPEED:"avg_download_speed",PREDICT_NETWORK_SPEED:"avg_predict_speed",BUFFER_LENGTH:"avg_buffer_length",QOE:"avg_qoe"},h=function(n){function i(n,a,o,u,d){var l,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{logger:function(){},openLog:!1};(0,s.PA)(this,i),(l=(0,s.$w)(this,i,[a,o,u,d,h]))._bufferRange=new Map,l._sortedBufferRange=[],l._lastCheckResolutionStamp=0,l._currentDefinition=null,l._isSeeking=!1,l._waitingStartTime=0,l._stallCount=0,l._seekState=0,l._stallState=0,l._videoCurrentTime=0,l._hasStart=!1,l._isPaused=!1,l._hasAddFragment=!1,l._eventInfo={local_time_ms:0,internet_speed:0,buffer_length:0,last_bitrate:0,now_bitrate:0,play_speed:1},l._bitrateSet=[],l._generalInfo={},l._currentInAbr=!1,l._hasCalcTimelineLog=!1,l._abr_play_info={start_play_time_ms:0,is_hint:0,playback_info:{internet_speed_record:[],play_bitrate_record:[],buffer_length_record:[],play_speed_record:[],qoe_record:[],qoe_a_record:[],qoe_b_record:[],qoe_c_record:[]}},l._tickCount=0,l._fps=30,l.startTime=performance.now(),l._prevDefinitionItem=null,l._currentItem=null,l._switchCount=0,l._switchBitrate=0,l._avgStatItems={},l._qoeArgs=[0,0,0,0],l._abrUsed=-1,l._abrAlwaysOn=1,l._preloadInfo=null,l._hasLogStartInfo=!1,l._hasExecuteAbrAlgo=!1,l._lastExecuteTimeInMs=0,l._isSegmentDrive=!1,l._prevCurrentTime=-1,l._abrChangeTimeMap={},l._underFlowDecodeCount=0,l._onSegmentPredict=function(n){if(!!l.isCurrentInAbr){if(l._isSegmentDrive){var i=Math.floor(l.player.downloadSpeed);!n.isInitSegment&&"video"===n.mediaType&&l._loopAbr(i,n.start,n.fix?n.end:0,n)}}},l._onPlay=function(){l._hasStart=!0,l.logger("onplay")},l._onSeeking=function(){var n,i;l._isSeeking=!0,l.player.currentTime<l._videoCurrentTime?l._seekState=-1:l._seekState=1,null===(n=l.module)||void 0===n||null===(i=n._updateSeekInfo)||void 0===i||i.call(n,l._seekState),l.logger("seekState",l._seekState)},l._onSeekEnd=function(){l._isSeeking=!1,l.checkRestart()},l._onWaiting=function(){if(!l._isSeeking&&!(l._waitingStartTime>0)){for(var n=l.player.video.buffered,i=l.player.currentTime,a=!0,o=0;o<n.length;o++){var s=n.start(o),c=n.end(o);if(s<=i&&i<c-(l.autoBitrateOpts.decodeUnderflowBuffer||1)&&l.player.readyState<HTMLVideoElement.HAVE_ENOUGH_DATA){l._underFlowDecodeCount++,a=!1;break}}var u=l._underFlowDecodeCount>=(l.autoBitrateOpts.decodeUnderflowCount||1),d=l._defaultMaxBitrate>0||l._underflowBitrate>0,f=1===l.autoBitrateOpts.decodeUnderflowMode&&l._isSegmentDrive;if(u&&(d||f)){var h=!0;if(f){var p=l._maxBitrate;l._maxBitrate=l._minBitrate,h=l._maxBitrate!==p}l.player.emit("ABR_LIMIT_BITRATE",{removed:h}),l._underflowBitrate>0&&(l._maxBitrate=l._underflowBitrate)}l._waitingStartTime=new Date().getTime(),l._stallId=setTimeout(function(){var n,i;clearTimeout(l._stallId),l._stallCount++,l._stallState=1,null===(n=l.module)||void 0===n||null===(i=n.updateWaitingState)||void 0===i||i.call(n,a)},200)}},l._onPlaying=function(){l._waitingStartTime=0,l._stallState=0,clearTimeout(l._stallId),l.checkRestart()},l._onTimeUpdate=function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!l._sortedBufferRange||0===l._sortedBufferRange.length||!l._currentInAbr||!l.player)return;l._videoCurrentTime=l.player.currentTime;var a=Date.now();if(!(a-l._lastCheckResolutionStamp<1e3)||0===l._lastCheckResolutionStamp||!!i){l._lastCheckResolutionStamp=a;for(var o=l.player.currentTime,s=0,c=l._sortedBufferRange.length-1,u=null;s<=c;){var d=Math.floor(s+(c-s)/2),f=l._sortedBufferRange[d];if(o<f.start)c=d-1;else if(o>=f.end)s=d+1;else{u=f;break}}if(u){var h,p=null===(h=l._bitrateToDefinitionConfig)||void 0===h?void 0:h.get(u.bandwidth),v=null==p?void 0:p.definition;if(l._currentDefinition===v&&!i||!v){!v&&l.logger("error definition, mpd配置与接口配置不一致");return}l._currentDefinition=v,l._prevDefinitionItem=l._currentItem,l._currentFps=p.fps,l._currentItem=p,l._emitAutoDescChange(v,!1,l._currentFps,p),l._prevDefinitionItem&&l._currentDefinition&&l._prevDefinitionItem.definition!==l._currentDefinition.definition&&l._emitDefinitionRealChange(u)}}},l._onCanPlay=function(){if(!!l._currentInAbr&&!!l._currentDefinition)l._updateId=setTimeout(function(){clearTimeout(l._updateId),l._emitAutoDescChange(l._currentDefinition,!1,l._currentFps,l._currentItem)},0)},l._onBufferRangeUpdate=function(n){if(void 0!==n.start){null===l._currentItem&&l._onTimeUpdate(null,!0);var i=n.start;l._hasAddFragment=!0,l._bufferRange.set(i,n);var a=(0,s.u)(l._bufferRange.values());l._sortedBufferRange=a.sort(function(n,i){return n.start-i.start}),l.avgStat(f.DOWNLOAD_BITRATE,n.bandwidth)}},l._onReplay=function(){l.checkRestart()},l._onEnded=function(){l.stop()},l._onError=function(){l.stop()},l.start=function(){if(l.logger("start"),l._isPaused=!1,!l._hasCalcTimelineLog){var n=1===Math.floor(100*Math.random());l._abr_play_info.is_hint=n?1:0}l._hasCalcTimelineLog=!0,l._loop()},l.stop=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0===n&&(l._abrAlwaysOn=-1),clearTimeout(l.timerId),l._isPaused=!0,l.logger("stop")},l.logger("constructor",a,o,u,d,l.bitrate),l.player=n,l.isOpenAutoDefi=!!l.autoBitrateOpts.isOpenAutoDefi,l._isSegmentDrive=1===l.autoBitrateOpts.abrDriveMode,l.onPlayRateChange=l._onPlayrateChange.bind(l),l._onWinSizeChange=(0,c.Ds)(l.onWinElemSizeChange.bind(l),1e3,!1),l._maxDefinition=l.autoBitrateOpts.maxDefinition||null,l._maxBitrate=-1,l.listeners=[{evt:"MAX_BUFFER_CHANGE",handler:l._onMaxBufferChange.bind(l)},{evt:"playbackrateChange",handler:l.onPlayRateChange},{evt:"replay",handler:l._onReplay},{evt:"ended",handler:l._onEnded},{evt:"error",handler:l._onError},{evt:"timeupdate",handler:l._onTimeUpdate},{evt:"addVideoBufferEnd",handler:l._onBufferRangeUpdate},{evt:"canplay",handler:l._onCanPlay},{evt:"play",handler:l._onPlay},{evt:"seeking",handler:l._onSeeking},{evt:"seeked",handler:l._onSeekEnd},{evt:"waiting",handler:l._onWaiting},{evt:"playing",handler:l._onPlaying},{evt:"video_resize",handler:l._onWinSizeChange},{evt:"NEXT_SEGMENT_PREDICT",handler:l._onSegmentPredict}],l.listeners.forEach(function(n){var i=n.evt,a=n.handler;l.player.on(i,a)}),l._abrMethod=l.autoBitrateOpts.method||0,l._loopInterval=l.initInterval,c.E8.install(),l._maxCacheTimeVideo=l.config.preloadTime||5,l._maxCacheTimeAudio=l._maxCacheTimeVideo;for(var v=Object.keys(f),g=0;g<v.length;g++){var y=f[v[g]];l._avgStatItems[y]=new p}return l}return(0,s.XW)(i,n),(0,s.qH)(i,[{key:"init",value:function(n){return this._mediaList=n,this.isOpenAutoDefi?this._onLoadWasm():this._wasmPromise.resolve(),this._wasmPromise}},{key:"execute",value:function(){return this.listenSize(),this.initFps(),this.onWinElemSizeChange(),this._execDecision()}},{key:"initFps",value:function(){this.fpsDetection=new c.E8,this.fpsDetection.start(),this._fps=this.fpsDetection.fps,this._hasDeviceInfoChanged=!0}},{key:"listenSize",value:function(){window.removeEventListener("resize",this._onWinSizeChange),window.addEventListener("resize",this._onWinSizeChange)}},{key:"onWinElemSizeChange",value:function(){var n,i,a=(null===(n=this.player)||void 0===n?void 0:n.media)||(null===(i=this.player)||void 0===i?void 0:i.video);if(a){var o=a.getBoundingClientRect();this._videoWidth=Math.floor(o.width),this._videoHeight=Math.floor(o.height),this._hasDeviceInfoChanged=!0}}},{key:"execTimeUpdate",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._onTimeUpdate(null,n)}},{key:"_onMaxBufferChange",value:function(n){var i=n.videoCacheTime,a=n.audioCacheTime;this._maxCacheTimeAudio=a,this._maxCacheTimeVideo=i}},{key:"_emitAutoDescChange",value:function(n,i,a,o){var s;this.logger("[ABR],emitAutoDescChange, definition, ",n,",item,",o,",pre_item,",this._prevDefinitionItem),null===(s=this.player)||void 0===s||s.emit("UPDATE_AUTO_DESC",{definition:n,reset:i,fps:a,item:o,pre_item:this._prevDefinitionItem})}},{key:"_emitDefinitionRealChange",value:function(n){var i,a=0,o=n.start;this._abrChangeTimeMap[o]&&(this._abrChangeTimeMap[o]=0,delete this._abrChangeTimeMap[o],a=1),null===(i=this.player)||void 0===i||i.emit("ABR_DEFINITION_REAL_CHANGE",{orgDefinition:this._prevDefinitionItem.definition,orgBitrate:this._prevDefinitionItem.bitrate||this._prevDefinitionItem.bandwidth,currentDefinition:this._currentItem.definition,currentBitrate:this._currentItem.bitrate||this._currentItem.bandwidth,abrChange:a})}},{key:"_onPlayrateChange",value:function(){this.module&&this.updateBufferInfo()}},{key:"_execDecision",value:function(){if(!this.isOpenAutoDefi)return 0;var n=0;try{this.logger("exec decision"),this.updateSwitchInfo(),this.transformMediaInfo(),this.updateDeviceInfo();var i=!!this.autoBitrateOpts.isPlayAutoDefi;if(this.isOpenAutoDefi&&i){this._abrUsed=1;var a=this._getDefaultSpeed(this.player);!this._isSegmentDrive&&(n=this._loopAbr(a)),this.start(),this._changeLoopInterval(),this.logger("time start progress",new Date().getTime()),this.logger("time costTime",performance.now()-this.startTime)}}catch(n){this.logger("decision error",n),this.logger("time costTime err",performance.now()-this.startTime)}return n}},{key:"_changeLoopInterval",value:function(){var n=this;this.startTimer&&(clearTimeout(this.startTimer),this.startTimer=null),this.startTimer=setTimeout(function(){n._loopInterval=n.interval,n.startTimer&&clearTimeout(n.startTimer),n.logger("interval change")},5e3)}},{key:"_loop",value:function(){var n=this;if(!this._isPaused&&!this._isSegmentDrive)clearTimeout(this.timerId),this.timerId=setTimeout(function(){var i,a=n.player,o=n.config;if(n._hasStart&&null!==(i=o.autoBitrateOpts)&&void 0!==i&&i.stillRunWhenPaused||!a.paused||!a.config.autoplay&&!n._hasStart){var s=n._hasAddFragment?void 0:n._getDefaultSpeed(a);n._loopAbr(s)}n._loop()},this._loopInterval)}},{key:"checkRestart",value:function(){var n;null!==(n=this.config.autoBitrateOpts)&&void 0!==n&&n.autoRestartAbr&&this._currentInAbr&&this._isPaused&&this.start()}},{key:"updateDeviceInfo",value:function(){try{if(this.fpsDetection){var n=this.fpsDetection.fps;n!==this._fps&&(this._fps=n,this._hasDeviceInfoChanged=!0)}this._updateDeviceInfo(this._fps)}catch(n){}}},{key:"updateBufferInfo",value:function(n){var i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=this.player.playbackRate,u=this.bufferLength;s>0&&this.player&&(u=s-this.player.video.currentTime);var d=n||Math.floor(this.player.downloadSpeed);this._tickCount<5&&0===d&&(d=this._getDefaultSpeed(this.player),this.logger("initSpeed fix"));var l=-1===this._maxBitrate?this._defaultMaxBitrate:this._maxBitrate;return this.logger("downloadSpeed:",d,"buffer:",u,"maxCacheTimeAudio:",this._maxCacheTimeAudio,"maxCacheVideoTime",this._maxCacheTimeVideo,"seekState",this._seekState,"stallState",this._stallState,"segmentBufferStart",o,"segmentBufferEnd",s),null===(i=this.module)||void 0===i||i._updateBufferInfo(c,this._maxCacheTimeAudio,this._maxCacheTimeVideo,u,this._isSegmentDrive?s:u,d,this._seekState,null===(a=this.player)||void 0===a?void 0:a.currentTime,this._stallState,l),this._seekState=0,this._eventInfo={internet_speed:d,buffer_length:u,last_bitrate:this.bitrate,play_speed:c},this.logger("playRate:",c,"buff:",u,"downloadSpeed:",d),{buffer:u,downloadSpeed:d}}},{key:"updateSwitchInfo",value:function(){var n,i,a=new Date().getTime();this._openTimeMs=a,this._abr_play_info.start_play_time_ms=a;var o=(null===(n=this.player)||void 0===n?void 0:n.config.preloadTime)||50,s=(0,u.C)(a),c=this.autoBitrateOpts.noStallCheckTime||5,d=this.openLog;this.logger("openTime:",a,"this.logger",d),null===(i=this.module)||void 0===i||i._updateSwitchInfo(s.low,s.high,c,d,this.stall_penalty,this.switch_penalty);var l=this._mediaList.video,f=l.map(function(n){var i=n.bandwidth,a=n.bitrate;return i||a});this._bitrateSet=f.map(function(n,i){return{bitrate:n,codecs:l[i].codecs||l[i].codec_type||""}}),this._generalInfo={max_cache_time:o,bitrate_set:this._bitrateSet,segment_duration:this.segment_duration,preload_info:{},startup_info:{}}}},{key:"updatePreloadCacheInfo",value:function(n){try{this._preloadInfo=n,this.logger("update preloadInfo",n),n&&n.item_num!==n.items.length&&(this.logger("preloadInfo invalid"),this._preloadInfo=null)}catch(n){this.logger("updatePreloadCacheInfo",n),this._preloadInfo=null}}},{key:"updatePreloadLogInfo",value:function(n){this._generalInfo.preload_info=n||{}}},{key:"_loopAbr",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._tickCount++;var c=-1,u=[];if(!this.module||!this.player)return this.bitrate;try{var d=new Date().getTime(),l=this.player;this.updateDeviceInfo();var f=this.updateBufferInfo(n,i,a),h=f.downloadSpeed,p=f.buffer;if(this.module.updateDropFrame&&l.video.getVideoPlaybackQuality){var v,g,y=l.video.getVideoPlaybackQuality(),m=y.droppedVideoFrames,_=y.totalVideoFrames;null===(g=this.module)||void 0===g||g.updateDropFrame(m/_)}c=this.module._getPredictedBitrate(this.bitrate,this._abrMethod);for(var b=0;b<7;b++)u.push(this.module.HEAP32[c/Int32Array.BYTES_PER_ELEMENT+b]);var A=u[0],w=1===u[1];this._eventInfo.now_bitrate=A,this._eventInfo.local_time_ms=new Date().getTime();var k=0;if(A!==this.bitrate&&0!==A||this.autoBitrateOpts.reportVerboseAbrLog){var E=this.player.currentTime;if(this.module.getStat){var x=this.module.getStat();l.emit("ABR_STAT",(0,s.Zj)((0,s.Zj)({v_time:E,diff_current_position:-1===this._prevCurrentTime?0:E-this._prevCurrentTime,net_speed:8*h,costTime:new Date().getTime()-d,download_time:null==o?void 0:o.costTime},x),{},{gop_size:null==o?void 0:o.gopSize,audio_buffer:null==o?void 0:o.audioBuffer})),this._abrChangeTimeMap[x.download_position]=1}this._prevCurrentTime=E}if(A!==this.bitrate&&0!==A){var S=this.bitrate;k=Math.abs(S-A);for(var T=[],I=(l.media||l.video).buffered,R=0;R<I.length;R++)T.push({start:I.start(R),end:I.end(R)});var C=this._videoWidth||Number(this.config.width),D=this._videoHeight||Number(this.config.height),O=new Date().getTime(),B={speed:"".concat(h," KB/s"),buffer_length:"".concat(p," s"),video_pos:l.currentTime,all_buffers:T,seek_state:this._seekState,stall_state:this._stallState,screen_width:C,screen_height:D,dpr:window&&window.devicePixelRatio,playbackRate:l.playbackRate,bitrateSet:this._bitrateSet,abrMethod:this._abrMethod,delta:this._hasExecuteAbrAlgo?O-this._lastExecuteTimeInMs:0};this._lastExecuteTimeInMs=O,this._hasExecuteAbrAlgo=!0,this.logger("abr predicate: ".concat(A,", prevBitrate: ").concat(S,","),"willStall: ".concat(w,", switchBitrate: ").concat(k)),this.updateBitrate(A),l.emit("ABR_CHANGE_A",S,A,w,JSON.stringify(B))}!this._hasLogStartInfo&&(this._hasLogStartInfo=!0,this._generalInfo.startup_info={predict_bitrate:A,download_speed:h,screen_width:this._videoWidth||Number(this.config.width),screen_height:this._videoHeight||Number(this.config.height),device_pixel_ratio:window&&window.devicePixelRatio,screen_fps:this._fps,startup_method:this._abrMethod}),null===(v=this.player)||void 0===v||v.emit("ABR_LOOP"),this.onAbrLoop(h,u[2],k,u.slice(3))}catch(n){this.logger("abr error",n)}finally{c>-1&&this.module._free(c)}return this.bitrate}},{key:"destroy",value:function(){var n,i=this;this.stop(),this.listeners.forEach(function(n){var a,o=n.evt,s=n.handler;null===(a=i.player)||void 0===a||a.off(o,s)}),this._maxBitrate=-1,this.player=null,this._heightToDefinitionConfig=null,this._bitrateToDefinitionConfig=null,this._bitrateToDefinitionConfig=null,this._bufferRange.clear(),this._sortedBufferRange=[],this.module=null,clearTimeout(this._stallId),clearTimeout(this._updateId),this.startTimer&&clearTimeout(this.startTimer),window.removeEventListener("resize",this._onWinSizeChange),null===(n=this.fpsDetection)||void 0===n||n.stop()}},{key:"eventInfo",get:function(){return this._eventInfo}},{key:"generalInfo",get:function(){return this._generalInfo}},{key:"bufferLength",get:function(){var n,i,a=(null===(n=this.player)||void 0===n?void 0:n.getBufferedRange())||[],o=((null===(i=this.player)||void 0===i?void 0:i.video)||{currentTime:0}).currentTime;return parseFloat(Math.max(0,a[1]-Math.max(a[0],o)).toFixed(2))}},{key:"downloadSpeed",get:function(){return Math.floor(this.player.downloadSpeed)}},{key:"nowBitrate",get:function(){return this.bitrate}},{key:"openTimeMs",get:function(){return this._openTimeMs}},{key:"isCurrentInAbr",get:function(){return this._currentInAbr},set:function(n){this._currentInAbr=n}},{key:"onAbrLoop",value:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(this._qoeArgs=s,this._currentItem&&this.avgStat(f.PLAYBACK_BITRATE,this._currentItem.bitrate),this.avgStat(f.DOWNLOAD_NETWORK_SPEED,8e3*n),this.avgStat(f.PREDICT_NETWORK_SPEED,a),this.avgStat(f.BUFFER_LENGTH,this.bufferLength),this.avgStat(f.QOE,this.getQoeRelValue(0)),o>0&&(this._switchCount++,this._switchBitrate+=o),!!this._abr_play_info.is_hint){var c=(new Date().getTime()-this.openTimeMs)/1e3;c=parseFloat(c.toFixed(2)),this._abr_play_info.playback_info.internet_speed_record.push([c,this.downloadSpeed]),this._abr_play_info.playback_info.play_bitrate_record.push([c,this.nowBitrate]),this._abr_play_info.playback_info.buffer_length_record.push([c,this.bufferLength]),this._abr_play_info.playback_info.play_speed_record.push([c,(null===(i=this.player)||void 0===i?void 0:i.playbackRate)||-1]),this._abr_play_info.playback_info.qoe_record.push([c,this.getQoeRelValue(0)]),this._abr_play_info.playback_info.qoe_a_record.push([c,this.getQoeRelValue(1)]),this._abr_play_info.playback_info.qoe_b_record.push([c,this.getQoeRelValue(2)]),this._abr_play_info.playback_info.qoe_c_record.push([c,this.getQoeRelValue(3)])}}},{key:"getQoeRelValue",value:function(n){return this._qoeArgs[n]/100}},{key:"avgStat",value:function(n,i){var a=this._avgStatItems[n];a&&a.add(i)}},{key:"getAbrPlayInfo",value:function(){return this._abr_play_info}},{key:"updateAbrMethod",value:function(n){this._abrMethod=n}},{key:"getAbrMethod",value:function(){return this._abrMethod}},{key:"updateSegmentDuration",value:function(n){var i;this.segment_duration=n,null!==(i=this.module)&&void 0!==i&&i.updateSegmentDuration&&this.module.updateSegmentDuration(n)}},{key:"getAbrVVStats",value:function(){for(var n={},i=Object.keys(f),a=0;a<i.length;a++){var o=f[i[a]],s=this._avgStatItems[o];n[o]=s.avg()}return n.switch_counts=this._switchCount,n.avg_switch_bitrate=0===this._switchCount?0:this._switchBitrate/this._switchCount,n.abr_qoe=this.getQoeRelValue(0),n.abr_qoe_a=this.getQoeRelValue(1),n.abr_qoe_b=this.getQoeRelValue(2),n.abr_qoe_c=this.getQoeRelValue(3),n.abr_method=this._abrMethod,n.abr_used=this._abrUsed,n.abr_always_on=this._abrAlwaysOn,this.logger("abrVVStats",n),n}}])}(u.Z),p=(0,s.qH)(function n(){(0,s.PA)(this,n),this.total=0,this.count=0},[{key:"add",value:function(n){this.total+=n,this.count++}},{key:"avg",value:function(){return 0===this.count?0:Math.floor(this.total/this.count)}}])},911930:function(n,i,a){"use strict";a.d(i,{N:function(){return c}});var o=a(119846);a(514312),a(561999),a(121621),a(904644),a(969642),a(577829),a(724356),a(947478),a(864614),a(617192),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673);var s={buffer:60,bbaControl:!1,bbaControl_2:!1,highLevel:15,lowLevel:7,bolaControl:!1,abrAgloType:0,hurryBuffer:-1,dangerBuffer:-1,safeBuffer:-1,safeThreshold:-1,safeFactor:.9,dangerFactor:.8,minSafeFactor:.7,minDangerFactor:.4,safeFactorChange:.05,dangerFactorChange:.1,rebufferDegrade:0,safeUpgrade:0,safeRebufferDegrade:0,hurryForseLowest:0,maxPlaySpeed:1},c=(0,o.qH)(function n(i){(0,o.PA)(this,n),this._playInfo={playbackRate:1,maxCacheTimeAudio:0,maxCacheTimeVideo:0,buffer:0,downloadSpeed:0,seekState:0,currentTime:0,stallState:0,segmentBufferEnd:0},this._sortedMediaInfos={v_adaptation:[]},this.HEAP32=new Int32Array(7),this._debugMode=!1,this._currentBitrateIdx=-1,this._lastpredictTime=0,this._algoArg={buffer:60,bbaControl:!1,highLevel:15,lowLevel:7,bolaControl:!0,limitFirstUpSwitch:-1,limitFirstDownSwitch:-1,limitUpSwitchAfterUpSwitch:-1,limitUpSwitchAfterDownSwitch:-1,minUpSwitchPosition:-1,minDownSwitchPosition:-1,maxUpSwitchCount:-1,maxDownSwitchCount:-1,maxSwitchCount:-1,maxUpSwitchLevel:-1,maxDownSwitchLevel:-1,downSwitchType:-1,debugMode:0,debug_mode_3_interval:3,debug_mode_4_interval:10,libra_abr_version:0,max_debug_mode_2_change:0,abrAgloType:0,hurryBuffer:-1,dangerBuffer:-1,safeBuffer:-1,safeThreshold:-1,safeFactor:.9,dangerFactor:.8,minSafeFactor:.7,minDangerFactor:.4,safeFactorChange:.05,dangerFactorChange:.1,rebufferDegrade:0,safeUpgrade:0,safeRebufferDegrade:0,hurryForseLowest:0,maxPlaySpeed:1},this._seekState=0,this._isSeekedPredict=!1,this._stat={buffer:0,target_birate:0,b_seek:!1,is_upper:!1,bitrate_list:"",video_quality_list:"",num_abr_call:0,download_position:-1,calc_bitrate:-1,change_level:-1,last_level:-1,target_level:-1,last_bitrate:-1,diff_download_position:-1,diff_buffer:-1,abr_time:-1,diff_abr_time:-1,hit_limitbitrate:0,dangerFactor:-1,safeFactor:-1,abrDownloadSpeed:0},this.numAbrCall=0,this.upSwitchCount=0,this.downSwitchCount=0,this.lastUpSwitch=-1,this.lastDownSwitch=-1,this.downloadPosition=-1,this.gopSize=-1,this._cacheBitrate=-1,this._prevDownloadPosition=-1,this._prevBuffer=-1,this._prevCurrentPosition=-1,this._abrStartTime=0,this._prevAbrStartTime=0,this._firstLevelIdx=0,this._dropFrameCount=0,this._currentDropFrameRate=0,this._maxBitrate=-1,this._isCurrentSafeBuffer=!1,this._hasSafeRebufferDegrade=!1,this._config=i,this._algoArg=Object.assign({},s,i.algoArg),this.onRuntimeInitialized(),this._dangerFactor=this._algoArg.dangerFactor,this._safeFactor=this._algoArg.safeFactor,this._maxSafeFactor=this._safeFactor,this._maxDangerFactor=this._dangerFactor},[{key:"onRuntimeInitialized",value:function(){this._config.promise.resolve()}},{key:"_setDebugModel",value:function(n){this._debugMode=n}},{key:"_logger",value:function(){if(this._debugMode){for(var n,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];console&&(n=console).log.apply(n,["SAlgo"].concat(a))}}},{key:"_getPreloadBitrate",value:function(n){return null}},{key:"_updateDeviceInfo",value:function(n,i,a,o){this._videoHeight=i,this._videoWidth=n,this._devicePixelRatio=a,this._fps=o}},{key:"_updateSeekInfo",value:function(n){this._seekState=n,this._isSeekedPredict=!0}},{key:"_updateBufferInfo",value:function(n,i,a,o,s,c,u,d,l){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1;this._playInfo={playbackRate:n,maxCacheTimeAudio:i,maxCacheTimeVideo:a,buffer:o,downloadSpeed:c,seekState:u,currentTime:d,stallState:l,segmentBufferEnd:s},this._maxBitrate=f}},{key:"updateDropFrame",value:function(n){this._currentDropFrameRate=n}},{key:"_updateSwitchInfo",value:function(n,i,a,o,s,c){}},{key:"_getPredictedBitrate",value:function(){var n=0,i=this._getMethodName();if(!i)return this.HEAP32[n]=-1,this._logger("abr method not found"),n;if(-1===this._currentBitrateIdx){this._logger("getPredictedBitrate _cacheBitrate",this._cacheBitrate);for(var a=this._sortedMediaInfos.v_adaptation,o=0;o<a.length;o++)if(a[o].bandwidth===this._cacheBitrate){this._currentBitrateIdx=o,this._firstLevelIdx=o;break}}-1===this._currentBitrateIdx&&(this._currentBitrateIdx=0,this._firstLevelIdx=0,this._logger("getPredictedBitrate fix idx")),0===this._abrStartTime&&(this._abrStartTime=performance.now());var s=this._algoArg,c=s.bbaControl,u=s.bbaControl_2,d=s.libra_abr_version,l=s.bolaControl;if(c||u&&1>=d||l){var f=this[i]().predictedBitrate;this.HEAP32[n]=f}else this.HEAP32[n]=0;return n++,this.HEAP32[n]=0,n++,this.HEAP32[n]=0,0}},{key:"_getMethodName",value:function(){var n="";return(this._algoArg.bbaControl||this._algoArg.bbaControl_2)&&(n="_getBitrateBBA"),this._algoArg.bolaControl&&(n="_getBitrateBOLA"),n}},{key:"_getBitrateBOLA",value:function(){return{predictedBitrate:0,predictSpeed:0}}},{key:"_doBufferControl",value:function(n,i){var a=this._algoArg,o=a.highLevel,s=a.lowLevel,c=-1;if(n>=o)this._currentBitrateIdx=i.length-1,c=i[this._currentBitrateIdx].bandwidth;else if(n<=s)this._currentBitrateIdx=0,c=i[this._currentBitrateIdx].bandwidth;else{var u=i[i.length-1].bandwidth-i[0].bandwidth,d=u/(o-s)*(n-s)+i[0].bandwidth;c=d;for(var l=i.length-1;l>-1;l--)if(d>=i[l].bandwidth){this._currentBitrateIdx=l;break}d>=i[i.length-1].bandwidth?this._currentBitrateIdx=i.length-1:d<=i[0].bandwidth&&(this._currentBitrateIdx=0),this._logger("bola mid",this._currentBitrateIdx,d,"chose",i[this._currentBitrateIdx].bandwidth)}return{calc_bitrate:c}}},{key:"_getCalcPlayrate",value:function(){return Math.min(Math.max(this._playInfo.playbackRate,1),this._algoArg.maxPlaySpeed)}},{key:"_filterIndexByBitrate",value:function(n,i){n/=this._getCalcPlayrate();var a=!1,o=0;if(n>i[i.length-1].bandwidth)o=i.length-1;else{for(var s=0;s<i.length;s++)if(i[s].bandwidth>=n){a=!0,(o=s)>0&&(o-=1);break}!a&&(o=0)}return this._logger("filterIndexByBitrate",o,"hasFound",a),o}},{key:"_doSpeedBufferControl",value:function(n,i){var a=-1,o=this._playInfo.downloadSpeed,s=this._algoArg,c=s.hurryBuffer,u=s.dangerBuffer,d=s.safeBuffer,l=s.safeThreshold,f=s.hurryForseLowest,h=s.safeUpgrade,p=s.dangerFactorChange,v=s.safeFactorChange,g=this._currentBitrateIdx;if(this._isCurrentSafeBuffer=!1,0===o)a=-1,this._currentBitrateIdx=Math.min(g,this._firstLevelIdx),this._logger("SpeedBuffer 网速为0, firstLevel",this._firstLevelIdx,"prev",g);else{var y=o*this._dangerFactor*8e3,m=o*this._safeFactor*8e3;if(n<c){if(a=y,0!==f)this._currentBitrateIdx=0;else{var _=this._filterIndexByBitrate(a,i);this._currentBitrateIdx=Math.max(0,Math.min(_-1,g))}}else if(c<=n&&n<u){a=y;var b=this._filterIndexByBitrate(a,i);this._currentBitrateIdx=Math.min(b,g)}else u<=n&&n<d?(a=m,this._currentBitrateIdx=this._filterIndexByBitrate(a,i)):d<=n&&(this._isCurrentSafeBuffer=!0,a=this._hasSafeRebufferDegrade?m:m*(1+(n-l)/this.gopSize),this._currentBitrateIdx=this._filterIndexByBitrate(a,i),h&&(this._dangerFactor+=p,this._safeFactor+=v),this._dangerFactor>this._maxDangerFactor&&(this._dangerFactor=this._maxDangerFactor),this._safeFactor>this._maxSafeFactor&&(this._safeFactor=this._maxSafeFactor))}return{calc_bitrate:a}}},{key:"_doLimitControl",value:function(n,i,a,o){var s=this._algoArg,c=s.limitFirstUpSwitch,u=s.limitFirstDownSwitch,d=s.minUpSwitchPosition,l=s.minDownSwitchPosition,f=s.maxUpSwitchLevel,h=s.maxDownSwitchLevel,p=s.maxUpSwitchCount,v=s.maxDownSwitchCount,g=s.maxSwitchCount,y=s.limitUpSwitchAfterUpSwitch,m=s.limitUpSwitchAfterDownSwitch,_=s.downSwitchType,b=s.debugMode,A=this._currentBitrateIdx>n,w=this._currentBitrateIdx<n;if(c>0&&this.numAbrCall<c&&A&&(this._currentBitrateIdx=n,this._logger("限制前".concat(c,"次上切, callTimes"),this.numAbrCall)),u>0&&this.numAbrCall<u&&w&&(this._currentBitrateIdx=n,this._logger("限制前".concat(u,"次下切, callTimes"),this.numAbrCall)),A&&d>=0&&this.downloadPosition>0&&this.downloadPosition<d&&(this._currentBitrateIdx=n,this._logger("限制minUp切换位置, minUpSwitchPosition",d,"downloadPos",this.downloadPosition)),w&&l>=0&&this.downloadPosition>0&&this.downloadPosition<l&&(this._currentBitrateIdx=n,this._logger("限制minDown切换位置, minDownSwitchPosition",l,"downloadPos",this.downloadPosition)),f>=0&&this._currentBitrateIdx-n>f&&(this._currentBitrateIdx=n+f,this._logger("限制上切幅度, maxUpSwitchLevel",f)),h>=0&&n-this._currentBitrateIdx>h&&(this._currentBitrateIdx=n-h,this._logger("限制下切幅度, maxDownSwitchLevel",h)),p>=0&&this.upSwitchCount>=p&&A&&(this._currentBitrateIdx=n,this._logger("限制上切切换次数, maxUpSwitchCount",p)),v>=0&&this.downSwitchCount>=v&&w&&(this._currentBitrateIdx=n,this._logger("限制下切切换次数, maxDownSwitchCount",v)),g>=0&&this.upSwitchCount+this.downSwitchCount>=g&&(this._currentBitrateIdx=n,this._logger("限制总切换次数, maxSwitchCount",g)),A&&(y>=0&&this.lastDownSwitch>=0&&this.numAbrCall-this.lastDownSwitch<=y&&(this._currentBitrateIdx=n,this._logger("限制上切后上切")),m>=0&&this.lastDownSwitch>=0&&this.numAbrCall-this.lastDownSwitch<=m&&(this._currentBitrateIdx=n,this._logger("下切后上切"))),this._currentBitrateIdx==n-1){var k=a[n].bandwidth;1==_?k=(a[n].bandwidth+a[n-1].bandwidth)/2:2==_&&(k=a[n-1].bandwidth),this._logger("下切灵敏度调节, downSwitchThreshold",k,"downSwitchType",_,"calc_bitrate",i),i>k&&(this._currentBitrateIdx=n)}var E=!1;if(this._maxBitrate>0&&a[this._currentBitrateIdx].bandwidth>=this._maxBitrate&&(this._currentBitrateIdx=o.length-1,E=!0),b>0&&!E&&(1==b||2==b||3==b||4==b)&&o.length>=2){var x=this._algoArg,S=x.max_debug_mode_2_change,T=x.debug_mode_3_interval,I=x.debug_mode_4_interval;if(this._firstLevelIdx>0){if((1==b||2==b||3==b)&&((1==b||2==b)&&(this._currentBitrateIdx=this._firstLevelIdx-(this.numAbrCall+1)%2),3==b&&1==(this.numAbrCall+1)%T&&(this._currentBitrateIdx=this._currentBitrateIdx===this._firstLevelIdx?this._firstLevelIdx-1:this._firstLevelIdx)),4==b){var R=(this.numAbrCall+I)%I;(0===R||1===R)&&(this._currentBitrateIdx=this._firstLevelIdx-(1-R))}}else this._currentBitrateIdx=0;this.numAbrCall>=S&&2==b&&(this._currentBitrateIdx=n)}return{hitLimitBitrate:E}}},{key:"_doReport",value:function(n,i,a,o,s,c,u,d){var l=-1===this._prevBuffer?-1:n-this._prevBuffer;this._prevBuffer=n,this._playInfo.segmentBufferEnd>0?this.downloadPosition=this._playInfo.segmentBufferEnd:this.downloadPosition=this.gopSize>0?this.gopSize:-1;var f=this.downloadPosition-this._prevDownloadPosition;-1===this._prevDownloadPosition&&(f=-1e4),this._prevDownloadPosition=this.downloadPosition,this._stat={buffer:n,target_birate:o,b_seek:this._isSeekedPredict,is_upper:s<this._currentBitrateIdx,bitrate_list:JSON.stringify(a.map(function(n){return n.bandwidth})),video_quality_list:JSON.stringify(a.map(function(n){return n.definition})),num_abr_call:this.numAbrCall,calc_bitrate:c,change_level:Math.abs(this._currentBitrateIdx-s),last_level:s,target_level:this._currentBitrateIdx,last_bitrate:i[s].bandwidth,download_position:this.downloadPosition,diff_download_position:f,diff_buffer:l,abr_time:0===this._prevAbrStartTime?0:(d-this._abrStartTime)/1e3,diff_abr_time:0===this._prevAbrStartTime?0:(d-this._prevAbrStartTime)/1e3,hit_limitbitrate:u?1:0,dangerFactor:this._dangerFactor,safeFactor:this._safeFactor,abrDownloadSpeed:8e3*this._playInfo.downloadSpeed},this._prevAbrStartTime=d,this._isSeekedPredict=!1,s<this._currentBitrateIdx&&(this.lastUpSwitch=this.numAbrCall,this.upSwitchCount++),s>this._currentBitrateIdx&&(this.lastDownSwitch=this.numAbrCall,this.downSwitchCount++),this.numAbrCall++}},{key:"_getBitrateBBA",value:function(){var n=this,i=0,a=0,o=this._algoArg.abrAgloType,s=performance.now(),c=this._playInfo.buffer,u=this._sortedMediaInfos.v_adaptation,d=this._sortedMediaInfos.v_adaptation.filter(function(i){return!(n._maxBitrate>0)||i.bandwidth<=n._maxBitrate});this._logger("mediaBuffer",c);var l=this._currentBitrateIdx,f=-1;1===o&&(f=this._doSpeedBufferControl(c,d).calc_bitrate),0===o&&(f=this._doBufferControl(c,d).calc_bitrate);var h=this._doLimitControl(l,f,u,d).hitLimitBitrate;return i=d[this._currentBitrateIdx].bandwidth,a=0,this._doReport(c,u,d,i,l,f,h,s),{predictedBitrate:i,predictSpeed:a}}},{key:"_free",value:function(){}},{key:"ccall",value:function(n,i,a,o){this["_"+n](o)}},{key:"_parseMPD",value:function(){var n=JSON.parse(arguments.length<=0?void 0:arguments[0]);this._sortedMediaInfos=n,this._sortedMediaInfos.v_adaptation.sort(function(n,i){return n.bandwidth-i.bandwidth}),this._logger("MPD",this._sortedMediaInfos)}},{key:"updateSegmentDuration",value:function(n){this.gopSize=n}},{key:"updateBitrate",value:function(n){this._cacheBitrate=n}},{key:"getStat",value:function(){return this._stat}},{key:"updateWaitingState",value:function(n){if(n){var i=this._algoArg,a=i.minDangerFactor,o=i.dangerFactorChange,s=i.safeRebufferDegrade,c=i.safeFactorChange,u=i.minSafeFactor;i.rebufferDegrade&&(this._dangerFactor-=o,this._dangerFactor<=a&&(this._dangerFactor=a),this._safeFactor-=c,this._safeFactor<=u&&(this._safeFactor=u)),this._isCurrentSafeBuffer&&0!==s&&(this._hasSafeRebufferDegrade=!0)}}}])},127126:function(n,i,a){"use strict";a.d(i,{$:function(){return s}});var o=a(989798);a(379493),a(724356),a(864614),a(210434);var s=(0,o.qH)(function n(i){(0,o.PA)(this,n),this._queue=[],this._current={},this.setConfig(i)},[{key:"setConfig",value:function(n){this._config=Object.assign({},n)}},{key:"setCurrent",value:function(n){Object.assign(this._current,n)}},{key:"getCurrent",value:function(){return this._current}},{key:"resetCurrent",value:function(){this._current={}}},{key:"calcAndReset",value:function(){var n=this._current,i=n.startBufferTime,a=n.duration,o=n.endBufferTime,s=n.leaveWithBlock,c=n.stalledTime,u=n.pausedTime,d=n.downloadDuration,l=n.bitrate;if(!a||!l||!o){this.resetCurrent();return}var f=this._config,h=f.paramBf,p=f.paramBp,v=f.paramUpperBl,g=f.paramUpper,y=f.slidingWindowWeight,m=f.slidingWindowType,_=f.slidingWindowWeightThreshold,b=f.slidingWindowCountThreshold,A=1+((o-i)*h-(c+u)*p)/d;s&&(A=Math.min(A,v));var w=l*Math.max(g,A),k=0;if(k="time"===y?Math.min(d,a+c):Math.min(d,a)*l,this._queue.push([w,k,this._current]),"by_weight"===m){this._queue=this._queue.slice(-30);for(var E=this._queue.reduce(function(n,i){return n+i[1]},0)-_;E>0;){var x=this._queue.shift();if(!x)break;if(x[1]>E){x[1]-=E,this._queue.unshift(x);break}E-=x[1]}}else this._queue=this._queue.slice(-b);this.resetCurrent()}},{key:"getDefaultBitrate",value:function(n){if(!n||0===n.length)return 0;for(var i=this._config.defaultTargetBitrate||1e6,a=0,o=0;o<n.length;o++)n[o]._xgOrgBitrate<=i&&n[o]._xgOrgBitrate>=a&&(a=n[o]._xgOrgBitrate);return!a&&(a=n[n.length-1]._xgOrgBitrate),a}},{key:"getTargetBitrate",value:function(n){if(!this._queue.length||!n)return 0;var i=this._config,a=i.paramVlLower,o=i.paramVlUpper,s=i.paramVl1,c=i.paramVl2,u=i.bitrateLower,d=i.bitrateUpper,l=i.slidingWindowExtraction,f=0,h=this._queue.reduce(function(n,i){return n+i[1]},0);if("weighted_median"===l){var p=h/2,v=1/0,g=0;this._queue.forEach(function(n){(g=Math.abs(p-n[1]))<v&&(f=n[0],v=g)})}else f=this._queue.reduce(function(n,i){return n+i[1]/h*i[0]},0);return Math.max(u,Math.min(d,f*Math.min(o,Math.max(a,s+c/n))))}}])},438412:function(n,i,a){"use strict";a.d(i,{d:function(){return c}});var o=a(989798),s=a(194235),c=(0,o.qH)(function n(){(0,o.PA)(this,n)},[{key:"select",value:function(n,i,a){if(n.length<=1)return n[0];var o,c=a.autoBitrateParams,u=c.paramA,d=c.paramB,l=c.paramC,f=c.paramD,h=a.defaultBitrate,p=-1===i?h:u*Math.pow(i,3)+d*Math.pow(i,2)+l*i+f;return!(o=(0,s.v2)(n,p,a.selectAlgType))&&(o=n[n.length-1]),o._targetBitrate=p,o}}])},194235:function(n,i,a){"use strict";function o(n){return Object.prototype.toString.call(n).match(/([^\s.*]+)(?=]$)/g)[0]}function s(n,i){var a=[];return n.forEach(function(n){(!n.mediaType||n.mediaType===i)&&a.push(n)}),a}a.d(i,{QS:function(){return u},VX:function(){return s},kM:function(){return o},v2:function(){return c}}),a(514312),a(864614),a(227470),a(238658),a(999921),a(210434);function c(n,i,a){return a?1===a?function(n,i){if(!n)return null;for(var a=-1,o=0;o<n.length;o++)if(n[o]&&n[o]._xgOrgBitrate&&i>=n[o]._xgOrgBitrate){a=o;break}return a<0?null:n[a]}(n,i):void 0:function(n,i){if(!n)return null;var a,o=1/0;return(n.forEach(function(n){var s=Math.abs(n._xgOrgBitrate-i);o>s&&(a=n,o=s)}),a)?a:null}(n,i)}function u(n,i){return n.forEach(function(n){n[i]?n._xgOrgBitrate=n[i]:n.bitrate&&(n._xgOrgBitrate=n.bitrate)}),n}},673295:function(n,i,a){"use strict";a.d(i,{Ac:function(){return u},Kd:function(){return _},Lc:function(){return b},PA:function(){return f},WY:function(){return A},XW:function(){return g},ZQ:function(){return w},Zj:function(){return s},_x:function(){return v},l5:function(){return c},qH:function(){return p},sf:function(){return S},u:function(){return k},x:function(){return l}});function o(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function s(n){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(i){v(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function c(){c=function(){return n};var n={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(n,i,a){n[i]=a.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(n,i,a){return Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{f({},"")}catch(n){f=function(n,i,a){return n[i]=a}}function h(n,i,a,s){var c=Object.create((i&&i.prototype instanceof g?i:g).prototype);return o(c,"_invoke",{value:function(n,i,a){var o="suspendedStart";return function(s,c){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===s)throw c;return R()}for(a.method=s,a.arg=c;;){var u=a.delegate;if(u){var d=function n(i,a){var o=a.method,s=i.iterator[o];if(void 0===s)return a.delegate=null,"throw"===o&&i.iterator.return&&(a.method="return",a.arg=void 0,n(i,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var c=p(s,i.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,v;var u=c.arg;return u?u.done?(a[i.resultName]=u.value,a.next=i.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,v):u:(a.method="throw",a.arg=TypeError("iterator result is not an object"),a.delegate=null,v)}(u,a);if(d){if(d===v)continue;return d}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=p(n,i,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(n,a,new T(s||[]))}),c}function p(n,i,a){try{return{type:"normal",arg:n.call(i,a)}}catch(n){return{type:"throw",arg:n}}}n.wrap=h;var v={};function g(){}function y(){}function m(){}var _={};f(_,u,function(){return this});var b=Object.getPrototypeOf,A=b&&b(b(I([])));A&&A!==i&&a.call(A,u)&&(_=A);var w=m.prototype=g.prototype=Object.create(_);function k(n){["next","throw","return"].forEach(function(i){f(n,i,function(n){return this._invoke(i,n)})})}function E(n,i){var s;o(this,"_invoke",{value:function(o,c){function u(){return new i(function(s,u){!function o(s,c,u,d){var l=p(n[s],n,c);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"==typeof h&&a.call(h,"__await")?i.resolve(h.__await).then(function(n){o("next",n,u,d)},function(n){o("throw",n,u,d)}):i.resolve(h).then(function(n){f.value=n,u(f)},function(n){return o("throw",n,u,d)})}d(l.arg)}(o,c,s,u)})}return s=s?s.then(u,u):u()}})}function x(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function S(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function T(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function I(n){if(n){var i=n[u];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,s=function i(){for(;++o<n.length;)if(a.call(n,o))return i.value=n[o],i.done=!1,i;return i.value=void 0,i.done=!0,i};return s.next=s}}return{next:R}}function R(){return{value:void 0,done:!0}}return y.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:y,configurable:!0}),y.displayName=f(m,l,"GeneratorFunction"),n.isGeneratorFunction=function(n){var i="function"==typeof n&&n.constructor;return!!i&&(i===y||"GeneratorFunction"===(i.displayName||i.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,f(n,l,"GeneratorFunction")),n.prototype=Object.create(w),n},n.awrap=function(n){return{__await:n}},k(E.prototype),f(E.prototype,d,function(){return this}),n.AsyncIterator=E,n.async=function(i,a,o,s,c){void 0===c&&(c=Promise);var u=new E(h(i,a,o,s),c);return n.isGeneratorFunction(a)?u:u.next().then(function(n){return n.done?n.value:u.next()})},k(w),f(w,l,"Generator"),f(w,u,function(){return this}),f(w,"toString",function(){return"[object Generator]"}),n.keys=function(n){var i=Object(n),a=[];for(var o in i)a.push(o);return a.reverse(),function n(){for(;a.length;){var o=a.pop();if(o in i)return n.value=o,n.done=!1,n}return n.done=!0,n}},n.values=I,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!n)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function o(a,o){return u.type="throw",u.arg=n,i.next=a,o&&(i.method="next",i.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s],u=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var d=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(d&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(d){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(n,i){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var c=s;break}}c&&("break"===n||"continue"===n)&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=n,u.arg=i,c?(this.method="next",this.next=c.finallyLoc,v):this.complete(u)},complete:function(n,i){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&i&&(this.next=i),v},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===n)return this.complete(a.completion,a.afterLoc),S(a),v}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===n){var o=a.completion;if("throw"===o.type){var s=o.arg;S(a)}return s}}throw Error("illegal catch attempt")},delegateYield:function(n,i,a){return this.delegate={iterator:I(n),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=void 0),v}},n}function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function d(n,i,a,o,s,c,u){try{var d=n[c](u),l=d.value}catch(n){a(n);return}d.done?i(l):Promise.resolve(l).then(o,s)}function l(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var c=n.apply(i,a);function u(n){d(c,o,s,u,l,"next",n)}function l(n){d(c,o,s,u,l,"throw",n)}u(void 0)})}}function f(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function h(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,T(o.key),o)}}function p(n,i,a){return i&&h(n.prototype,i),a&&h(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function v(n,i,a){return(i=T(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function g(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&m(n,i)}function y(n){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function m(n,i){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}function _(n,i){if(null==n)return{};var a,o,s=function(n,i){if(null==n)return{};var a,o,s={},c=Object.keys(n);for(o=0;o<c.length;o++)a=c[o],!(i.indexOf(a)>=0)&&(s[a]=n[a]);return s}(n,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++){if(a=c[o],!(i.indexOf(a)>=0))Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}}return s}function b(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function A(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var a,o=y(n);return a=i?Reflect.construct(o,arguments,y(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return b(n)}(this,a)}}function w(n,i){return function(n){if(Array.isArray(n))return n}(n)||function(n,i){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=a){var o,s,c,u,d=[],l=!0,f=!1;try{if(c=(a=a.call(n)).next,0===i){if(Object(a)!==a)return;l=!1}else for(;!(l=(o=c.call(a)).done)&&(d.push(o.value),d.length!==i);l=!0);}catch(n){f=!0,s=n}finally{try{if(!l&&null!=a.return&&(u=a.return(),Object(u)!==u))return}finally{if(f)throw s}}return d}}(n,i)||E(n,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n){return function(n){if(Array.isArray(n))return x(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||E(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(n,i){if(n){if("string"==typeof n)return x(n,i);var a=Object.prototype.toString.call(n).slice(8,-1);if("Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(n,i)}}function x(n,i){(null==i||i>n.length)&&(i=n.length);for(var a=0,o=Array(i);a<i;a++)o[a]=n[a];return o}function S(n,i){var a="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=E(n))||i&&n&&"number"==typeof n.length){a&&(n=a);var o=0,s=function(){};return{s:s,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,d=!1;return{s:function(){a=a.call(n)},n:function(){var n=a.next();return u=n.done,n},e:function(n){d=!0,c=n},f:function(){try{!u&&null!=a.return&&a.return()}finally{if(d)throw c}}}}function T(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},678480:function(n,i,a){"use strict";a.d(i,{Z:function(){return h}});var o=a(673295);a(227470),a(586529),a(614521),a(864614),a(632852),a(130458),a(379493),a(77848),a(210434),a(947478),a(11258),a(347885),a(514312);var s=a(280161),c=a(809068),u=a(246020),d=a(225427),l={description:"",name:"__PRE_CACHE__",storeName:"keyvaluepairs",version:1},f="__PRE_CACHE__KEYS";let h=function(){var n;function i(n,a){(0,o.PA)(this,i),this._allCachedKeyMap={},this._memory=0,this._cnt=0;var f=a===c.Rr.MEMORY?d.Z:u.Z;this._cacheType=a,this._driver=new f,this._driver._initStorage(l).catch(function(){}),this._hasIdbForbidden=!1,this._maxCache=!n||n<=0?200:n,this.setMaxCache(this._maxCache),this._allCachedKeys={},this._allCachedTimeKeys={},this.getCachedKeysFromLocal(),this._readyPromise=new s.XK,this.init()}return(0,o.qH)(i,[{key:"supportSync",value:function(){return this._cacheType===c.Rr.MEMORY}},{key:"getCachedKeysFromLocal",value:function(){var n=s.Xb.getItem(f);if(n){for(var i=n.split("|"),a=0;a<i.length;a++){var o=i[a],c=this._getCacheKeyInfos(o),u=c.time,d=c.cachedKey;this._allCachedKeys[d]=1,this._allCachedTimeKeys[d]=u}}}},{key:"_getCacheKeyInfos",value:function(n){var i,a=n.split("$");return 2===a.length&&(i=a[0],n=a[1]),{time:i,cachedKey:n}}},{key:"writeCachedKeysToLocal",value:function(n){var i=[];this._allCachedKeys={},this._allCachedTimeKeys={};for(var a=0;a<n.length;a++){var o=n[a].key,c=this._getCacheKeyInfos(o),u=c.time,d=c.cachedKey;this._allCachedKeys[d]=1,this._allCachedTimeKeys[d]=u,i.push(o)}var l=i.join("|");s.Xb.setItem(f,l)}},{key:"init",value:function(){var n=this;this._driver.setItem("test","test").then(function(){}).catch(function(){n._hasIdbForbidden=!0}).finally(function(){n._driver.removeItem("test").catch(function(){}),n._hasIdbForbidden&&(n._driver=new d.Z,n._driver._initStorage(l)),n._getAll(),n._readyPromise.resolve()})}},{key:"_getAll",value:function(){var n=this;this._memory=0,this._cnt=0,this._driver.all().then(function(i){n._cachedLength=i.length;var a=i.length-n._maxCache,s=i;if(a>0){var c=i.slice(0,a);s=i.slice(a);for(var u=0;u<c.length;u++)n.removeItem(c[u].key).then(function(){})}n._cnt=s.length;for(var d=0;d<s.length;d++){var l=s[d];if("object"===(0,o.Ac)(l.value)){Object.values(l.value).forEach(function(i){n._memory+=(null==i?void 0:i.memory)||0});var f=n._getCacheKeyInfos(l.key).cachedKey;n._allCachedKeyMap[f]=Object.keys(l.value)}}n.writeCachedKeysToLocal(s)}).catch(function(){})}},{key:"getAllCachedDataKeys",value:function(){var n=[];return Object.values(this._allCachedKeyMap).forEach(function(i){n.push.apply(n,(0,o.u)(i))}),n}},{key:"getItem",value:(n=(0,o.x)((0,o.l5)().mark(function n(i,a,s){var c,u,d,l;return(0,o.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((c=this.hasItem(i))&&s&&(c=(null==(u=this._allCachedKeyMap[i])?void 0:u.includes(s))||!1),c){n.next=4;break}return n.abrupt("return",Promise.resolve(!1));case 4:return d=this._getTimeKey(i).timeKey,n.next=7,this._driver.getItem(d,a);case 7:if(l=n.sent,!s){n.next=10;break}return n.abrupt("return",l[s]);case 10:return n.abrupt("return",l);case 11:case"end":return n.stop()}},n,this)})),function(i,a,o){return n.apply(this,arguments)})},{key:"getItemSync",value:function(n,i,a){var o=this.hasItem(n);if(o&&a){var s=this._allCachedKeyMap[n];o=(null==s?void 0:s.includes(a))||!1}if(!o)return!1;var c=this._getTimeKey(n).timeKey,u=this._driver.getItemSync(c,i);return a?u[a]:u}},{key:"setItem",value:function(n,i,a){var o=this;this._getTimeKey(n).timeKey&&this.removeItem(n);var s=new Date().getTime();this._allCachedKeys[n]=1,this._allCachedTimeKeys[n]=s;var c=this._genTimeKey(n,s);return a=a?function(){o._getAll(),a()}:function(){o._getAll()},this._driver.setItem(c,i,a)}},{key:"_getTimeKey",value:function(n){var i=this._allCachedTimeKeys[n],a=n;return i&&(a=this._genTimeKey(n,i)),{timeKey:a,time:i}}},{key:"_genTimeKey",value:function(n,i){return"".concat(i).concat("$").concat(n)}},{key:"removeItem",value:function(n,i){var a=this._getTimeKey(n).timeKey,o=this._driver.removeItem(a,i);return delete this._allCachedKeys[n],delete this._allCachedTimeKeys[n],delete this._allCachedKeyMap[n],o}},{key:"hasItem",value:function(n){return!!this._allCachedKeys[n]}},{key:"clear",value:function(n){return this._driver.clear(n)}},{key:"length",value:function(n){return this._driver.length(n)}},{key:"setMaxCache",value:function(n){"number"==typeof n&&n>0&&(this._maxCache=n)}},{key:"getMemoryInfo",value:function(){return{memory:this._memory,cnt:this._cnt}}}]),i}()},814162:function(n,i,a){"use strict";a.d(i,{Z:function(){return d}});var o=a(673295);a(121621),a(953722),a(864614),a(616414),a(224382),a(74370),a(533431),a(917128),a(621120),a(890568),a(494319),a(631666),a(542074),a(783858),a(677046),a(540865),a(794349),a(612222),a(77848);var s=a(344584),c=["vid","loadType","size","speed","cacheKey","vtype","duration","bitrate"],u=0,d=function(){function n(i){var a=this;(0,o.PA)(this,n),this._preload_bandwith_map=new Map,this._usepreload_info=new Map,this._pcdn_info_map=new Map,this._updateRealTimeSpeed=function(n){u=n.speed,a.emit(s.kW,n)},this._manager=i}return(0,o.qH)(n,[{key:"setPreloadBandwidth",value:function(n,i){this._preload_bandwith_map.set(n,i)}},{key:"getPreloadBandwidth",value:function(n){return this._preload_bandwith_map.get(n)}},{key:"_updateLoadInfo",value:function(n,i,a){var o=this._pcdn_info_map.get(n);o||(o={}),!o[i]&&(o[i]={},o[i].loadLen=0),o[i].loadLen=o[i].loadLen+a,this._pcdn_info_map.set(n,o)}},{key:"getLoadInfoAndDelete",value:function(n){var i=this._pcdn_info_map.get(n);return this._pcdn_info_map.delete(n),i}},{key:"getPreloadUnuseInfo",value:function(){var n={},i,a=(0,o.sf)(this._preload_bandwith_map);try{for(a.s();!(i=a.n()).done;){var s=(0,o.ZQ)(i.value,2),c=s[0],u=s[1];if(this._usepreload_info.get(c))this._preload_bandwith_map.delete(c);else{var d=c.split("#"),l=d.length>0?d[0]:c;n[l]?(n[l].bw+=u.bw||0,n[l].pbw+=u.pbw||0):n[l]={vid:l,bw:u.bw||0,pbw:u.pbw||0,bitrate:u.bitrate||0,duration:u.duration||0}}}}catch(n){a.e(n)}finally{a.f()}return Object.values(n)}},{key:"bwEventEmit",value:function(n){var i=n.vid,a=n.loadType,u=n.size,d=n.speed,l=n.cacheKey,f=n.vtype,h=n.duration,p=n.bitrate,v=(0,o.Kd)(n,c),g=this.getPreloadBandwidth(l)||{bw:0,pbw:0,vid:i,duration:h,bitrate:p};a&&a!==s._R.CDN?(g.pbw=g.pbw+u,this.emit("prf_data_size",(0,o.Zj)({vid:i,task_type:2,pcdn_size:u,pcdn_speed:d,vtype:f,bitrate:p,duration:h},v))):(g.bw=g.bw+u,this.emit("prf_data_size",(0,o.Zj)({vid:i,task_type:2,cdn_size:u,cdn_speed:d,vtype:f,duration:h,bitrate:p},v))),this.setPreloadBandwidth(l,g),this._updateRealTimeSpeed({speed:d,type:a||s._R.CDN}),this._updateLoadInfo(l,a,u)}},{key:"setUsePreloadInfo",value:function(n,i){this._usepreload_info.set(n,i)}},{key:"realTimeSpeed",get:function(){return u}},{key:"emit",value:function(n,i){var a;null===(a=this._manager)||void 0===a||a.emit(n,i)}},{key:"destroy",value:function(){this._preload_bandwith_map=new Map,this._usepreload_info=new Map,this._pcdn_info_map=new Map,this._manager=null}}]),n}()},828212:function(n,i,a){"use strict";a.d(i,{_R:function(){return u},kW:function(){return c},l0:function(){return s}});var o,s=((o=s||{}).MP4="MP4",o.MP4_MSE_SOFT="MP4_MSE_SOFT",o.MP4_MSE="MP4_MSE",o.MP4_0="MP4_0",o.MP4_1="MP4_1",o.MP4_2="MP4_2",o.DASH="DASH",o.HLS="HLS",o),c="real_time_speed",u={CDN:"cdn",PCDN:"pcdn"}},381181:function(n,i,a){"use strict";a.d(i,{l:function(){return d}});var o=a(84498),s=a(359157),c=a(239001),u=a(74072),d=function(n){(0,o.XW)(a,n);var i=(0,o.WY)(a);function a(){return(0,o.PA)(this,a),i.apply(this,arguments)}return(0,o.qH)(a,[{key:"start",value:function(){var n=this,i=this.instManager;this.stop(),i.on(s.L.UPDATE_INST_ORDER,function(){var a=i.findAll(function(n){return n.isUserActive}),o=i.findAll(function(n){return n.isInstNext});1===a.length&&1===o.length&&(n._activePlayer=a[0],n._nextPlayer=o[0],n.execTask())})}},{key:"stop",value:function(){this._clearTimer(),this.instManager.off(s.L.UPDATE_INST_ORDER)}},{key:"_clearTimer",value:function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}},{key:"_startTimer",value:function(){var n=this;this._clearTimer(),this._timerId=setTimeout(function(){n.execTask()},1e3)}},{key:"isValidConfig",value:function(){var n=this.config,i=n.nextBufferMin,a=n.scale,s=n.nextStartPos,c=n.nextStartBuffer,u=function(n){return"number"==typeof n&&n>=0};return!!(u(i)&&u(s)&&u(c))&&"object"===(0,o.Ac)(a)&&!!(a.S>=0)&&!!(a.M>=0)&&!!(a.L>=0)&&!!(a.XL>=0)||!1}},{key:"execTask",value:function(){if(!!this._activePlayer&&!!this._nextPlayer)if(this.isValidConfig()){var n=this.config,i=n.nextBufferMin,a=n.scale,o=n.nextStartPos,s=n.nextStartBuffer,c=this._nextPlayer.duration,d=this._activePlayer.currentTime,l=this._activePlayer.getBufferedRange(),f=i;d>o&&l[1]>s?(c<=60?f=i+10*a.S:c>60&&c<=180?f=i+10*a.M:c>180&&c<=600?f=i+10*a.L:c>600&&(f=i+10*a.XL),this._nextPlayer.emit(u.J.CHANGE_FLYING_PLUGIN_CONFIG,{nextBufferLength:f}),this._clearTimer(),this._activePlayer=void 0,this._nextPlayer=void 0):this._startTimer()}else this._startTimer()}}]),a}(c.N)},918334:function(n,i,a){"use strict";a.d(i,{Ye:function(){return l},_R:function(){return p},kW:function(){return h},l0:function(){return d},l1:function(){return v},sm:function(){return g},u7:function(){return f}});var o,s,c,u=a(369239);var d=((o=d||{}).MP4="MP4",o.MP4_MSE_SOFT="MP4_MSE_SOFT",o.MP4_MSE="MP4_MSE",o.MP4_0="MP4_0",o.MP4_1="MP4_1",o.MP4_2="MP4_2",o.DASH="DASH",o.HLS="HLS",o);var l=((s=l||{})[s.Normal=0]="Normal",s[s.Ad=1]="Ad",s);var f=((c=f||{})[c.AVC=0]="AVC",c[c.HEVC=1]="HEVC",c[c.VVC=2]="VVC",c.H264="h264",c.H265="h265",c.H266="h266",c),h="real_time_speed",p={CDN:"cdn",PCDN:"pcdn"},v={BEFEORE_START:0,NOT_SUPPORTED:1,START_INIT_DESTROY:2,NO_PRELOAD:3,CLOSE_DWNGRADE:4,INIT_PROMISE_CATCH:5,PLAYER_ERROR:6,HTTP_ERROR:7,MSE_ERROR:8,DESTROY:9},g=(0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)((0,u._x)({},v.BEFEORE_START,"before start"),v.NOT_SUPPORTED,"codec not support"),v.START_INIT_DESTROY,"start init destroy"),v.NO_PRELOAD,"no preload"),v.CLOSE_DWNGRADE,"close downgrade"),v.INIT_PROMISE_CATCH,"init promise catch"),v.PLAYER_ERROR,"player error"),v.HTTP_ERROR,"http error"),v.MSE_ERROR,"mse error"),v.DESTROY,"destroy")},766913:function(n,i,a){var o;o=0,function(n){"use strict";function i(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function a(n){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?i(Object(o),!0).forEach(function(i){u(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function o(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function s(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,b(o.key),o)}}function c(n,i,a){return i&&s(n.prototype,i),a&&s(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function u(n,i,a){return(i=b(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function d(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&f(n,i)}function l(n){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function f(n,i){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}function h(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function p(n,i,a){return(p=h()?Reflect.construct.bind():function(n,i,a){var o=[null];o.push.apply(o,i);var s=new(Function.bind.apply(n,o));return a&&f(s,a.prototype),s}).apply(null,arguments)}function v(n){var i=h();return function(){var a,o=l(n);return a=i?Reflect.construct(o,arguments,l(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(this,a)}}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,i,a){var o=function(n,i){for(;!Object.prototype.hasOwnProperty.call(n,i)&&null!==(n=l(n)););return n}(n,i);if(o){var s=Object.getOwnPropertyDescriptor(o,i);return s.get?s.get.call(arguments.length<3?n:a):s.value}}).apply(this,arguments)}function y(n,i){return function(n){if(Array.isArray(n))return n}(n)||function(n,i){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=a){var o,s,c,u,d=[],l=!0,f=!1;try{if(c=(a=a.call(n)).next,0===i){if(Object(a)!==a)return;l=!1}else for(;!(l=(o=c.call(a)).done)&&(d.push(o.value),d.length!==i);l=!0);}catch(n){f=!0,s=n}finally{try{if(!l&&null!=a.return&&(u=a.return(),Object(u)!==u))return}finally{if(f)throw s}}return d}}(n,i)||m(n,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,i){if(n){if("string"==typeof n)return _(n,i);var a=Object.prototype.toString.call(n).slice(8,-1);return"Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a?Array.from(n):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(n,i):void 0}}function _(n,i){(null==i||i>n.length)&&(i=n.length);for(var a=0,o=Array(i);a<i;a++)o[a]=n[a];return o}function b(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}var A,w,k=function(){return(k=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++)for(var s in i=arguments[a])Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s]);return n}).apply(this,arguments)};function E(n,i,a,o){return new(a||(a=Promise))(function(s,c){function u(n){try{l(o.next(n))}catch(n){c(n)}}function d(n){try{l(o.throw(n))}catch(n){c(n)}}function l(n){var i;n.done?s(n.value):((i=n.value)instanceof a?i:new a(function(n){n(i)})).then(u,d)}l((o=o.apply(n,i||[])).next())})}function x(n,i){var a,o,s,c,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function d(d){return function(l){return function(d){if(a)throw TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(u=0)),u;)try{if(a=1,o&&(s=2&d[0]?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return u.label++,{value:d[1],done:!1};case 5:u.label++,o=d[1],d=[0];continue;case 7:d=u.ops.pop(),u.trys.pop();continue;default:if(!(s=(s=u.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){u=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){u.label=d[1];break}if(6===d[0]&&u.label<s[1]){u.label=s[1],s=d;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(d);break}s[2]&&u.ops.pop(),u.trys.pop();continue}d=i.call(n,u)}catch(n){d=[6,n],o=0}finally{a=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,l])}}}function S(n,i,a){if(a||2==arguments.length)for(var o,s=0,c=i.length;s<c;s++)!o&&s in i||(o||(o=Array.prototype.slice.call(i,0,s)),o[s]=i[s]);return n.concat(o||Array.prototype.slice.call(i))}"function"==typeof SuppressedError&&SuppressedError;var T="4.4.1";function I(n,i){return new Promise(function(a){return setTimeout(a,n,i)})}function R(){return I(0)}function C(n){return!!n&&"function"==typeof n.then}function D(n,i){try{var a=n();C(a)?a.then(function(n){return i(!0,n)},function(n){return i(!1,n)}):i(!0,a)}catch(n){i(!1,n)}}function O(n,i,a){return void 0===a&&(a=16),E(this,void 0,void 0,function(){var o,s,c,u;return x(this,function(d){switch(d.label){case 0:o=Array(n.length),s=Date.now(),c=0,d.label=1;case 1:return c<n.length?(o[c]=i(n[c],c),(u=Date.now())>=s+a?(s=u,[4,I(0)]):[3,3]):[3,4];case 2:d.sent(),d.label=3;case 3:return++c,[3,1];case 4:return[2,o]}})})}function B(n){n.then(void 0,function(){})}function P(n){return parseInt(n)}function L(n){return parseFloat(n)}function M(n,i){return"number"==typeof n&&isNaN(n)?i:n}function N(n){return n.reduce(function(n,i){return n+(i?1:0)},0)}function U(n,i){if(void 0===i&&(i=1),Math.abs(i)>=1)return Math.round(n/i)*i;var a=1/i;return Math.round(n*a)/a}function F(n,i){var a,o,s=n[0]>>>16,c=65535&n[0],u=n[1]>>>16,d=65535&n[1],l=i[0]>>>16,f=65535&i[0],h=i[1]>>>16,p=0,v=0;a=0+((o=0+(d+(65535&i[1])))>>>16),o&=65535,v+=(a+=u+h)>>>16,a&=65535,p+=(v+=c+f)>>>16,v&=65535,p+=s+l,p&=65535,n[0]=p<<16|v,n[1]=a<<16|o}function j(n,i){var a,o,s=n[0]>>>16,c=65535&n[0],u=n[1]>>>16,d=65535&n[1],l=i[0]>>>16,f=65535&i[0],h=i[1]>>>16,p=65535&i[1],v=0,g=0;a=0+((o=0+d*p)>>>16),o&=65535,g+=(a+=u*p)>>>16,a&=65535,g+=(a+=d*h)>>>16,a&=65535,v+=(g+=c*p)>>>16,g&=65535,v+=(g+=u*h)>>>16,g&=65535,v+=(g+=d*f)>>>16,g&=65535,v+=s*p+c*h+u*f+d*l,v&=65535,n[0]=v<<16|g,n[1]=a<<16|o}function V(n,i){var a=n[0];32==(i%=64)?(n[0]=n[1],n[1]=a):i<32?(n[0]=a<<i|n[1]>>>32-i,n[1]=n[1]<<i|a>>>32-i):(i-=32,n[0]=n[1]<<i|a>>>32-i,n[1]=a<<i|n[1]>>>32-i)}function Z(n,i){0!=(i%=64)&&(i<32?(n[0]=n[1]>>>32-i,n[1]=n[1]<<i):(n[0]=n[1]<<i-32,n[1]=0))}function H(n,i){n[0]^=i[0],n[1]^=i[1]}var G=[4283543511,3981806797],W=[3301882366,444984403];function z(n){var i=[0,n[0]>>>1];H(n,i),j(n,G),i[1]=n[0]>>>1,H(n,i),j(n,W),i[1]=n[0]>>>1,H(n,i)}var Y=[2277735313,289559509],K=[1291169091,658871167],X=[0,5],J=[0,1390208809],q=[0,944331445];function Q(){var n=window,i=navigator;return N(["MSCSSMatrix"in n,"msSetImmediate"in n,"msIndexedDB"in n,"msMaxTouchPoints"in i,"msPointerEnabled"in i])>=4}function $(){var n=window,i=navigator;return N(["webkitPersistentStorage"in i,"webkitTemporaryStorage"in i,0===i.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in n,"BatteryManager"in n,"webkitMediaStream"in n,"webkitSpeechGrammar"in n])>=5}function ee(){var n=window,i=navigator;return N(["ApplePayError"in n,"CSSPrimitiveValue"in n,"Counter"in n,0===i.vendor.indexOf("Apple"),"getStorageUpdates"in i,"WebKitMediaKeys"in n])>=4}function et(){var n=window,i=n.HTMLElement,a=n.Document;return N(["safari"in n,!("ongestureend"in n),!("TouchEvent"in n),!("orientation"in n),i&&!("autocapitalize"in i.prototype),a&&"pointerLockElement"in a.prototype])>=4}function er(){var n,i=window;return n=i.print,!!/^function\s.*?\{\s*\[native code]\s*}$/.test(String(n))&&N(["[object WebPageNamespace]"===String(i.browser),"MicrodataExtractor"in i])>=1}function en(){var n,i,a=window;return N(["buildID"in navigator,"MozAppearance"in(null!==(i=null===(n=document.documentElement)||void 0===n?void 0:n.style)&&void 0!==i?i:{}),"onmozfullscreenchange"in a,"mozInnerScreenX"in a,"CSSMozDocumentRule"in a,"CanvasCaptureMediaStream"in a])>=4}function ei(){var n=window,i=navigator,a=n.CSS,o=n.HTMLButtonElement;return N([!("getStorageUpdates"in i),o&&"popover"in o.prototype,"CSSCounterStyleRule"in n,a.supports("font-size-adjust: ex-height 0.5"),a.supports("text-transform: full-width")])>=4}function ea(){var n=$(),i=en(),a=window,o=navigator,s="connection";return n?N([!("SharedWorker"in a),o[s]&&"ontypechange"in o[s],!("sinkId"in new window.Audio)])>=2:!!i&&N(["onorientationchange"in a,"orientation"in a,/android/i.test(navigator.appVersion)])>=2}function eo(n){var i=Error(n);return i.name=n,i}function es(n,i,a){var o,s,c;return void 0===a&&(a=50),E(this,void 0,void 0,function(){var u,d;return x(this,function(l){switch(l.label){case 0:u=document,l.label=1;case 1:return u.body?[3,3]:[4,I(a)];case 2:return l.sent(),[3,1];case 3:d=u.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise(function(n,a){var o=!1,s=function(){o=!0,n()};d.onload=s,d.onerror=function(n){o=!0,a(n)};var c=d.style;c.setProperty("display","block","important"),c.position="absolute",c.top="0",c.left="0",c.visibility="hidden",i&&"srcdoc"in d?d.srcdoc=i:d.src="about:blank",u.body.appendChild(d);var l=function(){var n,i;o||("complete"===(null===(i=null===(n=d.contentWindow)||void 0===n?void 0:n.document)||void 0===i?void 0:i.readyState)?s():setTimeout(l,10))};l()})];case 5:l.sent(),l.label=6;case 6:return(null===(s=null===(o=d.contentWindow)||void 0===o?void 0:o.document)||void 0===s?void 0:s.body)?[3,8]:[4,I(a)];case 7:return l.sent(),[3,6];case 8:return[4,n(d,d.contentWindow)];case 9:return[2,l.sent()];case 10:return null===(c=d.parentNode)||void 0===c||c.removeChild(d),[7];case 11:return[2]}})})}var ec=["monospace","sans-serif","serif"],eu=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function ed(n){return n.toDataURL()}function el(){var n=screen;return[M(L(n.availTop),null),M(L(n.width)-L(n.availWidth)-M(L(n.availLeft),0),null),M(L(n.height)-L(n.availHeight)-M(L(n.availTop),0),null),M(L(n.availLeft),null)]}function ef(n){for(var i=0;i<4;++i)if(n[i])return!1;return!0}function eh(n){n.style.setProperty("visibility","hidden","important"),n.style.setProperty("display","block","important")}function ep(n){return matchMedia("(inverted-colors: ".concat(n,")")).matches}function ev(n){return matchMedia("(forced-colors: ".concat(n,")")).matches}function eg(n){return matchMedia("(prefers-contrast: ".concat(n,")")).matches}function ey(n){return matchMedia("(prefers-reduced-motion: ".concat(n,")")).matches}function em(n){return matchMedia("(prefers-reduced-transparency: ".concat(n,")")).matches}function e_(n){return matchMedia("(dynamic-range: ".concat(n,")")).matches}var eb=Math,eA=function(){return 0},ew={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},ek=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),eE=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),ex=["FRAGMENT_SHADER","VERTEX_SHADER"],eS=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],eT="WEBGL_debug_renderer_info";function eI(n){if(n.webgl)return n.webgl.context;var i,a=document.createElement("canvas");a.addEventListener("webglCreateContextError",function(){return i=void 0});for(var o=0,s=["webgl","experimental-webgl"];o<s.length;o++){var c=s[o];try{i=a.getContext(c)}catch(n){}if(i)break}return n.webgl={context:i},i}function eR(n){return Object.keys(n.__proto__).filter(eC)}function eC(n){return"string"==typeof n&&!n.match(/[^A-Z0-9_x]/)}function eD(){return en()}function eO(n){return"function"==typeof n.getParameter}var eB={fonts:function(){var n=this;return es(function(i,a){var o=a.document;return E(n,void 0,void 0,function(){var n,i,a,s,c,u,d,l,f,h,p;return x(this,function(v){switch(v.label){case 0:return(n=o.body).style.fontSize="48px",(i=o.createElement("div")).style.setProperty("visibility","hidden","important"),a={},s={},c=function(n){var a=o.createElement("span"),s=a.style;return s.position="absolute",s.top="0",s.left="0",s.fontFamily=n,a.textContent="mmMwWLliI0O&1",i.appendChild(a),a},u=function(n,i){return c("'".concat(n,"',").concat(i))},d=function(){for(var n={},i=function(i){n[i]=ec.map(function(n){return u(i,n)})},a=0;a<eu.length;a++)i(eu[a]);return n},l=function(n){return ec.some(function(i,o){return n[o].offsetWidth!==a[i]||n[o].offsetHeight!==s[i]})},f=ec.map(c),h=d(),n.appendChild(i),[4,I(0)];case 1:for(v.sent(),p=0;p<ec.length;p++)a[ec[p]]=f[p].offsetWidth,s[ec[p]]=f[p].offsetHeight;return[2,eu.filter(function(n){return l(h[n])})]}})})})},domBlockers:function(n){var i=(void 0===n?{}:n).debug;return E(this,void 0,void 0,function(){var n,a,o,s,c;return x(this,function(u){var d;switch(u.label){case 0:return ee()||ea()?(a=Object.keys(n={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',(d=atob)("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",d("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",d("LnNwb25zb3JpdA=="),".ylamainos",d("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),d("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",d("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",d("LmhlYWRlci1ibG9ja2VkLWFk"),d("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",d("I2FkXzMwMFgyNTA="),d("I2Jhbm5lcmZsb2F0MjI="),d("I2NhbXBhaWduLWJhbm5lcg=="),d("I0FkLUNvbnRlbnQ=")],adGuardChinese:[d("LlppX2FkX2FfSA=="),d("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",d("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),d("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",d("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",d("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",d("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),d("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),d("LmFkZ29vZ2xl"),d("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[d("YW1wLWF1dG8tYWRz"),d("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",d("I2FkX2ludmlld19hcmVh")],adGuardRussian:[d("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),d("LnJlY2xhbWE="),'div[id^="smi2adblock"]',d("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[d("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),d("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",d("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),d("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),d("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",d("I3Jla2xhbWk="),d("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),d("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),d("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[d("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",d("LndpZGdldF9wb19hZHNfd2lkZ2V0"),d("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",d("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[d("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),d("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",d("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",d("I3Jla2xhbW5pLWJveA=="),d("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",d("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[d("I2FkdmVydGVudGll"),d("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",d("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",d("LnNwb25zb3JsaW5rZ3J1ZW4="),d("I3dlcmJ1bmdza3k="),d("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),d("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[d("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",d("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),d("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),d("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[d("LnJla2xhbW9zX3RhcnBhcw=="),d("LnJla2xhbW9zX251b3JvZG9z"),d("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),d("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),d("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[d("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[d("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),d("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",d("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[d("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),d("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),d("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",d("LmFkX19tYWlu"),d("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[d("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[d("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),d("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[d("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),d("I2xpdmVyZUFkV3JhcHBlcg=="),d("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),d("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[d("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",d("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),d("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),d("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[d("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),d("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),d("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",d("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),d("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),d("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),d("ZGl2I3NrYXBpZWNfYWQ=")],ro:[d("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),d("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),d("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),d("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[d("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),d("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),d("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",d("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),d("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",d("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}),[4,function(n){var i;return E(this,void 0,void 0,function(){var a,o,s,c,u,d,l;return x(this,function(f){switch(f.label){case 0:for(o=(a=document).createElement("div"),s=Array(n.length),c={},eh(o),l=0;l<n.length;++l)"DIALOG"===(u=function(n){for(var i=function(n){for(var i,a,o="Unexpected syntax '".concat(n,"'"),s=/^\s*([a-z-]*)(.*)$/i.exec(n),c=s[1]||void 0,u={},d=/([.:#][\w-]+|\[.+?\])/gi,l=function(n,i){u[n]=u[n]||[],u[n].push(i)};;){var f=d.exec(s[2]);if(!f)break;var h=f[0];switch(h[0]){case".":l("class",h.slice(1));break;case"#":l("id",h.slice(1));break;case"[":var p=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(h);if(!p)throw Error(o);l(p[1],null!==(a=null!==(i=p[4])&&void 0!==i?i:p[5])&&void 0!==a?a:"");break;default:throw Error(o)}}return[c,u]}(n),a=i[0],o=i[1],s=document.createElement(null!=a?a:"div"),c=0,u=Object.keys(o);c<u.length;c++){var d=u[c],l=o[d].join(" ");"style"===d?function(n,i){for(var a=0,o=i.split(";");a<o.length;a++){var s=o[a],c=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(s);if(c){var u=c[1],d=c[2],l=c[4];n.setProperty(u,d,l||"")}}}(s.style,l):s.setAttribute(d,l)}return s}(n[l])).tagName&&u.show(),eh(d=a.createElement("div")),d.appendChild(u),o.appendChild(d),s[l]=u;f.label=1;case 1:return a.body?[3,3]:[4,I(50)];case 2:return f.sent(),[3,1];case 3:return a.body.appendChild(o),[4,I(0)];case 4:f.sent();try{for(l=0;l<n.length;++l)s[l].offsetParent||(c[n[l]]=!0)}finally{null===(i=o.parentNode)||void 0===i||i.removeChild(o)}return[2,c]}})})}((c=[]).concat.apply(c,a.map(function(i){return n[i]})))]):[2,void 0];case 1:return o=u.sent(),i&&function(n,i){for(var a="DOM blockers debug:\n```",o=0,s=Object.keys(n);o<s.length;o++){var c=s[o];a+="\n".concat(c,":");for(var u=0,d=n[c];u<d.length;u++){var l=d[u];a+="\n  ".concat(i[l]?"\uD83D\uDEAB":"➡️"," ").concat(l)}}}(n,o),(s=a.filter(function(i){var a=n[i];return N(a.map(function(n){return o[n]}))>.6*a.length})).sort(),[2,s]}})})},fontPreferences:function(){var n,i;return n=function(n,i){for(var a={},o={},s=0,c=Object.keys(ew);s<c.length;s++){var u=c[s],d=ew[u],l=d[0],f=void 0===l?{}:l,h=d[1],p=void 0===h?"mmMwWLliI0fiflO&1":h,v=n.createElement("span");v.textContent=p,v.style.whiteSpace="nowrap";for(var g=0,y=Object.keys(f);g<y.length;g++){var m=y[g],_=f[m];void 0!==_&&(v.style[m]=_)}a[u]=v,i.append(n.createElement("br"),v)}for(var b=0,A=Object.keys(ew);b<A.length;b++)o[u=A[b]]=a[u].getBoundingClientRect().width;return o},void 0===i&&(i=4e3),es(function(a,o){var s=o.document,c=s.body,u=c.style;u.width="".concat(i,"px"),u.webkitTextSizeAdjust=u.textSizeAdjust="none",$()?c.style.zoom="".concat(1/o.devicePixelRatio):ee()&&(c.style.zoom="reset");var d=s.createElement("div");return d.textContent=S([],Array(i/20<<0),!0).map(function(){return"word"}).join(" "),c.appendChild(d),n(s,c)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')},audio:function(){return ee()&&ei()&&er()?-4:function(){var n,i,a,o=window,s=o.OfflineAudioContext||o.webkitOfflineAudioContext;if(!s)return -2;if(ee()&&!et()&&!(N(["DOMRectList"in(n=window),"RTCPeerConnectionIceEvent"in n,"SVGGeometryElement"in n,"ontransitioncancel"in n])>=3))return -1;var c=new s(1,5e3,44100),u=c.createOscillator();u.type="triangle",u.frequency.value=1e4;var d=c.createDynamicsCompressor();d.threshold.value=-50,d.knee.value=40,d.ratio.value=12,d.attack.value=0,d.release.value=.25,u.connect(d),d.connect(c.destination),u.start(0);var l=(i=c,a=function(){},[new Promise(function(n,o){var s=!1,c=0,u=0;i.oncomplete=function(i){return n(i.renderedBuffer)};var d=function(){setTimeout(function(){return o(eo("timeout"))},Math.min(500,u+5e3-Date.now()))},l=function(){try{var n=i.startRendering();switch(C(n)&&B(n),i.state){case"running":u=Date.now(),s&&d();break;case"suspended":document.hidden||c++,s&&c>=3?o(eo("suspended")):setTimeout(l,500)}}catch(n){o(n)}};l(),a=function(){s||(s=!0,u>0&&d())}}),a]),f=l[0],h=l[1],p=f.then(function(n){return function(n){for(var i=0,a=0;a<n.length;++a)i+=Math.abs(n[a]);return i}(n.getChannelData(0).subarray(4500))},function(n){if("timeout"===n.name||"suspended"===n.name)return -3;throw n});return B(p),function(){return h(),p}}()},screenFrame:function(){var n=this;if(ee()&&ei()&&er())return function(){return Promise.resolve(void 0)};var i=function(){var n=this;return function(){if(void 0===w){var n=function(){var i=el();ef(i)?w=setTimeout(n,2500):(A=i,w=void 0)};n()}}(),function(){return E(n,void 0,void 0,function(){var n;return x(this,function(i){var a,o;switch(i.label){case 0:;return ef(n=el())?A?[2,S([],A,!0)]:(a=document).fullscreenElement||a.msFullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement?[4,((o=document).exitFullscreen||o.msExitFullscreen||o.mozCancelFullScreen||o.webkitExitFullscreen).call(o)]:[3,2]:[3,2];case 1:i.sent(),n=el(),i.label=2;case 2:return ef(n)||(A=n),[2,n]}})})}}();return function(){return E(n,void 0,void 0,function(){var n,a;return x(this,function(o){switch(o.label){case 0:return[4,i()];case 1:return n=o.sent(),[2,[(a=function(n){return null===n?null:U(n,10)})(n[0]),a(n[1]),a(n[2]),a(n[3])]]}})})}},canvas:function(){return function(n){return E(this,void 0,void 0,function(){var i,a,o,s,c,u,d;return x(this,function(l){var f,h,p;switch(l.label){case 0:;return i=!1,(f=document.createElement("canvas")).width=1,f.height=1,c=(s=[f,f.getContext("2d")])[0],u=s[1],(h=c,!u||!h.toDataURL)?(a=o="unsupported",[3,4]):[3,1];case 1:;return(p=u).rect(0,0,10,10),p.rect(2,2,6,6),i=!p.isPointInPath(5,5,"evenodd"),n?(a=o="skipped",[3,4]):[3,2];case 2:return[4,function(n,i){return E(this,void 0,void 0,function(){var a,o;return x(this,function(s){switch(s.label){case 0:var c,u,d;return c=n,u=i,c.width=240,c.height=60,u.textBaseline="alphabetic",u.fillStyle="#f60",u.fillRect(100,1,62,20),u.fillStyle="#069",u.font='11pt "Times New Roman"',d="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835)),u.fillText(d,2,15),u.fillStyle="rgba(102, 204, 0, 0.2)",u.font="18pt Arial",u.fillText(d,4,45),[4,I(0)];case 1:return s.sent(),a=ed(n),o=ed(n),a!==o?[2,["unstable","unstable"]]:(function(n,i){n.width=122,n.height=110,i.globalCompositeOperation="multiply";for(var a=0,o=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];a<o.length;a++){var s=o[a],c=s[0],u=s[1],d=s[2];i.fillStyle=c,i.beginPath(),i.arc(u,d,40,0,2*Math.PI,!0),i.closePath(),i.fill()}i.fillStyle="#f9c",i.arc(60,60,60,0,2*Math.PI,!0),i.arc(60,60,20,0,2*Math.PI,!0),i.fill("evenodd")}(n,i),[4,I(0)]);case 2:return s.sent(),[2,[ed(n),a]]}})})}(c,u)];case 3:a=(d=l.sent())[0],o=d[1],l.label=4;case 4:return[2,{winding:i,geometry:a,text:o}]}})})}(ee()&&ei()&&er())},osCpu:function(){return navigator.oscpu},languages:function(){var n,i=navigator,a=[],o=i.language||i.userLanguage||i.browserLanguage||i.systemLanguage;if(void 0!==o&&a.push([o]),Array.isArray(i.languages))$()&&N([!("MediaSettingsRange"in(n=window)),"RTCEncodedAudioFrame"in n,""+n.Intl=="[object Intl]",""+n.Reflect=="[object Reflect]"])>=3||a.push(i.languages);else if("string"==typeof i.languages){var s=i.languages;s&&a.push(s.split(","))}return a},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return M(L(navigator.deviceMemory),void 0)},screenResolution:function(){var n,i,a;if(!(ee()&&ei()&&er()))return n=screen,(a=[(i=function(n){return M(P(n),null)})(n.width),i(n.height)]).sort().reverse(),a},hardwareConcurrency:function(){return M(P(navigator.hardwareConcurrency),void 0)},timezone:function(){var n,i=null===(n=window.Intl)||void 0===n?void 0:n.DateTimeFormat;if(i){var a=(new i).resolvedOptions().timeZone;if(a)return a}var o,s=-Math.max(L(new Date(o=(new Date).getFullYear(),0,1).getTimezoneOffset()),L(new Date(o,6,1).getTimezoneOffset()));return"UTC".concat(s>=0?"+":"").concat(s)},sessionStorage:function(){try{return!!window.sessionStorage}catch(n){return!0}},localStorage:function(){try{return!!window.localStorage}catch(n){return!0}},indexedDB:function(){var n,i;if(!(Q()||N(["msWriteProfilerMark"in(n=window),"MSStream"in n,"msLaunchUri"in(i=navigator),"msSaveBlob"in i])>=3&&!Q()))try{return!!window.indexedDB}catch(n){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var n=navigator.platform;return"MacIntel"===n&&ee()&&!et()?!function(){if("iPad"===navigator.platform)return!0;var n=screen,i=n.width/n.height;return N(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,i>.65&&i<1.53])>=2}()?"iPhone":"iPad":n},plugins:function(){var n=navigator.plugins;if(n){for(var i=[],a=0;a<n.length;++a){var o=n[a];if(o){for(var s=[],c=0;c<o.length;++c){var u=o[c];s.push({type:u.type,suffixes:u.suffixes})}i.push({name:o.name,description:o.description,mimeTypes:s})}}return i}},touchSupport:function(){var n,i=navigator,a=0;void 0!==i.maxTouchPoints?a=P(i.maxTouchPoints):void 0!==i.msMaxTouchPoints&&(a=i.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch(i){n=!1}return{maxTouchPoints:a,touchEvent:n,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var n=[],i=0,a=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];i<a.length;i++){var o=a[i],s=window[o];s&&"object"==typeof s&&n.push(o)}return n.sort()},cookiesEnabled:function(){var n=document;try{n.cookie="cookietest=1; SameSite=Strict;";var i=-1!==n.cookie.indexOf("cookietest=");return n.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",i}catch(n){return!1}},colorGamut:function(){for(var n=0,i=["rec2020","p3","srgb"];n<i.length;n++){var a=i[n];if(matchMedia("(color-gamut: ".concat(a,")")).matches)return a}},invertedColors:function(){return!!ep("inverted")||!ep("none")&&void 0},forcedColors:function(){return!!ev("active")||!ev("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var n=0;n<=100;++n)if(matchMedia("(max-monochrome: ".concat(n,")")).matches)return n;throw Error("Too high value")}},contrast:function(){return eg("no-preference")?0:eg("high")||eg("more")?1:eg("low")||eg("less")?-1:eg("forced")?10:void 0},reducedMotion:function(){return!!ey("reduce")||!ey("no-preference")&&void 0},reducedTransparency:function(){return!!em("reduce")||!em("no-preference")&&void 0},hdr:function(){return!!e_("high")||!e_("standard")&&void 0},math:function(){var n,i,a,o,s,c,u,d=eb.acos||eA,l=eb.acosh||eA,f=eb.asin||eA,h=eb.asinh||eA,p=eb.atanh||eA,v=eb.atan||eA,g=eb.sin||eA,y=eb.sinh||eA,m=eb.cos||eA,_=eb.cosh||eA,b=eb.tan||eA,A=eb.tanh||eA,w=eb.exp||eA,k=eb.expm1||eA,E=eb.log1p||eA;return{acos:d(.12312423423423424),acosh:l(1e308),acoshPf:eb.log(1e154+eb.sqrt(1e154*1e154-1)),asin:f(.12312423423423424),asinh:h(1),asinhPf:(n=1,eb.log(1+eb.sqrt(n*n+1))),atanh:p(.5),atanhPf:(i=.5,eb.log(1.5/(1-i))/2),atan:v(.5),sin:g(-1e300),sinh:y(1),sinhPf:(a=1,eb.exp(1)-1/eb.exp(a)/2),cos:m(10.000000000123),cosh:_(1),coshPf:(o=1,(eb.exp(1)+1/eb.exp(o))/2),tan:b(-1e300),tanh:A(1),tanhPf:(s=1,(eb.exp(2)-1)/(eb.exp(2*s)+1)),exp:w(1),expm1:k(1),expm1Pf:(c=1,eb.exp(1)-1),log1p:E(10),log1pPf:eb.log(11),powPI:(u=-100,eb.pow(eb.PI,-100))}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var n=new Float32Array(1),i=new Uint8Array(n.buffer);return n[0]=1/0,n[0]=n[0]-n[0],i[3]},applePay:function(){var n=window.ApplePaySession;if("function"!=typeof(null==n?void 0:n.canMakePayments))return -1;try{return n.canMakePayments()?1:0}catch(n){return function(n){if(n instanceof Error){if("InvalidAccessError"===n.name){if(/\bfrom\b.*\binsecure\b/i.test(n.message))return -2;if(/\bdifferent\b.*\borigin\b.*top.level\b.*\bframe\b/i.test(n.message))return -3}if("SecurityError"===n.name&&/\bthird.party iframes?.*\bnot.allowed\b/i.test(n.message))return -3}throw n}(n)}},privateClickMeasurement:function(){var n,i=document.createElement("a"),a=null!==(n=i.attributionSourceId)&&void 0!==n?n:i.attributionsourceid;return void 0===a?void 0:String(a)},audioBaseLatency:function(){var n;return ea()||ee()?window.AudioContext&&null!==(n=(new AudioContext).baseLatency)&&void 0!==n?n:-1:-2},webGlBasics:function(n){var i,a,o,s,c,u,d=eI(n.cache);if(!d)return -1;if(!eO(d))return -2;var l=en()?null:d.getExtension(eT);return{version:(null===(i=d.getParameter(d.VERSION))||void 0===i?void 0:i.toString())||"",vendor:(null===(a=d.getParameter(d.VENDOR))||void 0===a?void 0:a.toString())||"",vendorUnmasked:l?null===(o=d.getParameter(l.UNMASKED_VENDOR_WEBGL))||void 0===o?void 0:o.toString():"",renderer:(null===(s=d.getParameter(d.RENDERER))||void 0===s?void 0:s.toString())||"",rendererUnmasked:l?null===(c=d.getParameter(l.UNMASKED_RENDERER_WEBGL))||void 0===c?void 0:c.toString():"",shadingLanguageVersion:(null===(u=d.getParameter(d.SHADING_LANGUAGE_VERSION))||void 0===u?void 0:u.toString())||""}},webGlExtensions:function(n){var i=eI(n.cache);if(!i)return -1;if(!eO(i))return -2;var a=i.getSupportedExtensions(),o=i.getContextAttributes(),s=[],c=[],u=[],d=[];if(o)for(var l=0,f=Object.keys(o);l<f.length;l++){var h=f[l];s.push("".concat(h,"=").concat(o[h]))}for(var p=0,v=eR(i);p<v.length;p++){var g=i[_=v[p]];c.push("".concat(_,"=").concat(g).concat(ek.has(g)?"=".concat(i.getParameter(g)):""))}if(a)for(var y=0;y<a.length;y++){var m=a[y];if(!(m===eT&&en()||"WEBGL_polygon_mode"===m&&($()||ee()))){var _,b=i.getExtension(m);if(b)for(var A=0,w=eR(b);A<w.length;A++)g=b[_=w[A]],u.push("".concat(_,"=").concat(g).concat(eE.has(g)?"=".concat(i.getParameter(g)):""))}}for(var k=0;k<ex.length;k++)for(var E=ex[k],x=0;x<eS.length;x++){var S=eS[x],T=function(n,i,a){var o=n.getShaderPrecisionFormat(n[i],n[a]);return o?[o.rangeMin,o.rangeMax,o.precision]:[]}(i,E,S);d.push("".concat(E,".").concat(S,"=").concat(T.join(",")))}return u.sort(),c.sort(),{contextAttributes:s,parameters:c,shaderPrecisions:d,extensions:a,extensionParameters:u}}};function eP(n){var i;return void 0===n&&(n={}),E(this,void 0,void 0,function(){var a,o;return x(this,function(s){var c,u,d,l,f,h,p,v,g,y,m,_;switch(s.label){case 0:;return(null===(i=n.monitoring)||void 0===i||i)&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var n=new XMLHttpRequest;n.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(T,"/npm-monitoring"),!0),n.send()}catch(n){}}(),a=n.delayFallback,o=n.debug,[4,(void 0===(c=a)&&(c=50),u=c,d=2*c,(l=window.requestIdleCallback)?new Promise(function(n){return l.call(window,function(){return n()},{timeout:d})}):I(Math.min(u,d)))];case 1:;return s.sent(),f={cache:{},debug:o},h=eB,p=f,v=[],y=O(g=Object.keys(h).filter(function(n){return!function(n,i){for(var a=0,o=n.length;a<o;++a)if(n[a]===i)return!0;return!1}(v,n)}),function(n){var i,a,o;return i=h[n],a=p,B(o=new Promise(function(n){var o=Date.now();D(i.bind(null,a),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=Date.now()-o;if(!i[0])return n(function(){return{error:i[1],duration:s}});var c=i[1];if("function"!=typeof c)return n(function(){return{value:c,duration:s}});n(function(){return new Promise(function(n){var i=Date.now();D(c,function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var c=s+Date.now()-i;if(!a[0])return n({error:a[1],duration:c});n({value:a[1],duration:c})})})})})})),function(){return o.then(function(n){return n()})}}),B(y),[2,(m=function(){return E(this,void 0,void 0,function(){var n,i,a;return x(this,function(o){switch(o.label){case 0:return[4,y];case 1:return[4,O(o.sent(),function(n){var i=n();return B(i),i})];case 2:return[4,Promise.all(o.sent())];case 3:for(n=o.sent(),i={},a=0;a<g.length;++a)i[g[a]]=n[a];return[2,i]}})})},_=o,Date.now(),{get:function(n){return E(this,void 0,void 0,function(){var i,a;return x(this,function(i){switch(i.label){case 0:return Date.now(),[4,m()];case 1:var o,s;return a={get visitorId(){return void 0===s&&(s=function(n,i){var a=function(n){for(var i=new Uint8Array(n.length),a=0;a<n.length;a++){var o=n.charCodeAt(a);if(o>127)return(new TextEncoder).encode(n);i[a]=o}return i}(n);i=i||0;var o,s=[0,a.length],c=s[1]%16,u=s[1]-c,d=[0,i],l=[0,i],f=[0,0],h=[0,0];for(o=0;o<u;o+=16)f[0]=a[o+4]|a[o+5]<<8|a[o+6]<<16|a[o+7]<<24,f[1]=a[o]|a[o+1]<<8|a[o+2]<<16|a[o+3]<<24,h[0]=a[o+12]|a[o+13]<<8|a[o+14]<<16|a[o+15]<<24,h[1]=a[o+8]|a[o+9]<<8|a[o+10]<<16|a[o+11]<<24,j(f,Y),V(f,31),j(f,K),H(d,f),V(d,27),F(d,l),j(d,X),F(d,J),j(h,K),V(h,33),j(h,Y),H(l,h),V(l,31),F(l,d),j(l,X),F(l,q);f[0]=0,f[1]=0,h[0]=0,h[1]=0;var p=[0,0];switch(c){case 15:p[1]=a[o+14],Z(p,48),H(h,p);case 14:p[1]=a[o+13],Z(p,40),H(h,p);case 13:p[1]=a[o+12],Z(p,32),H(h,p);case 12:p[1]=a[o+11],Z(p,24),H(h,p);case 11:p[1]=a[o+10],Z(p,16),H(h,p);case 10:p[1]=a[o+9],Z(p,8),H(h,p);case 9:p[1]=a[o+8],H(h,p),j(h,K),V(h,33),j(h,Y),H(l,h);case 8:p[1]=a[o+7],Z(p,56),H(f,p);case 7:p[1]=a[o+6],Z(p,48),H(f,p);case 6:p[1]=a[o+5],Z(p,40),H(f,p);case 5:p[1]=a[o+4],Z(p,32),H(f,p);case 4:p[1]=a[o+3],Z(p,24),H(f,p);case 3:p[1]=a[o+2],Z(p,16),H(f,p);case 2:p[1]=a[o+1],Z(p,8),H(f,p);case 1:p[1]=a[o],H(f,p),j(f,Y),V(f,31),j(f,K),H(d,f)}return H(d,s),H(l,s),F(d,l),F(l,d),z(d),z(l),F(d,l),F(l,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}(function(n){for(var i="",a=0,o=Object.keys(n).sort();a<o.length;a++){var s=o[a],c=n[s],u="error"in c?"error":JSON.stringify(c.value);i+="".concat(i?"|":"").concat(s.replace(/([:|\\])/g,"\\$1"),":").concat(u)}return i}(this.components))),s},set visitorId(e){s=e},confidence:function(n){var i=function(n){if(ea())return .4;if(ee())return!et()||ei()&&er()?.3:.5;var i="value"in n.platform?n.platform.value:"";return/^Win/.test(i)?.6:/^Mac/.test(i)?.5:.7}(n),a=U(.99+.01*i,1e-4);return{score:i,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(a))}}(o=i.sent()),components:o,version:T},_||null==n||n.debug,[2,a]}})})}})]}})})}for(var eL=function(){function n(){o(this,n)}return c(n,[{key:"mixIn",value:function(n){return Object.assign(this,n)}},{key:"clone",value:function(){var n=new this.constructor;return Object.assign(n,this),n}}],[{key:"create",value:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return p(this,i)}}]),n}(),eM=function(n){d(a,n);var i=v(a);function a(){var n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4*s.length;o(this,a),n=i.call(this);var u=s;if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var d=u.byteLength,l=[],f=0;f<d;f+=1)l[f>>>2]|=u[f]<<24-f%4*8;n.words=l,n.sigBytes=d}else n.words=s,n.sigBytes=c;return n}return c(a,[{key:"toString",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:eN).stringify(this)}},{key:"concat",value:function(n){var i=this.words,a=n.words,o=this.sigBytes,s=n.sigBytes;if(this.clamp(),o%4)for(var c=0;c<s;c+=1){var u=a[c>>>2]>>>24-c%4*8&255;i[o+c>>>2]|=u<<24-(o+c)%4*8}else for(var d=0;d<s;d+=4)i[o+d>>>2]=a[d>>>2];return this.sigBytes+=s,this}},{key:"clamp",value:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=Math.ceil(i/4)}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n.words=this.words.slice(0),n}}],[{key:"random",value:function(n){for(var i,o=[],s=0;s<n;s+=4){var c=function(n){var i=n,a=987654321;return function(){var n=((a=36969*(65535&a)+(a>>16)&4294967295)<<16)+(i=18e3*(65535&i)+(i>>16)&4294967295)&4294967295;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}}(4294967296*(i||Math.random()));i=987654071*c(),o.push(4294967296*c()|0)}return new a(o,n)}}]),a}(eL),eN={stringify:function(n){for(var i=n.words,a=n.sigBytes,o=[],s=0;s<a;s+=1){var c=i[s>>>2]>>>24-s%4*8&255;o.push((c>>>4).toString(16)),o.push((15&c).toString(16))}return o.join("")},parse:function(n){for(var i=n.length,a=[],o=0;o<i;o+=2)a[o>>>3]|=parseInt(n.substr(o,2),16)<<24-o%8*4;return new eM(a,i/2)}},eU={stringify:function(n){for(var i=n.words,a=n.sigBytes,o=[],s=0;s<a;s+=1){var c=i[s>>>2]>>>24-s%4*8&255;o.push(String.fromCharCode(c))}return o.join("")},parse:function(n){for(var i=n.length,a=[],o=0;o<i;o+=1)a[o>>>2]|=(255&n.charCodeAt(o))<<24-o%4*8;return new eM(a,i)}},eF={stringify:function(n){try{return decodeURIComponent(escape(eU.stringify(n)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function(n){return eU.parse(unescape(encodeURIComponent(n)))}},ej=function(n){d(a,n);var i=v(a);function a(){var n;return o(this,a),(n=i.call(this))._minBufferSize=0,n}return c(a,[{key:"reset",value:function(){this._data=new eM,this._nDataBytes=0}},{key:"_append",value:function(n){var i=n;"string"==typeof i&&(i=eF.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes}},{key:"_process",value:function(n){var i,a=this._data,o=this.blockSize,s=a.words,c=a.sigBytes,u=c/(4*o),d=(u=n?Math.ceil(u):Math.max((0|u)-this._minBufferSize,0))*o,l=Math.min(4*d,c);if(d){for(var f=0;f<d;f+=o)this._doProcessBlock(s,f);i=s.splice(0,d),a.sigBytes-=l}return new eM(i,l)}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._data=this._data.clone(),n}}]),a}(eL),eV=function(n){d(a,n);var i=v(a);function a(n){var s;return o(this,a),(s=i.call(this)).blockSize=16,s.cfg=Object.assign(new eL,n),s.reset(),s}return c(a,[{key:"reset",value:function(){g(l(a.prototype),"reset",this).call(this),this._doReset()}},{key:"update",value:function(n){return this._append(n),this._process(),this}},{key:"finalize",value:function(n){return n&&this._append(n),this._doFinalize()}}],[{key:"_createHelper",value:function(n){return function(i,a){return new n(a).finalize(i)}}},{key:"_createHmacHelper",value:function(n){return function(i,a){return new eZ(n,a).finalize(i)}}}]),a}(ej),eZ=function(n){d(a,n);var i=v(a);function a(n,s){o(this,a),c=i.call(this);var c,u=new n;c._hasher=u;var d=s;"string"==typeof d&&(d=eF.parse(d));var l=u.blockSize,f=4*l;d.sigBytes>f&&(d=u.finalize(s)),d.clamp();var h=d.clone();c._oKey=h;var p=d.clone();c._iKey=p;for(var v=h.words,g=p.words,y=0;y<l;y+=1)v[y]^=1549556828,g[y]^=909522486;return h.sigBytes=f,p.sigBytes=f,c.reset(),c}return c(a,[{key:"reset",value:function(){var n=this._hasher;n.reset(),n.update(this._iKey)}},{key:"update",value:function(n){return this._hasher.update(n),this}},{key:"finalize",value:function(n){var i=this._hasher,a=i.finalize(n);return i.reset(),i.finalize(this._oKey.clone().concat(a))}}]),a}(eL),eH=function(n){d(a,n);var i=v(a);function a(n,s){var c;return o(this,a),(c=i.call(this)).high=n,c.low=s,c}return c(a)}(eL),eG=function(n){d(a,n);var i=v(a);function a(){var n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8*s.length;return o(this,a),(n=i.call(this)).words=s,n.sigBytes=c,n}return c(a,[{key:"toX32",value:function(){for(var n=this.words,i=n.length,a=[],o=0;o<i;o+=1){var s=n[o];a.push(s.high),a.push(s.low)}return eM.create(a,this.sigBytes)}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);n.words=this.words.slice(0);for(var i=n.words,o=i.length,s=0;s<o;s+=1)i[s]=i[s].clone();return n}}]),a}(eL),eW={stringify:function(n){var i=n.words,a=n.sigBytes,o=this._map;n.clamp();for(var s=[],c=0;c<a;c+=3)for(var u=(i[c>>>2]>>>24-c%4*8&255)<<16|(i[c+1>>>2]>>>24-(c+1)%4*8&255)<<8|i[c+2>>>2]>>>24-(c+2)%4*8&255,d=0;d<4&&c+.75*d<a;d+=1)s.push(o.charAt(u>>>6*(3-d)&63));var l=o.charAt(64);if(l)for(;s.length%4;)s.push(l);return s.join("")},parse:function(n){var i=n.length,a=this._map,o=this._reverseMap;if(!o){this._reverseMap=[],o=this._reverseMap;for(var s=0;s<a.length;s+=1)o[a.charCodeAt(s)]=s}var c=a.charAt(64);if(c){var u=n.indexOf(c);-1!==u&&(i=u)}return function(n,i,a){for(var o=[],s=0,c=0;c<i;c+=1)if(c%4){var u=a[n.charCodeAt(c-1)]<<c%4*2|a[n.charCodeAt(c)]>>>6-c%4*2;o[s>>>2]|=u<<24-s%4*8,s+=1}return eM.create(o,s)}(n,i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},ez=[],eY=0;eY<64;eY+=1)ez[eY]=4294967296*Math.abs(Math.sin(eY+1))|0;var eK=function(n,i,a,o,s,c,u){var d=n+(i&a|~i&o)+s+u;return(d<<c|d>>>32-c)+i},eX=function(n,i,a,o,s,c,u){var d=n+(i&o|a&~o)+s+u;return(d<<c|d>>>32-c)+i},eJ=function(n,i,a,o,s,c,u){var d=n+(i^a^o)+s+u;return(d<<c|d>>>32-c)+i},eq=function(n,i,a,o,s,c,u){var d=n+(a^(i|~o))+s+u;return(d<<c|d>>>32-c)+i},eQ=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=new eM([1732584193,4023233417,2562383102,271733878])}},{key:"_doProcessBlock",value:function(n,i){for(var a=0;a<16;a+=1){var o=i+a,s=n[o];n[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var c=this._hash.words,u=n[i+0],d=n[i+1],l=n[i+2],f=n[i+3],h=n[i+4],p=n[i+5],v=n[i+6],g=n[i+7],y=n[i+8],m=n[i+9],_=n[i+10],b=n[i+11],A=n[i+12],w=n[i+13],k=n[i+14],E=n[i+15],x=c[0],S=c[1],T=c[2],I=c[3];x=eK(x,S,T,I,u,7,ez[0]),I=eK(I,x,S,T,d,12,ez[1]),T=eK(T,I,x,S,l,17,ez[2]),S=eK(S,T,I,x,f,22,ez[3]),x=eK(x,S,T,I,h,7,ez[4]),I=eK(I,x,S,T,p,12,ez[5]),T=eK(T,I,x,S,v,17,ez[6]),S=eK(S,T,I,x,g,22,ez[7]),x=eK(x,S,T,I,y,7,ez[8]),I=eK(I,x,S,T,m,12,ez[9]),T=eK(T,I,x,S,_,17,ez[10]),S=eK(S,T,I,x,b,22,ez[11]),x=eK(x,S,T,I,A,7,ez[12]),I=eK(I,x,S,T,w,12,ez[13]),T=eK(T,I,x,S,k,17,ez[14]),S=eK(S,T,I,x,E,22,ez[15]),x=eX(x,S,T,I,d,5,ez[16]),I=eX(I,x,S,T,v,9,ez[17]),T=eX(T,I,x,S,b,14,ez[18]),S=eX(S,T,I,x,u,20,ez[19]),x=eX(x,S,T,I,p,5,ez[20]),I=eX(I,x,S,T,_,9,ez[21]),T=eX(T,I,x,S,E,14,ez[22]),S=eX(S,T,I,x,h,20,ez[23]),x=eX(x,S,T,I,m,5,ez[24]),I=eX(I,x,S,T,k,9,ez[25]),T=eX(T,I,x,S,f,14,ez[26]),S=eX(S,T,I,x,y,20,ez[27]),x=eX(x,S,T,I,w,5,ez[28]),I=eX(I,x,S,T,l,9,ez[29]),T=eX(T,I,x,S,g,14,ez[30]),S=eX(S,T,I,x,A,20,ez[31]),x=eJ(x,S,T,I,p,4,ez[32]),I=eJ(I,x,S,T,y,11,ez[33]),T=eJ(T,I,x,S,b,16,ez[34]),S=eJ(S,T,I,x,k,23,ez[35]),x=eJ(x,S,T,I,d,4,ez[36]),I=eJ(I,x,S,T,h,11,ez[37]),T=eJ(T,I,x,S,g,16,ez[38]),S=eJ(S,T,I,x,_,23,ez[39]),x=eJ(x,S,T,I,w,4,ez[40]),I=eJ(I,x,S,T,u,11,ez[41]),T=eJ(T,I,x,S,f,16,ez[42]),S=eJ(S,T,I,x,v,23,ez[43]),x=eJ(x,S,T,I,m,4,ez[44]),I=eJ(I,x,S,T,A,11,ez[45]),T=eJ(T,I,x,S,E,16,ez[46]),S=eJ(S,T,I,x,l,23,ez[47]),x=eq(x,S,T,I,u,6,ez[48]),I=eq(I,x,S,T,g,10,ez[49]),T=eq(T,I,x,S,k,15,ez[50]),S=eq(S,T,I,x,p,21,ez[51]),x=eq(x,S,T,I,A,6,ez[52]),I=eq(I,x,S,T,f,10,ez[53]),T=eq(T,I,x,S,_,15,ez[54]),S=eq(S,T,I,x,d,21,ez[55]),x=eq(x,S,T,I,y,6,ez[56]),I=eq(I,x,S,T,E,10,ez[57]),T=eq(T,I,x,S,v,15,ez[58]),S=eq(S,T,I,x,w,21,ez[59]),x=eq(x,S,T,I,h,6,ez[60]),I=eq(I,x,S,T,b,10,ez[61]),T=eq(T,I,x,S,l,15,ez[62]),S=eq(S,T,I,x,m,21,ez[63]),c[0]=c[0]+x|0,c[1]=c[1]+S|0,c[2]=c[2]+T|0,c[3]=c[3]+I|0}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*this._nDataBytes,o=8*n.sigBytes;i[o>>>5]|=128<<24-o%32;var s=Math.floor(a/4294967296);i[15+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n.sigBytes=4*(i.length+1),this._process();for(var c=this._hash,u=c.words,d=0;d<4;d+=1){var l=u[d];u[d]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return c}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._hash=this._hash.clone(),n}}]),a}(eV),e$=eV._createHelper(eQ),e0=eV._createHmacHelper(eQ),e1=function(n){d(a,n);var i=v(a);function a(n){var s;return o(this,a),(s=i.call(this)).cfg=Object.assign(new eL,{keySize:4,hasher:eQ,iterations:1},n),s}return c(a,[{key:"compute",value:function(n,i){for(var a,o=this.cfg,s=o.hasher.create(),c=eM.create(),u=c.words,d=o.keySize,l=o.iterations;u.length<d;){a&&s.update(a),a=s.update(n).finalize(i),s.reset();for(var f=1;f<l;f+=1)a=s.finalize(a),s.reset();c.concat(a)}return c.sigBytes=4*d,c}}]),a}(eL),e2=function(n){d(a,n);var i=v(a);function a(n,s,c){var u;return o(this,a),(u=i.call(this)).cfg=Object.assign(new eL,c),u._xformMode=n,u._key=s,u.reset(),u}return c(a,[{key:"reset",value:function(){g(l(a.prototype),"reset",this).call(this),this._doReset()}},{key:"process",value:function(n){return this._append(n),this._process()}},{key:"finalize",value:function(n){return n&&this._append(n),this._doFinalize()}}],[{key:"createEncryptor",value:function(n,i){return this.create(this._ENC_XFORM_MODE,n,i)}},{key:"createDecryptor",value:function(n,i){return this.create(this._DEC_XFORM_MODE,n,i)}},{key:"_createHelper",value:function(n){var i=function(n){return"string"==typeof n?tn:tt};return{encrypt:function(a,o,s){return i(o).encrypt(n,a,o,s)},decrypt:function(a,o,s){return i(o).decrypt(n,a,o,s)}}}}]),a}(ej);e2._ENC_XFORM_MODE=1,e2._DEC_XFORM_MODE=2,e2.keySize=4,e2.ivSize=4;var e3=function(n){d(a,n);var i=v(a);function a(){var n;o(this,a);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return(n=i.call.apply(i,[this].concat(c))).blockSize=1,n}return c(a,[{key:"_doFinalize",value:function(){return this._process(!0)}}]),a}(e2),e4=function(n){d(a,n);var i=v(a);function a(n,s){var c;return o(this,a),(c=i.call(this))._cipher=n,c._iv=s,c}return c(a,null,[{key:"createEncryptor",value:function(n,i){return this.Encryptor.create(n,i)}},{key:"createDecryptor",value:function(n,i){return this.Decryptor.create(n,i)}}]),a}(eL);function e6(n,i,a){var o,s=this._iv;s?(o=s,this._iv=void 0):o=this._prevBlock;for(var c=0;c<a;c+=1)n[i+c]^=o[c]}var e7=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);e7.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize;e6.call(this,n,i,o),a.encryptBlock(n,i),this._prevBlock=n.slice(i,i+o)}}]),a}(e7),e7.Decryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize,s=n.slice(i,i+o);a.decryptBlock(n,i),e6.call(this,n,i,o),this._prevBlock=s}}]),a}(e7);var e5={pad:function(n,i){for(var a=4*i,o=a-n.sigBytes%a,s=o<<24|o<<16|o<<8|o,c=[],u=0;u<o;u+=4)c.push(s);var d=eM.create(c,o);n.concat(d)},unpad:function(n){var i=255&n.words[n.sigBytes-1>>>2];n.sigBytes-=i}},e8=function(n){d(a,n);var i=v(a);function a(n,s,c){var u;return o(this,a),(u=i.call(this,n,s,Object.assign({mode:e7,padding:e5},c))).blockSize=4,u}return c(a,[{key:"reset",value:function(){g(l(a.prototype),"reset",this).call(this);var n,i=this.cfg,o=i.iv,s=i.mode;this._xformMode===this.constructor._ENC_XFORM_MODE?n=s.createEncryptor:(n=s.createDecryptor,this._minBufferSize=1),this._mode=n.call(s,this,o&&o.words),this._mode.__creator=n}},{key:"_doProcessBlock",value:function(n,i){this._mode.processBlock(n,i)}},{key:"_doFinalize",value:function(){var n,i=this.cfg.padding;return this._xformMode===this.constructor._ENC_XFORM_MODE?(i.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),i.unpad(n)),n}}]),a}(e2),e9=function(n){d(a,n);var i=v(a);function a(n){var s;return o(this,a),(s=i.call(this)).mixIn(n),s}return c(a,[{key:"toString",value:function(n){return(n||this.formatter).stringify(this)}}]),a}(eL),te={stringify:function(n){var i=n.ciphertext,a=n.salt;return(a?eM.create([1398893684,1701076831]).concat(a).concat(i):i).toString(eW)},parse:function(n){var i,a=eW.parse(n),o=a.words;return 1398893684===o[0]&&1701076831===o[1]&&(i=eM.create(o.slice(2,4)),o.splice(0,4),a.sigBytes-=16),e9.create({ciphertext:a,salt:i})}},tt=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,null,[{key:"encrypt",value:function(n,i,a,o){var s=Object.assign(new eL,this.cfg,o),c=n.createEncryptor(a,s),u=c.finalize(i),d=c.cfg;return e9.create({ciphertext:u,key:a,iv:d.iv,algorithm:n,mode:d.mode,padding:d.padding,blockSize:c.blockSize,formatter:s.format})}},{key:"decrypt",value:function(n,i,a,o){var s=i,c=Object.assign(new eL,this.cfg,o);return s=this._parse(s,c.format),n.createDecryptor(a,c).finalize(s.ciphertext)}},{key:"_parse",value:function(n,i){return"string"==typeof n?i.parse(n,this):n}}]),a}(eL);tt.cfg=Object.assign(new eL,{format:te});var tr={execute:function(n,i,a,o){var s=o;s||(s=eM.random(8));var c=e1.create({keySize:i+a}).compute(n,s),u=eM.create(c.words.slice(i),4*a);return c.sigBytes=4*i,e9.create({key:c,iv:u,salt:s})}},tn=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,null,[{key:"encrypt",value:function(n,i,a,o){var s=Object.assign(new eL,this.cfg,o),c=s.kdf.execute(a,n.keySize,n.ivSize);s.iv=c.iv;var u=tt.encrypt.call(this,n,i,c.key,s);return u.mixIn(c),u}},{key:"decrypt",value:function(n,i,a,o){var s=i,c=Object.assign(new eL,this.cfg,o);s=this._parse(s,c.format);var u=c.kdf.execute(a,n.keySize,n.ivSize,s.salt);return c.iv=u.iv,tt.decrypt.call(this,n,s,u.key,c)}}]),a}(tt);tn.cfg=Object.assign(tt.cfg,{kdf:tr});for(var ti=function(n){return n<<8&4278255360|n>>>8&16711935},ta={stringify:function(n){for(var i=n.words,a=n.sigBytes,o=[],s=0;s<a;s+=2){var c=i[s>>>2]>>>16-s%4*8&65535;o.push(String.fromCharCode(c))}return o.join("")},parse:function(n){for(var i=n.length,a=[],o=0;o<i;o+=1)a[o>>>1]|=n.charCodeAt(o)<<16-o%2*16;return eM.create(a,2*i)}},to=[],ts=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=new eM([1732584193,4023233417,2562383102,271733878,3285377520])}},{key:"_doProcessBlock",value:function(n,i){for(var a=this._hash.words,o=a[0],s=a[1],c=a[2],u=a[3],d=a[4],l=0;l<80;l+=1){if(l<16)to[l]=0|n[i+l];else{var f=to[l-3]^to[l-8]^to[l-14]^to[l-16];to[l]=f<<1|f>>>31}var h=(o<<5|o>>>27)+d+to[l];h+=l<20?1518500249+(s&c|~s&u):l<40?1859775393+(s^c^u):l<60?(s&c|s&u|c&u)-1894007588:(s^c^u)-899497514,d=u,u=c,c=s<<30|s>>>2,s=o,o=h}a[0]=a[0]+o|0,a[1]=a[1]+s|0,a[2]=a[2]+c|0,a[3]=a[3]+u|0,a[4]=a[4]+d|0}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*this._nDataBytes,o=8*n.sigBytes;return i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=Math.floor(a/4294967296),i[15+(o+64>>>9<<4)]=a,n.sigBytes=4*i.length,this._process(),this._hash}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._hash=this._hash.clone(),n}}]),a}(eV),tc=eV._createHelper(ts),tu=eV._createHmacHelper(ts),td=[],tl=[],tf=function(n){return 4294967296*(n-(0|n))|0},th=2,tp=0;tp<64;)(function(n){for(var i=Math.sqrt(n),a=2;a<=i;a+=1)if(!(n%a))return!1;return!0})(th)&&(tp<8&&(td[tp]=tf(Math.pow(th,.5))),tl[tp]=tf(Math.pow(th,1/3)),tp+=1),th+=1;for(var tv=[],tg=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=new eM(td.slice(0))}},{key:"_doProcessBlock",value:function(n,i){for(var a=this._hash.words,o=a[0],s=a[1],c=a[2],u=a[3],d=a[4],l=a[5],f=a[6],h=a[7],p=0;p<64;p+=1){if(p<16)tv[p]=0|n[i+p];else{var v=tv[p-15],g=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,y=tv[p-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;tv[p]=g+tv[p-7]+m+tv[p-16]}var _=o&s^o&c^s&c,b=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),A=h+((d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25))+(d&l^~d&f)+tl[p]+tv[p];h=f,f=l,l=d,d=u+A|0,u=c,c=s,s=o,o=A+(b+_)|0}a[0]=a[0]+o|0,a[1]=a[1]+s|0,a[2]=a[2]+c|0,a[3]=a[3]+u|0,a[4]=a[4]+d|0,a[5]=a[5]+l|0,a[6]=a[6]+f|0,a[7]=a[7]+h|0}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*this._nDataBytes,o=8*n.sigBytes;return i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=Math.floor(a/4294967296),i[15+(o+64>>>9<<4)]=a,n.sigBytes=4*i.length,this._process(),this._hash}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._hash=this._hash.clone(),n}}]),a}(eV),ty=eV._createHelper(tg),tm=eV._createHmacHelper(tg),t_=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=new eM([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}},{key:"_doFinalize",value:function(){var n=g(l(a.prototype),"_doFinalize",this).call(this);return n.sigBytes-=4,n}}]),a}(tg),tb=tg._createHelper(t_),tA=tg._createHmacHelper(t_),tw=[new eH(1116352408,3609767458),new eH(1899447441,602891725),new eH(3049323471,3964484399),new eH(3921009573,2173295548),new eH(961987163,4081628472),new eH(1508970993,3053834265),new eH(2453635748,2937671579),new eH(2870763221,3664609560),new eH(3624381080,2734883394),new eH(310598401,1164996542),new eH(607225278,1323610764),new eH(1426881987,3590304994),new eH(1925078388,4068182383),new eH(2162078206,991336113),new eH(2614888103,633803317),new eH(3248222580,3479774868),new eH(3835390401,2666613458),new eH(4022224774,944711139),new eH(264347078,2341262773),new eH(604807628,2007800933),new eH(770255983,1495990901),new eH(1249150122,1856431235),new eH(1555081692,3175218132),new eH(1996064986,2198950837),new eH(2554220882,3999719339),new eH(2821834349,766784016),new eH(2952996808,2566594879),new eH(3210313671,3203337956),new eH(3336571891,1034457026),new eH(3584528711,2466948901),new eH(113926993,3758326383),new eH(338241895,168717936),new eH(666307205,1188179964),new eH(773529912,1546045734),new eH(1294757372,1522805485),new eH(1396182291,2643833823),new eH(1695183700,2343527390),new eH(1986661051,1014477480),new eH(2177026350,1206759142),new eH(2456956037,344077627),new eH(2730485921,1290863460),new eH(2820302411,3158454273),new eH(3259730800,3505952657),new eH(3345764771,106217008),new eH(3516065817,3606008344),new eH(3600352804,1432725776),new eH(4094571909,1467031594),new eH(275423344,851169720),new eH(430227734,3100823752),new eH(506948616,1363258195),new eH(659060556,3750685593),new eH(883997877,3785050280),new eH(958139571,3318307427),new eH(1322822218,3812723403),new eH(1537002063,2003034995),new eH(1747873779,3602036899),new eH(1955562222,1575990012),new eH(2024104815,1125592928),new eH(2227730452,2716904306),new eH(2361852424,442776044),new eH(2428436474,593698344),new eH(2756734187,3733110249),new eH(3204031479,2999351573),new eH(3329325298,3815920427),new eH(3391569614,3928383900),new eH(3515267271,566280711),new eH(3940187606,3454069534),new eH(4118630271,4000239992),new eH(116418474,1914138554),new eH(174292421,2731055270),new eH(289380356,3203993006),new eH(460393269,320620315),new eH(685471733,587496836),new eH(852142971,1086792851),new eH(1017036298,365543100),new eH(1126000580,2618297676),new eH(1288033470,3409855158),new eH(1501505948,4234509866),new eH(1607167915,987167468),new eH(1816402316,1246189591)],tk=[],tE=0;tE<80;tE+=1)tk[tE]=new eH;for(var tx=function(n){d(a,n);var i=v(a);function a(){var n;return o(this,a),(n=i.call(this)).blockSize=32,n}return c(a,[{key:"_doReset",value:function(){this._hash=new eG([new eH(1779033703,4089235720),new eH(3144134277,2227873595),new eH(1013904242,4271175723),new eH(2773480762,1595750129),new eH(1359893119,2917565137),new eH(2600822924,725511199),new eH(528734635,4215389547),new eH(1541459225,327033209)])}},{key:"_doProcessBlock",value:function(n,i){for(var a=this._hash.words,o=a[0],s=a[1],c=a[2],u=a[3],d=a[4],l=a[5],f=a[6],h=a[7],p=o.high,v=o.low,g=s.high,y=s.low,m=c.high,_=c.low,b=u.high,A=u.low,w=d.high,k=d.low,E=l.high,x=l.low,S=f.high,T=f.low,I=h.high,R=h.low,C=p,D=v,O=g,B=y,P=m,L=_,M=b,N=A,U=w,F=k,j=E,V=x,Z=S,H=T,G=I,W=R,z=0;z<80;z+=1){var Y=void 0,K=void 0,X=tk[z];if(z<16)X.high=0|n[i+2*z],K=X.high,X.low=0|n[i+2*z+1],Y=X.low;else{var J=tk[z-15],q=J.high,Q=J.low,$=(q>>>1|Q<<31)^(q>>>8|Q<<24)^q>>>7,ee=(Q>>>1|q<<31)^(Q>>>8|q<<24)^(Q>>>7|q<<25),et=tk[z-2],er=et.high,en=et.low,ei=(er>>>19|en<<13)^(er<<3|en>>>29)^er>>>6,ea=(en>>>19|er<<13)^(en<<3|er>>>29)^(en>>>6|er<<26),eo=tk[z-7],es=eo.high,ec=eo.low,eu=tk[z-16],ed=eu.high,el=eu.low;K=(K=(K=$+es+((Y=ee+ec)>>>0<ee>>>0?1:0))+ei+((Y+=ea)>>>0<ea>>>0?1:0))+ed+((Y+=el)>>>0<el>>>0?1:0),X.high=K,X.low=Y}var ef=U&j^~U&Z,eh=F&V^~F&H,ep=C&O^C&P^O&P,ev=D&B^D&L^B&L,eg=(C>>>28|D<<4)^(C<<30|D>>>2)^(C<<25|D>>>7),ey=(D>>>28|C<<4)^(D<<30|C>>>2)^(D<<25|C>>>7),em=(U>>>14|F<<18)^(U>>>18|F<<14)^(U<<23|F>>>9),e_=(F>>>14|U<<18)^(F>>>18|U<<14)^(F<<23|U>>>9),eb=tw[z],eA=eb.high,ew=eb.low,ek=W+e_,eE=G+em+(ek>>>0<W>>>0?1:0),ex=ey+ev;G=Z,W=H,Z=j,H=V,j=U,V=F,U=M+(eE=(eE=(eE=eE+ef+((ek+=eh)>>>0<eh>>>0?1:0))+eA+((ek+=ew)>>>0<ew>>>0?1:0))+K+((ek+=Y)>>>0<Y>>>0?1:0))+((F=N+ek|0)>>>0<N>>>0?1:0)|0,M=P,N=L,P=O,L=B,O=C,B=D,C=eE+(eg+ep+(ex>>>0<ey>>>0?1:0))+((D=ek+ex|0)>>>0<ek>>>0?1:0)|0}o.low=v+D,v=o.low,o.high=p+C+(v>>>0<D>>>0?1:0),s.low=y+B,y=s.low,s.high=g+O+(y>>>0<B>>>0?1:0),c.low=_+L,_=c.low,c.high=m+P+(_>>>0<L>>>0?1:0),u.low=A+N,A=u.low,u.high=b+M+(A>>>0<N>>>0?1:0),d.low=k+F,k=d.low,d.high=w+U+(k>>>0<F>>>0?1:0),l.low=x+V,x=l.low,l.high=E+j+(x>>>0<V>>>0?1:0),f.low=T+H,T=f.low,f.high=S+Z+(T>>>0<H>>>0?1:0),h.low=R+W,R=h.low,h.high=I+G+(R>>>0<W>>>0?1:0)}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*this._nDataBytes,o=8*n.sigBytes;return i[o>>>5]|=128<<24-o%32,i[30+(o+128>>>10<<5)]=Math.floor(a/4294967296),i[31+(o+128>>>10<<5)]=a,n.sigBytes=4*i.length,this._process(),this._hash.toX32()}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._hash=this._hash.clone(),n}}]),a}(eV),tS=eV._createHelper(tx),tT=eV._createHmacHelper(tx),tI=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=new eG([new eH(3418070365,3238371032),new eH(1654270250,914150663),new eH(2438529370,812702999),new eH(355462360,4144912697),new eH(1731405415,4290775857),new eH(2394180231,1750603025),new eH(3675008525,1694076839),new eH(1203062813,3204075428)])}},{key:"_doFinalize",value:function(){var n=g(l(a.prototype),"_doFinalize",this).call(this);return n.sigBytes-=16,n}}]),a}(tx),tR=tx._createHelper(tI),tC=tx._createHmacHelper(tI),tD=[],tO=[],tB=[],tP=1,tL=0,tM=0;tM<24;tM+=1){tD[tP+5*tL]=(tM+1)*(tM+2)/2%64;var tN=(2*tP+3*tL)%5;tP=tL%5,tL=tN}for(var tU=0;tU<5;tU+=1)for(var tF=0;tF<5;tF+=1)tO[tU+5*tF]=tF+(2*tU+3*tF)%5*5;for(var tj=1,tV=0;tV<24;tV+=1){for(var tZ=0,tH=0,tG=0;tG<7;tG+=1){if(1&tj){var tW=(1<<tG)-1;tW<32?tH^=1<<tW:tZ^=1<<tW-32}128&tj?tj=tj<<1^113:tj<<=1}tB[tV]=eH.create(tZ,tH)}for(var tz=[],tY=0;tY<25;tY+=1)tz[tY]=eH.create();for(var tK=function(n){d(a,n);var i=v(a);function a(n){return o(this,a),i.call(this,Object.assign({outputLength:512},n))}return c(a,[{key:"_doReset",value:function(){this._state=[];for(var n=this._state,i=0;i<25;i+=1)n[i]=new eH;this.blockSize=(1600-2*this.cfg.outputLength)/32}},{key:"_doProcessBlock",value:function(n,i){for(var a=this._state,o=this.blockSize/2,s=0;s<o;s+=1){var c=n[i+2*s],u=n[i+2*s+1];c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);var d=a[s];d.high^=u,d.low^=c}for(var l=0;l<24;l+=1){for(var f=0;f<5;f+=1){for(var h=0,p=0,v=0;v<5;v+=1){var g=a[f+5*v];h^=g.high,p^=g.low}var y=tz[f];y.high=h,y.low=p}for(var m=0;m<5;m+=1)for(var _=tz[(m+4)%5],b=tz[(m+1)%5],A=b.high,w=b.low,k=_.high^(A<<1|w>>>31),E=_.low^(w<<1|A>>>31),x=0;x<5;x+=1){var S=a[m+5*x];S.high^=k,S.low^=E}for(var T=1;T<25;T+=1){var I=void 0,R=void 0,C=a[T],D=C.high,O=C.low,B=tD[T];B<32?(I=D<<B|O>>>32-B,R=O<<B|D>>>32-B):(I=O<<B-32|D>>>64-B,R=D<<B-32|O>>>64-B);var P=tz[tO[T]];P.high=I,P.low=R}var L=tz[0],M=a[0];L.high=M.high,L.low=M.low;for(var N=0;N<5;N+=1)for(var U=0;U<5;U+=1){var F=N+5*U,j=a[F],V=tz[F],Z=tz[(N+1)%5+5*U],H=tz[(N+2)%5+5*U];j.high=V.high^~Z.high&H.high,j.low=V.low^~Z.low&H.low}var G=a[0],W=tB[l];G.high^=W.high,G.low^=W.low}}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*n.sigBytes,o=32*this.blockSize;i[a>>>5]|=1<<24-a%32,i[(Math.ceil((a+1)/o)*o>>>5)-1]|=128,n.sigBytes=4*i.length,this._process();for(var s=this._state,c=this.cfg.outputLength/8,u=c/8,d=[],l=0;l<u;l+=1){var f=s[l],h=f.high,p=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),d.push(p),d.push(h)}return new eM(d,c)}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);n._state=this._state.slice(0);for(var i=n._state,o=0;o<25;o+=1)i[o]=i[o].clone();return n}}]),a}(eV),tX=eV._createHelper(tK),tJ=eV._createHmacHelper(tK),tq=eM.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),tQ=eM.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),t$=eM.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),t0=eM.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),t1=eM.create([0,1518500249,1859775393,2400959708,2840853838]),t2=eM.create([1352829926,1548603684,1836072691,2053994217,0]),t3=function(n,i,a){return n^i^a},t4=function(n,i,a){return n&i|~n&a},t6=function(n,i,a){return(n|~i)^a},t7=function(n,i,a){return n&a|i&~a},t5=function(n,i,a){return n^(i|~a)},t8=function(n,i){return n<<i|n>>>32-i},t9=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){this._hash=eM.create([1732584193,4023233417,2562383102,271733878,3285377520])}},{key:"_doProcessBlock",value:function(n,i){for(var a=0;a<16;a+=1){var o=i+a,s=n[o];n[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}for(var c,u=this._hash.words,d=t1.words,l=t2.words,f=tq.words,h=tQ.words,p=t$.words,v=t0.words,g=u[0],y=u[1],m=u[2],_=u[3],b=u[4],A=u[0],w=u[1],k=u[2],E=u[3],x=u[4],S=0;S<80;S+=1)c=(c=t8(c=(g+n[i+f[S]]|0)+(S<16?t3(y,m,_)+d[0]:S<32?t4(y,m,_)+d[1]:S<48?t6(y,m,_)+d[2]:S<64?t7(y,m,_)+d[3]:t5(y,m,_)+d[4])|0,p[S]))+b|0,g=b,b=_,_=t8(m,10),m=y,y=c,c=(c=t8(c=(A+n[i+h[S]]|0)+(S<16?t5(w,k,E)+l[0]:S<32?t7(w,k,E)+l[1]:S<48?t6(w,k,E)+l[2]:S<64?t4(w,k,E)+l[3]:t3(w,k,E)+l[4])|0,v[S]))+x|0,A=x,x=E,E=t8(k,10),k=w,w=c;c=u[1]+m+E|0,u[1]=u[2]+_+x|0,u[2]=u[3]+b+A|0,u[3]=u[4]+g+w|0,u[4]=u[0]+y+k|0,u[0]=c}},{key:"_doFinalize",value:function(){var n=this._data,i=n.words,a=8*this._nDataBytes,o=8*n.sigBytes;i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<5;u+=1){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return s}},{key:"clone",value:function(){var n=g(l(a.prototype),"clone",this).call(this);return n._hash=this._hash.clone(),n}}]),a}(eV),re=eV._createHelper(t9),rt=eV._createHmacHelper(t9),rr=function(n){d(a,n);var i=v(a);function a(n){var s;return o(this,a),(s=i.call(this)).cfg=Object.assign(new eL,{keySize:4,hasher:ts,iterations:1},n),s}return c(a,[{key:"compute",value:function(n,i){for(var a=this.cfg,o=eZ.create(a.hasher,n),s=eM.create(),c=eM.create([1]),u=s.words,d=c.words,l=a.keySize,f=a.iterations;u.length<l;){var h=o.update(i).finalize(c);o.reset();for(var p=h.words,v=p.length,g=h,y=1;y<f;y+=1){g=o.finalize(g),o.reset();for(var m=g.words,_=0;_<v;_+=1)p[_]^=m[_]}s.concat(h),d[0]+=1}return s.sigBytes=4*l,s}}]),a}(eL),rn=[],ri=[],ra=[],ro=[],rs=[],rc=[],ru=[],rd=[],rl=[],rf=[],rh=[],rp=0;rp<256;rp+=1)rh[rp]=rp<128?rp<<1:rp<<1^283;for(var rv=0,rg=0,ry=0;ry<256;ry+=1){var rm=rg^rg<<1^rg<<2^rg<<3^rg<<4;rm=rm>>>8^255&rm^99,rn[rv]=rm,ri[rm]=rv;var r_=rh[rv],rb=rh[r_],rA=rh[rb],rw=257*rh[rm]^16843008*rm;ra[rv]=rw<<24|rw>>>8,ro[rv]=rw<<16|rw>>>16,rs[rv]=rw<<8|rw>>>24,rc[rv]=rw,rw=16843009*rA^65537*rb^257*r_^16843008*rv,ru[rm]=rw<<24|rw>>>8,rd[rm]=rw<<16|rw>>>16,rl[rm]=rw<<8|rw>>>24,rf[rm]=rw,rv?(rv=r_^rh[rh[rh[rA^r_]]],rg^=rh[rh[rg]]):rv=rg=1}var rk=[0,1,2,4,8,16,32,64,128,27,54],rE=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){var n;if(!this._nRounds||this._keyPriorReset!==this._key){this._keyPriorReset=this._key;var i=this._keyPriorReset,a=i.words,o=i.sigBytes/4;this._nRounds=o+6;var s=4*(this._nRounds+1);this._keySchedule=[];for(var c=this._keySchedule,u=0;u<s;u+=1)u<o?c[u]=a[u]:(n=c[u-1],u%o?o>6&&u%o==4&&(n=rn[n>>>24]<<24|rn[n>>>16&255]<<16|rn[n>>>8&255]<<8|rn[255&n]):n=(rn[(n=n<<8|n>>>24)>>>24]<<24|rn[n>>>16&255]<<16|rn[n>>>8&255]<<8|rn[255&n])^rk[u/o|0]<<24,c[u]=c[u-o]^n);this._invKeySchedule=[];for(var d=this._invKeySchedule,l=0;l<s;l+=1){var f=s-l;n=l%4?c[f]:c[f-4],d[l]=l<4||f<=4?n:ru[rn[n>>>24]]^rd[rn[n>>>16&255]]^rl[rn[n>>>8&255]]^rf[rn[255&n]]}}}},{key:"encryptBlock",value:function(n,i){this._doCryptBlock(n,i,this._keySchedule,ra,ro,rs,rc,rn)}},{key:"decryptBlock",value:function(n,i){var a=n[i+1];n[i+1]=n[i+3],n[i+3]=a,this._doCryptBlock(n,i,this._invKeySchedule,ru,rd,rl,rf,ri),a=n[i+1],n[i+1]=n[i+3],n[i+3]=a}},{key:"_doCryptBlock",value:function(n,i,a,o,s,c,u,d){for(var l=this._nRounds,f=n[i]^a[0],h=n[i+1]^a[1],p=n[i+2]^a[2],v=n[i+3]^a[3],g=4,y=1;y<l;y+=1){var m=o[f>>>24]^s[h>>>16&255]^c[p>>>8&255]^u[255&v]^a[g];g+=1;var _=o[h>>>24]^s[p>>>16&255]^c[v>>>8&255]^u[255&f]^a[g];g+=1;var b=o[p>>>24]^s[v>>>16&255]^c[f>>>8&255]^u[255&h]^a[g];g+=1;var A=o[v>>>24]^s[f>>>16&255]^c[h>>>8&255]^u[255&p]^a[g];g+=1,f=m,h=_,p=b,v=A}var w=(d[f>>>24]<<24|d[h>>>16&255]<<16|d[p>>>8&255]<<8|d[255&v])^a[g];g+=1;var k=(d[h>>>24]<<24|d[p>>>16&255]<<16|d[v>>>8&255]<<8|d[255&f])^a[g];g+=1;var E=(d[p>>>24]<<24|d[v>>>16&255]<<16|d[f>>>8&255]<<8|d[255&h])^a[g];g+=1;var x=(d[v>>>24]<<24|d[f>>>16&255]<<16|d[h>>>8&255]<<8|d[255&p])^a[g];g+=1,n[i]=w,n[i+1]=k,n[i+2]=E,n[i+3]=x}}]),a}(e8);rE.keySize=8;var rx=e8._createHelper(rE),rS=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],rT=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],rI=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],rR=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],rC=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function rD(n,i){var a=(this._lBlock>>>n^this._rBlock)&i;this._rBlock^=a,this._lBlock^=a<<n}function rO(n,i){var a=(this._rBlock>>>n^this._lBlock)&i;this._lBlock^=a,this._rBlock^=a<<n}var rB=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){for(var n=this._key.words,i=[],a=0;a<56;a+=1){var o=rS[a]-1;i[a]=n[o>>>5]>>>31-o%32&1}this._subKeys=[];for(var s=this._subKeys,c=0;c<16;c+=1){s[c]=[];for(var u=s[c],d=rI[c],l=0;l<24;l+=1)u[l/6|0]|=i[(rT[l]-1+d)%28]<<31-l%6,u[4+(l/6|0)]|=i[28+(rT[l+24]-1+d)%28]<<31-l%6;u[0]=u[0]<<1|u[0]>>>31;for(var f=1;f<7;f+=1)u[f]>>>=4*(f-1)+3;u[7]=u[7]<<5|u[7]>>>27}this._invSubKeys=[];for(var h=this._invSubKeys,p=0;p<16;p+=1)h[p]=s[15-p]}},{key:"encryptBlock",value:function(n,i){this._doCryptBlock(n,i,this._subKeys)}},{key:"decryptBlock",value:function(n,i){this._doCryptBlock(n,i,this._invSubKeys)}},{key:"_doCryptBlock",value:function(n,i,a){this._lBlock=n[i],this._rBlock=n[i+1],rD.call(this,4,252645135),rD.call(this,16,65535),rO.call(this,2,858993459),rO.call(this,8,16711935),rD.call(this,1,1431655765);for(var o=0;o<16;o+=1){for(var s=a[o],c=this._lBlock,u=this._rBlock,d=0,l=0;l<8;l+=1)d|=rR[l][((u^s[l])&rC[l])>>>0];this._lBlock=u,this._rBlock=c^d}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,rD.call(this,1,1431655765),rO.call(this,8,16711935),rO.call(this,2,858993459),rD.call(this,16,65535),rD.call(this,4,252645135),n[i]=this._lBlock,n[i+1]=this._rBlock}}]),a}(e8);rB.keySize=2,rB.ivSize=2,rB.blockSize=2;var rP=e8._createHelper(rB),rL=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){var n=this._key.words;if(2!==n.length&&4!==n.length&&n.length<6)throw Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var i=n.slice(0,2),a=n.length<4?n.slice(0,2):n.slice(2,4),o=n.length<6?n.slice(0,2):n.slice(4,6);this._des1=rB.createEncryptor(eM.create(i)),this._des2=rB.createEncryptor(eM.create(a)),this._des3=rB.createEncryptor(eM.create(o))}},{key:"encryptBlock",value:function(n,i){this._des1.encryptBlock(n,i),this._des2.decryptBlock(n,i),this._des3.encryptBlock(n,i)}},{key:"decryptBlock",value:function(n,i){this._des3.decryptBlock(n,i),this._des2.encryptBlock(n,i),this._des1.decryptBlock(n,i)}}]),a}(e8);rL.keySize=6,rL.ivSize=2,rL.blockSize=2;var rM=e8._createHelper(rL),rN=[],rU=[],rF=[];function rj(){for(var n=this._X,i=this._C,a=0;a<8;a+=1)rU[a]=i[a];i[0]=i[0]+1295307597+this._b|0,i[1]=i[1]+3545052371+(i[0]>>>0<rU[0]>>>0?1:0)|0,i[2]=i[2]+886263092+(i[1]>>>0<rU[1]>>>0?1:0)|0,i[3]=i[3]+1295307597+(i[2]>>>0<rU[2]>>>0?1:0)|0,i[4]=i[4]+3545052371+(i[3]>>>0<rU[3]>>>0?1:0)|0,i[5]=i[5]+886263092+(i[4]>>>0<rU[4]>>>0?1:0)|0,i[6]=i[6]+1295307597+(i[5]>>>0<rU[5]>>>0?1:0)|0,i[7]=i[7]+3545052371+(i[6]>>>0<rU[6]>>>0?1:0)|0,this._b=i[7]>>>0<rU[7]>>>0?1:0;for(var o=0;o<8;o+=1){var s=n[o]+i[o],c=65535&s,u=s>>>16,d=((c*c>>>17)+c*u>>>15)+u*u,l=((4294901760&s)*s|0)+((65535&s)*s|0);rF[o]=d^l}n[0]=rF[0]+(rF[7]<<16|rF[7]>>>16)+(rF[6]<<16|rF[6]>>>16)|0,n[1]=rF[1]+(rF[0]<<8|rF[0]>>>24)+rF[7]|0,n[2]=rF[2]+(rF[1]<<16|rF[1]>>>16)+(rF[0]<<16|rF[0]>>>16)|0,n[3]=rF[3]+(rF[2]<<8|rF[2]>>>24)+rF[1]|0,n[4]=rF[4]+(rF[3]<<16|rF[3]>>>16)+(rF[2]<<16|rF[2]>>>16)|0,n[5]=rF[5]+(rF[4]<<8|rF[4]>>>24)+rF[3]|0,n[6]=rF[6]+(rF[5]<<16|rF[5]>>>16)+(rF[4]<<16|rF[4]>>>16)|0,n[7]=rF[7]+(rF[6]<<8|rF[6]>>>24)+rF[5]|0}var rV=function(n){d(a,n);var i=v(a);function a(){var n;o(this,a);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return(n=i.call.apply(i,[this].concat(c))).blockSize=4,n.ivSize=2,n}return c(a,[{key:"_doReset",value:function(){for(var n=this._key.words,i=this.cfg.iv,a=0;a<4;a+=1)n[a]=16711935&(n[a]<<8|n[a]>>>24)|4278255360&(n[a]<<24|n[a]>>>8);this._X=[n[0],n[3]<<16|n[2]>>>16,n[1],n[0]<<16|n[3]>>>16,n[2],n[1]<<16|n[0]>>>16,n[3],n[2]<<16|n[1]>>>16];var o=this._X;this._C=[n[2]<<16|n[2]>>>16,4294901760&n[0]|65535&n[1],n[3]<<16|n[3]>>>16,4294901760&n[1]|65535&n[2],n[0]<<16|n[0]>>>16,4294901760&n[2]|65535&n[3],n[1]<<16|n[1]>>>16,4294901760&n[3]|65535&n[0]];var s=this._C;this._b=0;for(var c=0;c<4;c+=1)rj.call(this);for(var u=0;u<8;u+=1)s[u]^=o[u+4&7];if(i){var d=i.words,l=d[0],f=d[1],h=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),v=h>>>16|4294901760&p,g=p<<16|65535&h;s[0]^=h,s[1]^=v,s[2]^=p,s[3]^=g,s[4]^=h,s[5]^=v,s[6]^=p,s[7]^=g;for(var y=0;y<4;y+=1)rj.call(this)}}},{key:"_doProcessBlock",value:function(n,i){var a=this._X;rj.call(this),rN[0]=a[0]^a[5]>>>16^a[3]<<16,rN[1]=a[2]^a[7]>>>16^a[5]<<16,rN[2]=a[4]^a[1]>>>16^a[7]<<16,rN[3]=a[6]^a[3]>>>16^a[1]<<16;for(var o=0;o<4;o+=1)rN[o]=16711935&(rN[o]<<8|rN[o]>>>24)|4278255360&(rN[o]<<24|rN[o]>>>8),n[i+o]^=rN[o]}}]),a}(e3),rZ=e3._createHelper(rV),rH=[],rG=[],rW=[];function rz(){for(var n=this._X,i=this._C,a=0;a<8;a+=1)rG[a]=i[a];i[0]=i[0]+1295307597+this._b|0,i[1]=i[1]+3545052371+(i[0]>>>0<rG[0]>>>0?1:0)|0,i[2]=i[2]+886263092+(i[1]>>>0<rG[1]>>>0?1:0)|0,i[3]=i[3]+1295307597+(i[2]>>>0<rG[2]>>>0?1:0)|0,i[4]=i[4]+3545052371+(i[3]>>>0<rG[3]>>>0?1:0)|0,i[5]=i[5]+886263092+(i[4]>>>0<rG[4]>>>0?1:0)|0,i[6]=i[6]+1295307597+(i[5]>>>0<rG[5]>>>0?1:0)|0,i[7]=i[7]+3545052371+(i[6]>>>0<rG[6]>>>0?1:0)|0,this._b=i[7]>>>0<rG[7]>>>0?1:0;for(var o=0;o<8;o+=1){var s=n[o]+i[o],c=65535&s,u=s>>>16,d=((c*c>>>17)+c*u>>>15)+u*u,l=((4294901760&s)*s|0)+((65535&s)*s|0);rW[o]=d^l}n[0]=rW[0]+(rW[7]<<16|rW[7]>>>16)+(rW[6]<<16|rW[6]>>>16)|0,n[1]=rW[1]+(rW[0]<<8|rW[0]>>>24)+rW[7]|0,n[2]=rW[2]+(rW[1]<<16|rW[1]>>>16)+(rW[0]<<16|rW[0]>>>16)|0,n[3]=rW[3]+(rW[2]<<8|rW[2]>>>24)+rW[1]|0,n[4]=rW[4]+(rW[3]<<16|rW[3]>>>16)+(rW[2]<<16|rW[2]>>>16)|0,n[5]=rW[5]+(rW[4]<<8|rW[4]>>>24)+rW[3]|0,n[6]=rW[6]+(rW[5]<<16|rW[5]>>>16)+(rW[4]<<16|rW[4]>>>16)|0,n[7]=rW[7]+(rW[6]<<8|rW[6]>>>24)+rW[5]|0}var rY=function(n){d(a,n);var i=v(a);function a(){var n;o(this,a);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return(n=i.call.apply(i,[this].concat(c))).blockSize=4,n.ivSize=2,n}return c(a,[{key:"_doReset",value:function(){var n=this._key.words,i=this.cfg.iv;this._X=[n[0],n[3]<<16|n[2]>>>16,n[1],n[0]<<16|n[3]>>>16,n[2],n[1]<<16|n[0]>>>16,n[3],n[2]<<16|n[1]>>>16];var a=this._X;this._C=[n[2]<<16|n[2]>>>16,4294901760&n[0]|65535&n[1],n[3]<<16|n[3]>>>16,4294901760&n[1]|65535&n[2],n[0]<<16|n[0]>>>16,4294901760&n[2]|65535&n[3],n[1]<<16|n[1]>>>16,4294901760&n[3]|65535&n[0]];var o=this._C;this._b=0;for(var s=0;s<4;s+=1)rz.call(this);for(var c=0;c<8;c+=1)o[c]^=a[c+4&7];if(i){var u=i.words,d=u[0],l=u[1],f=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=f>>>16|4294901760&h,v=h<<16|65535&f;o[0]^=f,o[1]^=p,o[2]^=h,o[3]^=v,o[4]^=f,o[5]^=p,o[6]^=h,o[7]^=v;for(var g=0;g<4;g+=1)rz.call(this)}}},{key:"_doProcessBlock",value:function(n,i){var a=this._X;rz.call(this),rH[0]=a[0]^a[5]>>>16^a[3]<<16,rH[1]=a[2]^a[7]>>>16^a[5]<<16,rH[2]=a[4]^a[1]>>>16^a[7]<<16,rH[3]=a[6]^a[3]>>>16^a[1]<<16;for(var o=0;o<4;o+=1)rH[o]=16711935&(rH[o]<<8|rH[o]>>>24)|4278255360&(rH[o]<<24|rH[o]>>>8),n[i+o]^=rH[o]}}]),a}(e3),rK=e3._createHelper(rY);function rX(){for(var n=this._S,i=this._i,a=this._j,o=0,s=0;s<4;s+=1){a=(a+n[i=(i+1)%256])%256;var c=n[i];n[i]=n[a],n[a]=c,o|=n[(n[i]+n[a])%256]<<24-8*s}return this._i=i,this._j=a,o}var rJ=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"_doReset",value:function(){var n=this._key,i=n.words,a=n.sigBytes;this._S=[];for(var o=this._S,s=0;s<256;s+=1)o[s]=s;for(var c=0,u=0;c<256;c+=1){var d=c%a,l=i[d>>>2]>>>24-d%4*8&255;u=(u+o[c]+l)%256;var f=o[c];o[c]=o[u],o[u]=f}this._j=0,this._i=this._j}},{key:"_doProcessBlock",value:function(n,i){n[i]^=rX.call(this)}}]),a}(e3);rJ.keySize=8,rJ.ivSize=0;var rq=e3._createHelper(rJ),rQ=function(n){d(a,n);var i=v(a);function a(){var n;o(this,a);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return Object.assign((n=i.call.apply(i,[this].concat(c))).cfg,{drop:192}),n}return c(a,[{key:"_doReset",value:function(){g(l(a.prototype),"_doReset",this).call(this);for(var n=this.cfg.drop;n>0;n-=1)rX.call(this)}}]),a}(rJ),r$=e3._createHelper(rQ);function r0(n,i,a,o){var s,c=this._iv;c?(s=c.slice(0),this._iv=void 0):s=this._prevBlock,o.encryptBlock(s,0);for(var u=0;u<a;u+=1)n[i+u]^=s[u]}var r1=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);r1.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize;r0.call(this,n,i,o,a),this._prevBlock=n.slice(i,i+o)}}]),a}(r1),r1.Decryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize,s=n.slice(i,i+o);r0.call(this,n,i,o,a),this._prevBlock=s}}]),a}(r1);var r2=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);r2.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize,s=this._iv,c=this._counter;s&&(this._counter=s.slice(0),c=this._counter,this._iv=void 0);var u=c.slice(0);a.encryptBlock(u,0),c[o-1]=c[o-1]+1|0;for(var d=0;d<o;d+=1)n[i+d]^=u[d]}}]),a}(r2),r2.Decryptor=r2.Encryptor;var r3=function(n){var i=n;if(255==(n>>24&255)){var a=n>>16&255,o=n>>8&255,s=255&n;255===a?(a=0,255===o?(o=0,255===s?s=0:s+=1):o+=1):a+=1,i=0+(a<<16)+(o<<8)+s}else i+=16777216;return i},r4=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);r4.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a,o=this._cipher,s=o.blockSize,c=this._iv,u=this._counter;c&&(this._counter=c.slice(0),u=this._counter,this._iv=void 0),(a=u)[0]=r3(a[0]),0===a[0]&&(a[1]=r3(a[1]));var d=u.slice(0);o.encryptBlock(d,0);for(var l=0;l<s;l+=1)n[i+l]^=d[l]}}]),a}(r4),r4.Decryptor=r4.Encryptor;var r6=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);r6.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){this._cipher.encryptBlock(n,i)}}]),a}(r6),r6.Decryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){this._cipher.decryptBlock(n,i)}}]),a}(r6);var r7=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a)}(e4);r7.Encryptor=function(n){d(a,n);var i=v(a);function a(){return o(this,a),i.apply(this,arguments)}return c(a,[{key:"processBlock",value:function(n,i){var a=this._cipher,o=a.blockSize,s=this._iv,c=this._keystream;s&&(this._keystream=s.slice(0),c=this._keystream,this._iv=void 0),a.encryptBlock(c,0);for(var u=0;u<o;u+=1)n[i+u]^=c[u]}}]),a}(r7),r7.Decryptor=r7.Encryptor;var r5={pad:function(n,i){var a=4*i;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1;a>=0;a-=1)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r8={lib:{Base:eL,WordArray:eM,BufferedBlockAlgorithm:ej,Hasher:eV,Cipher:e2,StreamCipher:e3,BlockCipherMode:e4,BlockCipher:e8,CipherParams:e9,SerializableCipher:tt,PasswordBasedCipher:tn},x64:{Word:eH,WordArray:eG},enc:{Hex:eN,Latin1:eU,Utf8:eF,Utf16:ta,Utf16BE:ta,Utf16LE:{stringify:function(n){for(var i=n.words,a=n.sigBytes,o=[],s=0;s<a;s+=2){var c=ti(i[s>>>2]>>>16-s%4*8&65535);o.push(String.fromCharCode(c))}return o.join("")},parse:function(n){for(var i=n.length,a=[],o=0;o<i;o+=1)a[o>>>1]|=ti(n.charCodeAt(o)<<16-o%2*16);return eM.create(a,2*i)}},Base64:eW},algo:{HMAC:eZ,MD5:eQ,SHA1:ts,SHA224:t_,SHA256:tg,SHA384:tI,SHA512:tx,SHA3:tK,RIPEMD160:t9,PBKDF2:rr,EvpKDF:e1,AES:rE,DES:rB,TripleDES:rL,Rabbit:rV,RabbitLegacy:rY,RC4:rJ,RC4Drop:rQ},mode:{CBC:e7,CFB:r1,CTR:r2,CTRGladman:r4,ECB:r6,OFB:r7},pad:{Pkcs7:e5,AnsiX923:{pad:function(n,i){var a=n.sigBytes,o=4*i,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=255&n.words[n.sigBytes-1>>>2];n.sigBytes-=i}},Iso10126:{pad:function(n,i){var a=4*i,o=a-n.sigBytes%a;n.concat(eM.random(o-1)).concat(eM.create([o<<24],1))},unpad:function(n){var i=255&n.words[n.sigBytes-1>>>2];n.sigBytes-=i}},Iso97971:{pad:function(n,i){n.concat(eM.create([2147483648],1)),r5.pad(n,i)},unpad:function(n){r5.unpad(n),n.sigBytes-=1}},NoPadding:{pad:function(){},unpad:function(){}},ZeroPadding:r5},format:{OpenSSL:te,Hex:{stringify:function(n){return n.ciphertext.toString(eN)},parse:function(n){var i=eN.parse(n);return e9.create({ciphertext:i})}}},kdf:{OpenSSL:tr},MD5:e$,HmacMD5:e0,SHA1:tc,HmacSHA1:tu,SHA224:tb,HmacSHA224:tA,SHA256:ty,HmacSHA256:tm,SHA384:tR,HmacSHA384:tC,SHA512:tS,HmacSHA512:tT,SHA3:tX,HmacSHA3:tJ,RIPEMD160:re,HmacRIPEMD160:rt,PBKDF2:function(n,i,a){return rr.create(a).compute(n,i)},EvpKDF:function(n,i,a){return e1.create(a).compute(n,i)},AES:rx,DES:rP,TripleDES:rM,Rabbit:rZ,RabbitLegacy:rK,RC4:rq,RC4Drop:r$};function r9(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"!=typeof document&&n){if(i&&window[n])return window[n];var a,o={},s=function(n,i){var a="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=m(n))){a&&(n=a);var o=0,s=function(){};return{s:s,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,d=!1;return{s:function(){a=a.call(n)},n:function(){var n=a.next();return u=n.done,n},e:function(n){d=!0,c=n},f:function(){try{u||null==a.return||a.return()}finally{if(d)throw c}}}}(document.cookie?document.cookie.split("; "):[]);try{for(s.s();!(a=s.n()).done;){var c=a.value.split("="),u=c.slice(1).join("=");try{var d=c[0];if(o[d]=u,n===d)break}catch(n){}}}catch(n){s.e(n)}finally{s.f()}var l=n?o[n]:o;return n&&i&&(window[n]=l),l}}function ne(n,i,a){if("undefined"!=typeof document){"number"==typeof(a=Object.assign({},a,{path:"/"})).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString());var o="";for(var s in a)a[s]&&(o+="; ".concat(s),!0!==a[s]&&(o+="= ".concat(a[s].split(";")[0])));return document.cookie="".concat(n,"=").concat(i).concat(o)}}n.WEB_ID_KEY=void 0,n.UIFID_COOKIE_NAME=void 0,n.UIFID_TEMP_COOKIE_NAME=void 0,n.FP_COOKIE_NAME=void 0,n.UA_COOKIE_NAME=void 0,n.FID_NAME=void 0,n.SIGN=void 0,n.FP_SECRET_KEY=void 0,n.MAX_AGE=void 0,n.UIFID_SECRET_KEY=void 0,function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function(n,i,a,o,s){var c,l,f,h,p=-1,v=[],g=null,y=[i];for(l=Math.min(i.length,0),f=0;f<l;++f)y.push(i[f]);y.p=o;for(var m=[];;)try{switch(u[n++]){case 22:c=u[n++],v[++p]=c<<24>>24;break;case 47:c=(u[n]<<8)+u[n+1],n+=2,v[++p]=c<<16>>16;break;case 1:c=(u[n]<<8)+u[n+1],n+=2,v[++p]=d[c];break;case 75:v[++p]=void 0;break;case 15:for(l=u[n++],f=u[n++],h=y;l>0;--l)h=h.p;h[f]=v[p--];break;case 2:l=v[p--],v[p]*=l;break;case 58:for(l=v[p--],f=null;h=m.pop();)if(2===h[0]||3===h[0]){f=h;break}if(f)n=f[2],f[0]=0,m.push(f);else{if(!g)return l;n=g[1],g[2],y=g[3],m=g[4],v[++p]=l,g=g[0]}break;default:throw Error("ioe")}}catch(i){for(;(c=m.pop())&&!c[0];);if(!c){t:for(;g;){for(l=g[4];c=l.pop();)if(c[0])break t;g=g[0]}if(!g)throw i;n=g[1],g[2],y=g[3],m=g[4],g=g[0]}1===(l=c[0])?(n=c[2],c[0]=0,m.push(c),v[++p]=i):2===l?(n=c[2],c[0]=0,m.push(c)):(n=c[3],c[0]=2,m.push(c),v[++p]=i)}}(l,[],0,i)}("504B0101154504e500000000e40645160000004b0100000f01000100010f01010100020f01020100030f01030100040f01040100050f01050100060f01060100070f01072f0190161802163c02163c022f03e8020f01080100080f01094b3a000909273c312021242b262005100c030c010a100c030c011a110008150423352e740423352e7708273c31201a232c2109273c31201a362c222b10273c31201a232c2b22203735372c2b312021702320717d7121277276237075242772737d7d777472212773772620742177",{get 0(){return n.WEB_ID_KEY},set 0(r){n.WEB_ID_KEY=r},get 1(){return n.UIFID_COOKIE_NAME},set 1(r){n.UIFID_COOKIE_NAME=r},get 2(){return n.UIFID_TEMP_COOKIE_NAME},set 2(r){n.UIFID_TEMP_COOKIE_NAME=r},get 3(){return n.FP_COOKIE_NAME},set 3(r){n.FP_COOKIE_NAME=r},get 4(){return n.UA_COOKIE_NAME},set 4(r){n.UA_COOKIE_NAME=r},get 5(){return n.FID_NAME},set 5(r){n.FID_NAME=r},get 6(){return n.SIGN},set 6(r){n.SIGN=r},get 7(){return n.FP_SECRET_KEY},set 7(r){n.FP_SECRET_KEY=r},get 8(){return n.MAX_AGE},set 8(r){n.MAX_AGE=r},get 9(){return n.UIFID_SECRET_KEY},set 9(r){n.UIFID_SECRET_KEY=r}}),n.preProcessUrl=void 0,n.generateFingerprint=void 0,n.removeUifidCookie=void 0,function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[],d=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var l=parseInt(n.slice(16,24),16),f=2*parseInt(n.slice(32,40),16);for(s=40;s<f+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var h=f+40,p=parseInt(n.slice(h,h+4),16);for(h+=4,s=0;s<p;++s){var v=o(n,h);h+=2*v[0];for(var g="",y=0;y<v[1];++y){var m=o(n,h);g+=String.fromCharCode(c^m[1]),h+=2*m[0]}d.push(g)}i.p=null,function n(i,a,o,s,c){var l,f,h,p,v,g=-1,y=[],m=null,_=[a];for(f=Math.min(a.length,o),h=0;h<f;++h)_.push(a[h]);_.p=s;for(var b=[];;)try{switch(u[i++]){case 54:y[++g]=!0;break;case 11:y[++g]=null;break;case 22:l=u[i++],y[++g]=l<<24>>24;break;case 61:l=((l=((l=u[i++])<<8)+u[i++])<<8)+u[i++],y[++g]=(l<<8)+u[i++];break;case 1:l=(u[i]<<8)+u[i+1],i+=2,y[++g]=d[l];break;case 75:y[++g]=void 0;break;case 42:y[++g]={};break;case 32:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],h=y[g--],y[g][f]=h;break;case 16:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;y[++g]=p[h];break;case 5:l=(u[i]<<8)+u[i+1],i+=2,f=d[l],y[g]=y[g][f];break;case 74:f=y[g--],y[g]=y[g][f];break;case 15:for(f=u[i++],h=u[i++],p=_;f>0;--f)p=p.p;p[h]=y[g--];break;case 48:f=y[g--],h=y[g--],p=y[g--],h[f]=p;break;case 18:for(f=u[i++],h=u[i++],p=_,p=_;f>0;--f)p=p.p;y[++g]=p,y[++g]=h;break;case 73:f=y[g--],y[g]+=f;break;case 44:f=y[g--],y[g]-=f;break;case 45:y[g]=-y[g];break;case 65:f=y[g--],y[g]=y[g]===f;break;case 60:f=y[g--],y[g]=y[g]!==f;break;case 39:f=y[g--],y[g]=y[g]>f;break;case 38:y[g]=!y[g];break;case 50:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?--g:i+=l;break;case 8:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,y[g]?i+=l:--g;break;case 37:f=y[g--],(h=y[g--])[f]=y[g];break;case 67:y[g]=void 0;break;case 13:y[g]=typeof y[g];break;case 66:l=u[i++],f=y[g--],(h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)})._v=[f,l,_],h._u=n,y[++g]=h;break;case 34:l=u[i++],f=y[g--],(p=[h=function n(){var i=n._v;return(0,n._u)(i[0],arguments,i[1],i[2],this)}]).p=_,h._v=[f,l,p],h._u=n,y[++g]=h;break;case 58:for(f=y[g--],h=null;p=b.pop();)if(2===p[0]||3===p[0]){h=p;break}if(h)i=h[2],h[0]=0,b.push(h);else{if(!m)return f;i=m[1],c=m[2],_=m[3],b=m[4],y[++g]=f,m=m[0]}break;case 12:g-=l=u[i++],h=y.slice(g+1,g+l+1),f=y[g--],p=y[g--],f._u===n?(f=f._v,m=[m,i,c,_,b],i=f[0],null==p&&(p=function(){return this}()),c=p,(_=[h].concat(h)).length=Math.min(f[1],l)+1,_.p=f[2],b=[]):(v=f.apply(p,h),y[++g]=v);break;case 53:for(l=u[i++],p=[void 0],v=l;v>0;--v)p[v]=y[g--];h=y[g--],v=new(f=Function.bind.apply(h,p)),y[++g]=v;break;case 59:i+=2+(l=(l=(u[i]<<8)+u[i+1])<<16>>16);break;case 17:l=(l=(u[i]<<8)+u[i+1])<<16>>16,i+=2,(f=y[g--])||(i+=l);break;case 49:--g;break;case 56:f=y[g],y[++g]=f;break;default:throw Error("ioe")}}catch(n){for(;(l=b.pop())&&!l[0];);if(!l){t:for(;m;){for(f=m[4];l=f.pop();)if(l[0])break t;m=m[0]}if(!m)throw n;i=m[1],c=m[2],_=m[3],b=m[4],m=m[0]}1===(f=l[0])?(i=l[2],l[0]=0,b.push(l),y[++g]=n):2===f?(i=l[2],l[0]=0,b.push(l)):(i=l[3],l[0]=2,b.push(l),y[++g]=n)}}(l,[],0,i,a)}("504B0101154504e50000070ce406451600000768100001261100082a1000012000003a100200380500011000010c0111001b1000010f00032a100003380500023d0000004a42010c012000003a2a0b1001011000011000020c022000003a0b1003090b1003092a1000010c022a2a0b1002011000010500030800030100041001020c022000030c033a0b1001061000010c010f00041000040500050f00051000040500060f00061000040500070f00071000040500080f00081000020b3c3200071000021600433c3200061000020500091100041000013a1000072608000410000626080004100008261100041000013a1002010d01000a3c0f00090b10021410000511000610020e3b000310020d1000090c020f000a10000a11000610000a3b001910000932001310020110000511000610020e3b000310020d4a0f000a10000a261100041000013a10000932000710020101000b4a1100200b1001021000012a1000082000081000052000051000062000061000020c033a0b10010510000a1000060c020f000b0b10021410020f1000090c020f000c1000091100691002011002134a0f000d10000d2611004f10000c11003310020b3805000c10020b05000d3805000e10000c1002100c023805000f10020b0500100500110c010c013805000f0c003b00031600430f000d10000d11000a10000d10020110021330160110020101000b301000020800012a0f000e10000e0500120f000f10000e0500130f001010000f11000f0b10010410000f1000090c023b00031600430f001110001011000f0b1001041000101000090c023b00031600430f00120b1001031000012a12000325310b1002081000031000080100043805001410000a0100150c023805001410000b0c010c03310b10020810000301001610000d0c03310b1002081000030100171000110c03310b1002081000030100181000120c03311000030c023a1000020500080f00051000020500050f00061000020500060f000710020110000611000610020e3b000310020d4a0f00080b1001051000081000070c020f00091002011002134a0f000a1000030800012a0f000b10000b0500120f000c10000b0500130f000d10020110000c4a0f000e10020110000d4a0f000f0b1001031000012a12000425310b100208100004100005010004380500141000080100150c02380500141000090c010c03310b10020810000401001610000a0c03310b10020810000401001710000e0c03310b10020810000401001810000f0c03311000040c023a0100040f0003100202380500191000020c013805001a3d0000040c42010c010f00041000043805001b3d0000041442020c01311000013805001f0100200c0116012d2711001c0100043805001410000101001e0c02380500141000030c013a3b0019010004380500141000010100200c02380500141000030c013a4b3a1001021000014a3a1001021000014a1100441001030100043805001410000101001c0c02380500141001021000014a0c013805001410000210010405001d16012c411100060100043b000301001e0c014912010325314b3a0100040f000310000211000a1003011000014a0f00031000032611001f10030b3805000c1000010c013805000f0c000f0003100003100301100001301000033a10030b3805000c010004380500141000010c01380500141000020c013805001410030c0c010c013805000f0c003a0b10021410020f0c010f0001100001110039100203380500212a12000225310b10020810000210020f1000010c03310b1002081000021002110b1002141002110c010c03311000020c013a1002033d0000052a420135013a0b10030a0c000f0002100002380500223d0000056042010c01380500223d0000056a42010c013805002c3d0000063242000c01314b3a100001380500230c003a1000010500240f000310040b05000d380500251000031004100c023805000f0c000f00040b10041510040f1000042a100404100404380500260c001004124935012000270100282000293620002a0c033110040b3805000c10040505002b0c013805000f0c000f00050b1004151004111000052a100404100404380500260c001004124935012000270100282000293620002a0c03310b1001012a12000225310b10040810000210040f1000040c03310b1004081000021004111000050c03311000020c01314b3a0b1001012a12000125310b10040810000110040f0100040c03310b1004081000011004110100040c03311000010c01314b3a0b10021510020d0100042a16012d2000270c03310b10021510020e0100042a16012d2000270c03314b3a1000013805002d1000013805001f0100200c011601490c013805002e01001e0c010f00022a0f0003100002380500023d000006cb42010c01311000033a1000013805002e01001c0c010f00020b10030710000216020c020f000310000316004a0f000410000316014a0f00050b1003061000050c01100103100004304b3a3d0000000042020f01163d0000007542020f00013d000002ad42030f00023d0000038f42020f00033d000004d242000f01173d0000066442000f01183d0000068e42010f00063d0000046422020f00043d000004a422020f00054b3a002f03303729072c36043737243c032824350336372600043120283506203d352c372009362c222b243130372002312e0a2c36032429292724262e09302b2120232c2b2021101a362c222b23372a282820282a373c1a030801700304001607212026373c353108312a1631372c2b2203202b26041031237d053220270c2106303620370c2106262a2b262431016803232c2103322c2103302c21042e203c3606232c2931203707232a370024262d01780629202b22312d0163072c2b21203d0a23017a073720362a29332004312d202b0322203109332c362c312a370c2107202b26373c3531032b2a3207203d352c372036042b2a2b200836242820162c31200636202630372009303620370422202b3105262431262d0536292c2620053635292c31",{0:Array,get 1(){return"undefined"!=typeof window?window:void 0},2:Object,3:Promise,4:Date,get 5(){return navigator},6:decodeURIComponent,get 7(){return y},get 8(){return u},get 9(){return a},get 10(){return eP},get 11(){return r8},get 12(){return n.WEB_ID_KEY},get 13(){return n.UIFID_COOKIE_NAME},get 14(){return n.UIFID_TEMP_COOKIE_NAME},get 15(){return n.FP_COOKIE_NAME},get 16(){return n.FP_SECRET_KEY},get 17(){return n.UA_COOKIE_NAME},get 18(){return n.MAX_AGE},get 19(){return n.FID_NAME},get 20(){return r9},get 21(){return ne},get 22(){return n.preProcessUrl},set 22(r){n.preProcessUrl=r},get 23(){return n.generateFingerprint},set 23(r){n.generateFingerprint=r},get 24(){return n.removeUifidCookie},set 24(r){n.removeUifidCookie=r}},void 0),function(n,i,a){function o(n,i){var a=parseInt(n.slice(i,i+2),16);return a>>>7==0?[1,a]:a>>>6==2?[2,a=((63&a)<<8)+parseInt(n.slice(i+2,i+4),16)]:[3,a=((63&a)<<16)+parseInt(n.slice(i+2,i+6),16)]}var s,c=0,u=[];for(s=0;s<4;++s)c+=(3&parseInt(n.slice(8+2*s,10+2*s),16))<<2*s;var d=parseInt(n.slice(16,24),16),l=2*parseInt(n.slice(32,40),16);for(s=40;s<l+40;s+=2)u.push(parseInt(n.slice(s,s+2),16));var f=l+40,h=parseInt(n.slice(f,f+4),16);for(f+=4,s=0;s<h;++s){var p=o(n,f);f+=2*p[0];for(var v=0;v<p[1];++v){var g=o(n,f);String.fromCharCode(c^g[1]),f+=2*g[0]}}i.p=null,function(n,i,a,o,s){var c,d,l,f,h=-1,p=[],v=null,g=[i];for(d=Math.min(i.length,0),l=0;l<d;++l)g.push(i[l]);g.p=o;for(var y=[];;)try{switch(u[n++]){case 75:p[++h]=void 0;break;case 58:for(d=p[h--],l=null;f=y.pop();)if(2===f[0]||3===f[0]){l=f;break}if(l)n=l[2],l[0]=0,y.push(l);else{if(!v)return d;n=v[1],v[2],g=v[3],y=v[4],p[++h]=d,v=v[0]}break;default:throw Error("ioe")}}catch(i){for(;(c=y.pop())&&!c[0];);if(!c){t:for(;v;){for(d=v[4];c=d.pop();)if(c[0])break t;v=v[0]}if(!v)throw i;n=v[1],v[2],g=v[3],y=v[4],v=v[0]}1===(d=c[0])?(n=c[2],c[0]=0,y.push(c),p[++h]=i):2===d?(n=c[2],c[0]=0,y.push(c)):(n=c[3],c[0]=2,y.push(c),p[++h]=i)}}(d,[],0,i)}("504B0101154504e500000000e4064516000000024b3a0000",{})}(i,a(904644),a(864614),a(238658),a(514312),a(561999),a(947478),a(210434),a(632852),a(379493),a(724356),a(577829),a(121621),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(935184),a(36752),a(925432),a(767866),a(617192),a(345255),a(109324),a(781590),a(614521),a(585322))},581686:function(n,i,a){"use strict";function o(n,i,a){var o;return function(){for(var s=this,c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];var l=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,!a&&n.apply(s,u)},i),l&&n.apply(s,u)}}a.d(i,{Z:function(){return o}})},645957:function(n,i,a){"use strict";a.d(i,{l:function(){return o}}),a("864614"),a("632852");function o(){Promise.withResolvers||(Promise.withResolvers=function(){var n={};return n.promise=new Promise(function(i,a){n.resolve=i,n.reject=a}),n})}},453253:function(n,i,a){"use strict";a.d(i,{Ic:function(){return l},vI:function(){return h}}),a(864614),a(632852);var o=a(484679),s,c={},u=0;function d(){do 2147483647===u?u=0:u++;while(u in c);return u}if("undefined"!=typeof Worker){var l,f,h,p,v,g=!1,y=!1,m=function(){if(!v){var n=Promise.withResolvers(),i=n.promise,a=n.resolve,u=n.reject;v=i;try{(s=new o.Z).addEventListener("message",function(n){var i=n.data,o=i.event,s=i.data;switch(o){case"error":y=!0,u(s.error);break;case"ready":g=!0,a();break;default:var d=s.fakeId;if(d in c){var l=c[d]||{},f=l.cb,h=l.param,p=l.keepAlive,v=l.type;if("setInterval"!==v&&delete c[d],!p&&document.hidden)return;if("function"==typeof f)try{f.apply(window,h)}catch(n){}}}}),s.addEventListener("error",function(n){y=!0,u(n)})}catch(n){y=!0,u(n)}}return v},_=function(n,i){y?i&&i():g?n():m().then(n,i)};l=function(n,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof n)throw Error("cb must be a function");for(var o=d(),u=arguments.length,l=Array(u>3?u-3:0),f=3;f<u;f++)l[f-3]=arguments[f];return c[o]={cb:n,param:l,keepAlive:!!a,type:"setInterval"},_(function(){s.postMessage({action:"setInterval",fakeId:o,time:i})},function(){o in c&&(c[o].degradeId=setInterval(n,i))}),o},h=function(n){if("number"==typeof n&&n in c){var i=c[n].degradeId;delete c[n],_(function(){s.postMessage({action:"clearInterval",fakeId:n})},function(){i&&clearInterval(i)})}}}else l=setInterval,h=clearInterval},68950:function(n,i,a){"use strict";a.d(i,{p:function(){return o}});function o(n,i,a){var o;return function(s){var c,u,d,l,f,h,p;return new Worker(o=o||(c=n,u=i,d=a,l=void 0===u?null:u,h=(f=function(n,i){var a=atob(n);if(i){for(var o=new Uint8Array(a.length),s=0,c=a.length;s<c;++s)o[s]=a.charCodeAt(s);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return a}(c,void 0!==d&&d)).indexOf("\n",10)+1,p=new Blob([f.substring(h)+(l?"//# sourceMappingURL="+l:"")],{type:"application/javascript"}),URL.createObjectURL(p)),s)}}},567819:function(n,i,a){"use strict";a.d(i,{Z:function(){return p}});var o=a(247425),s=a(938156),c=a(668117);a(46181),a(904644),a(561999),a(514312);var u=a(740200),d=a(364508),l=a(495728),f={FIRST_DATA:1,AUDIO_MSE_OPEN_START:2,AUDIO_MSE_OPEND:3,AUDIO_FIRSTTIME_APPENDED:4,AUDIO_READY:5,WASM_WORKER_INIT:6,WASM_WORKER_READY:7,FIRST_FRAME_TODECODE:8,VIDEO_READY:9,FIRST_FRAME:10,WAITIGN:11,SEEKING:12,SEEKED:13},h=Object.entries(f),p=function(){function n(){(0,o.Z)(this,n),(0,c.Z)(this,"_dot",[]),(0,c.Z)(this,"_currentLowDecodeCount",0)}return(0,s.Z)(n,[{key:"getBootStats",value:function(){var n,i=(null===(n=this._dot[0])||void 0===n?void 0:n.dot)||0;return this._dot.map(function(n){return{action:h.filter(function(i){return i[1]===n.action})[0][1],dot:parseInt(n.dot-i)}})}},{key:"getStats",value:function(n){var i,a=this.getBootStats(),o=a.length;return{bootStats:a,currentState:o?a[o-1].action:0,bitrate:Math.abs(n.bitrate/1e3),decodeFps:n.decodeFps,fps:n.fps,playbackRate:n.playbackRate,firstframe:null===(i=a.filter(function(n){return 10===n.action})[0])||void 0===i?void 0:i.dot,width:n.videoWidth,height:n.videoHeight,decoderMode:n.decoderMode,vv:(0,u.HQ)(),lowdecodeVV:(0,u.Vw)(),h265FailureRate:Math.floor((0,u.Vw)()/(0,u.HQ)()*100),currentLowDecodeCount:this._currentLowDecodeCount}}},{key:"seekElapses",value:function(){for(var n=this.getBootStats(),i=[],a=0,o=0,s=n.length;o<s;o++){var c=n[o];c.action===f.SEEKING&&(a=c.dot),c.action===f.SEEKED&&i.push(c.dot-a)}return i}},{key:"addFirstData",value:function(){this._dot.push({action:f.FIRST_DATA,dot:this._getTimestap()})}},{key:"addAudioBoundMedia",value:function(){this._dot.push({action:f.AUDIO_BOUND_MEDIA,dot:this._getTimestap()})}},{key:"addAudioMseOpenStart",value:function(){this._dot.push({action:f.AUDIO_MSE_OPEN_START,dot:this._getTimestap()})}},{key:"addAudioMseOpend",value:function(){this._dot.push({action:f.AUDIO_MSE_OPEND,dot:this._getTimestap()})}},{key:"addAudioFirstTimeAppended",value:function(){this._dot.push({action:f.AUDIO_FIRSTTIME_APPENDED,dot:this._getTimestap()})}},{key:"addAudioReady",value:function(){this._dot.push({action:f.AUDIO_READY,dot:this._getTimestap()})}},{key:"addWasmInit",value:function(){this._dot.push({action:f.WASM_WORKER_INIT,dot:this._getTimestap()})}},{key:"addWasmReady",value:function(){this._dot.push({action:f.WASM_WORKER_READY,dot:this._getTimestap()})}},{key:"addFirstFrameToDecode",value:function(){this._dot.push({action:f.FIRST_FRAME_TODECODE,dot:this._getTimestap()})}},{key:"addVideoReady",value:function(){this._dot.push({action:f.VIDEO_READY,dot:this._getTimestap()})}},{key:"addFirstframe",value:function(){this._dot.push({action:f.FIRST_FRAME,dot:this._getTimestap()});var n,i=null===(n=this.getBootStats().filter(function(n){return 10===n.action})[0])||void 0===n?void 0:n.dot;if(i>=1300){(0,u.DO)(1);return}if(i>=1e3){(0,u.DO)(3);return}i>=500&&(0,u.Dd)()}},{key:"addWaiting",value:function(){this._dot.push({action:f.WAITIGN,dot:this._getTimestap()})}},{key:"addSeeking",value:function(){this._dot.push({action:f.SEEKING,dot:this._getTimestap()})}},{key:"addSeeked",value:function(){this._dot.push({action:f.SEEKED,dot:this._getTimestap()})}},{key:"_getTimestap",value:function(){return performance.now()}},{key:"increaseLowDecodeCount",value:function(n){this._currentLowDecodeCount++,this._currentLowDecodeCount>=1&&n<=(0,d.tT)().tempDisabledThreshold&&(l.kg.warn("Analyse","disabled!, fps=".concat(n,", threshold=").concat((0,d.tT)().tempDisabledThreshold)),(0,u.DO)(2))}},{key:"reset",value:function(){this._currentLowDecodeCount=0,this._dot=[]}}]),n}()},364508:function(n,i,a){"use strict";a.d(i,{Bo:function(){return y},HX:function(){return f},MP:function(){return b},P_:function(){return v},lF:function(){return _},mv:function(){return l},rM:function(){return h},tT:function(){return p},yJ:function(){return g}}),a(121621),a(864614),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(724356);var o,s,c="xg-video",u=!1;try{u=WebAssembly&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))}catch(n){}var d={preloadDecoder:!1,reuseWasmDecoder:!0,reuseMseForAudio:!1,preciseSeekLimit:120,h264WithWebcodec:!0,lowDecodeThreshold:75,lowDecodeFpsDelta:10,tempDisabledThreshold:40,wasmFallbackToAsm:!1,audioWithMse:!0,canUseThreadMode:!1,offscreenCanvas:!1,disabledDuration:43200,longDisabledDuration:432e3,evaluateVVCount:0,disabledByLowdecodePrecent:.5,maxDecodeOnceWasm:u?6:8,maxDecodeOnceFirstTime:8,maxDecodeOnceWebcodec:20};function l(){return c}function f(n){c=n}function h(n){d=Object.assign({},d,n,{offscreenCanvas:n.offscreenCanvas&&!!window.OffscreenCanvas})}function p(){return d}function v(){var n="undefined"!=typeof customElements&&customElements.get(c);return n?{H264_DECODER_URL:n.h264Url,ASM_H264_DECODER_URL:n.h264AsmUrl,H265_DECODER_URL:n.h265Url,H265_THREAD_DECODER_URL:n.h265ThreadUrl,H265_SIMD_DECODER_URL:n.h265SimdUrl,ASM_H265_DECODER_URL:n.h265AsmUrl}:{}}function g(){if("undefined"==typeof customElements)return!1;var n=customElements.get(c);return u&&!!(null!=n&&n.h265SimdUrl)}function y(){if("undefined"==typeof customElements)return!1;var n=customElements.get(c);return!!window.SharedArrayBuffer&&!!(null!=n&&n.h265ThreadUrl)}var m=!1;try{m=(null===(o=localStorage)||void 0===o?void 0:null===(s=o.getItem)||void 0===s?void 0:s.call(o,"_sds"))==="y"}catch(n){}function _(){if("undefined"==typeof customElements)return!1;if(m)return!0;var n=!1,i=!1;try{var a=new(window.AudioContext||window.webkitAudioContext);a.close(),a=null,n=!0}catch(n){}try{for(var o=document.createElement("canvas"),s=["webgl","experimental-webgl","moz-webgl","webkit-3d"],c=0;c<s.length;c++){var u=o.getContext(s[c]);if(u){var d=u.getExtension("WEBGL_debug_renderer_info"),l=u.getParameter(d.UNMASKED_RENDERER_WEBGL);l&&-1===l.indexOf("SwiftShader")&&-1===l.indexOf("Intel(R) HD")&&(i=!0),u=null,o=null;break}}m=n&&i&&!!WebAssembly,localStorage.setItem("_sds",m?"y":"n")}catch(n){}return m}function b(){return{simd:u,thread:y(),nbCpu:navigator.hardwareConcurrency}}},119443:function(n,i,a){"use strict";a.d(i,{Z:function(){return p}});var o=a(247425),s=a(938156),c=a(668117);a(864614),a(632852),a(561999),a(477416),a(585322),a(514312);var u=a(198729),d=a(544999),l=a(772614),f=a(364508),h=a(495728),p=new(function(){function n(){(0,o.Z)(this,n),(0,c.Z)(this,"_queue",[]),(0,c.Z)(this,"_pendingDecoder",null),(0,c.Z)(this,"TAG","DecoderCache")}return(0,s.Z)(n,[{key:"genDecoder",value:function(n){return this._initDecoder(n)}},{key:"_initDecoder",value:function(n){var i,a,o=this,s=(0,f.tT)(),c=s.preloadDecoder,p=s.maxDecodeOnceWasm;n=n||c;var v=(0,f.P_)(),g=v.H264_DECODER_URL,y=v.H265_SIMD_DECODER_URL,m=v.H265_DECODER_URL,_=v.H265_THREAD_DECODER_URL,b=1;if("h265"===n&&((0,f.yJ)()?(i=new u.Z,a=y,b=2):(0,f.Bo)()&&(0,f.tT)().canUseThreadMode?(i=new d.Z,a=_,b=1):(i=new u.Z,a=m,b=3)),"h264"===n&&(i=new l.Z,a=g,b=3),!i)return Promise.resolve();var A=(0,h.Je)();i.postMessage({msg:"preload",batchDecodeCount:p,url:a}),this._pendingDecoder=i,i.id=Date.now()+parseInt(1e3*Math.random()),i.isHevc="h265"===n,i.using=!1,i.ready=!1,h.kg.log(this.TAG,"start init decoder worker, id=",i.id,"hevc=",i.isHevc,"mode=",b);var w=function n(a){o._pendingDecoder=null;var s=a.data.msg;switch(("DECODER_READY"===s||"INIT_FAILED"===s)&&(i.removeEventListener("message",n),i.removeEventListener("error",k)),s){case"DECODER_READY":h.kg.log(o.TAG,"decoder worker inited!, id=",i.id,"cost:",a.data.cost),i.ready=!0,!i.using&&o._queue.push(i),A.resolve();break;case"INIT_FAILED":h.kg.log(o.TAG,"decoder worker init failed!",a.data.log),A.reject(a.data.log)}},k=function n(a){i.removeEventListener("message",w),i.removeEventListener("error",n),A.reject(null==a?void 0:a.message)};return i.addEventListener("message",w),i.addEventListener("error",k),A}},{key:"cacheDecoder",value:function(n){n.using=!1,n.ready=!0,!n.id&&(n.id=Date.now()+parseInt(1e3*Math.random())),this._queue.push(n),h.kg.log(this.TAG,"cache decoder, id=",n.id),"h265"===(0,f.tT)().preloadDecoder&&1===this._queue.filter(function(n){return!n.using&&n.isHevc}).length&&this.genDecoder("h265")}},{key:"getCachedDecoder",value:function(n){var i,a=this._queue.findIndex(function(i){return!i.using&&i.isHevc===n});if(-1!==a&&(i=this._queue.splice(a,1)[0]),!i&&this._pendingDecoder&&(i=this._pendingDecoder,this._pendingDecoder=null),i)return i.using=!0,h.kg.warn(this.TAG,"get cached decoder, id=".concat(i.id,", ready=").concat(i.ready)),i}}]),n}())},198114:function(n,i,a){"use strict";a.d(i,{Z:function(){return w}}),a(530129);var o=a(247425),s=a(938156),c=a(440669),u=a(269277),d=a(917970),l=a(197201),f=a(668117);a(514312),a(561999),a(121621),a(864614),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(210434);var h=a(43864),p=a(198729),v=a(544999),g=a(772614),y=a(720202),m=a(364508),_=a(119443),b=a(495728),A=(0,m.tT)().maxDecodeOnceWasm,w=function(n){(0,u.Z)(w,n);var i,a,h=(i=w,a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}(),function(){var n,o=(0,l.Z)(i);return n=a?Reflect.construct(o,arguments,(0,l.Z)(this).constructor):o.apply(this,arguments),(0,d.Z)(this,n)});function w(){var n;(0,o.Z)(this,w);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=h.call.apply(h,[this].concat(a)),(0,f.Z)((0,c.Z)(n),"TAG","WasmController"),(0,f.Z)((0,c.Z)(n),"_avccpushed",!1),(0,f.Z)((0,c.Z)(n),"_maxDecodeOnce",A),(0,f.Z)((0,c.Z)(n),"_continueDecodeThreshold",A/2),(0,f.Z)((0,c.Z)(n),"_wasmInitCost",0),(0,f.Z)((0,c.Z)(n),"_threadSupported",(0,m.Bo)()&&(0,m.tT)().canUseThreadMode),(0,f.Z)((0,c.Z)(n),"_simdSuppported",(0,m.yJ)()),(0,f.Z)((0,c.Z)(n),"_decoderMode","undefined"!=typeof window&&window.WebAssembly?3:4),n}return(0,s.Z)(w,[{key:"wasmInitCost",get:function(){var n;return null===(n=this._decoderWorker)||void 0===n?void 0:n._wasmInitCost}},{key:"isHevc",get:function(){var n;return null===(n=this._parent)||void 0===n?void 0:n.isHevc}},{key:"_selectDecodeWorker",value:function(){this.analyse.addWasmInit();var n,i=(0,m.P_)(),a=i.H264_DECODER_URL,o=i.H265_DECODER_URL,s=i.H265_THREAD_DECODER_URL,c=i.H265_SIMD_DECODER_URL,u=i.ASM_H264_DECODER_URL,d=i.ASM_H265_DECODER_URL;if(b.kg.log(this.TAG,"start init wasm worker:",performance.now(),"hevc:",this.isHevc,"decoderMode:",this._decoderMode),this.isHevc){if(!(n=1===this._decoderMode?s:2===this._decoderMode?c:3===this._decoderMode?o:d)){this._workerErrorCallback("no found decoder url, decodeMode:".concat(this._decoderMode));return}return{decoder:1===this._decoderMode?new v.Z:new p.Z,url:n}}if(!(n=4===this._decoderMode?u:a)){this._workerErrorCallback("no found decoder url, decodeMode:".concat(this._decoderMode));return}return{decoder:new g.Z,url:n}}},{key:"_initWorker",value:function(){this.isHevc&&(this._threadSupported&&(this._decoderMode=1),this._simdSuppported&&(this._decoderMode=2)),this._initDecodeWorkerInternal()}},{key:"_initDecodeWorkerInternal",value:function(){var n=_.Z.getCachedDecoder(this.isHevc);if(n){b.kg.warn(this.TAG,"select decoder from cache"),this.analyse.addWasmInit(),this._avccpushed=!1,this._bindWorkerEvent(n),this._decoderWorker=n,n.ready&&(this._decoderReady=!0,this._initDecoderWithConfiguration(n,this.meta),this._workerMessageCallback({type:"DECODER_READY",data:n}),b.kg.log(this.TAG,"decoder ready!"));return}var i=this._selectDecodeWorker()||{},a=i.decoder,o=i.url;a&&(this._avccpushed=!1,this._bindWorkerEvent(a),a.isHevc=this.isHevc,a.postMessage({msg:"init",meta:this.meta,batchDecodeCount:A,url:o}),this._decoderWorker=a)}},{key:"_bindWorkerEvent",value:function(n){var i=this,a=function(a,o){b.kg.log(i.TAG,"worker failed: ",a,o),i._terminateWorker(n),i._decoderWorker=null,!1===(0,m.tT)().wasmFallbackToAsm||4===i._decoderMode?i._workerErrorCallback(a):(i._decoderMode=1===i._decoderMode||2===i._decoderMode?3:4,i._initDecodeWorkerInternal())};n._onMessage=function(o){var s,c;switch(o.data.msg){case"DECODER_READY":if(b.kg.log(i.TAG,"wasm worker ready!","cost:",o.data.cost),i._decoderReady=!0,n._wasmInitCost=parseInt(o.data.cost),!i.meta)return;!i._avccpushed&&i._initDecoderWithConfiguration(n,i.meta),i.emit(y.ZP.VIDEO.VIDEO_DECODER_INIT,n),i._workerMessageCallback({type:"DECODER_READY",data:n});break;case"DECODED":if(i._inDecoding=!0,(null===(s=o.data)||void 0===s?void 0:null===(c=s.info)||void 0===c?void 0:c.id)!==i._id)return;i._workerMessageCallback({type:"RECEIVE_FRAME",data:o.data});break;case"BATCH_FINISH_FLAG":if(i._inDecoding=!1,!i._workerMessageCallback)return;i._workerMessageCallback({type:"BATCH_FINISH"});break;case"INIT_FAILED":a(o.data.log,1)}},n._onError=function(n){a(n.message,2)},n.addEventListener("message",n._onMessage),n.addEventListener("error",n._onError)}},{key:"_initDecoderWithConfiguration",value:function(n,i){b.kg.log(this.TAG,"init decoder with configuration"),this._avccpushed=!0,n.postMessage({msg:"updatemeta",meta:i});var a=[i.rawVps||i.vps[0],i.rawSps||i.sps[0],i.rawPps||i.pps[0]].filter(Boolean),o=new Uint8Array(a.reduce(function(n,i){return n+(i.byteLength+4)},0)),s=0;a.forEach(function(n){o.set([0,0,0,1],s),s+=4,o.set(n,s),s+=n.byteLength}),n.postMessage({msg:"initDecoder",data:o})}},{key:"destroy",value:function(){if(this._decoderWorker){if((0,m.tT)().reuseWasmDecoder){this._offWorkerBind(this._decoderWorker),_.Z.cacheDecoder(this._decoderWorker),this._decoderWorker=null;return}this._terminateWorker(this._decoderWorker),this._decoderWorker=null}}},{key:"_offWorkerBind",value:function(n){n.removeEventListener("message",n._onMessage),n.removeEventListener("error",n._onError),n.postMessage({msg:"flush"}),n._onMessage=null,n._onError=null,b.kg.log(this.TAG,"flush decoder and unbind worker event")}},{key:"_terminateWorker",value:function(n){this._offWorkerBind(n),n.postMessage({msg:"destroy"}),n.terminate(),b.kg.log(this.TAG,"destroy decoder worker")}}]),w}(h.Z)},720202:function(n,i,a){"use strict";a.d(i,{NW:function(){return o},R_:function(){return s},ZP:function(){return c}});var o={WAITING:0,CANPLAY:1,PLAY:2,PLAYING:3,PAUSE:4,SEEKING:5,SEEKED:6,LOADEDDATA:7,LOADEDMETADATA:8,TIMEUPDATE:9,DURATION_CHANGE:10,VOLUME_CHANGE:11,PROGRESS:12,ERROR:13,ENDED:14,RESIZE:15,LOADSTART:16,DECODE_FPS:17,LOW_DECODE:18,LARGE_AV_GAP:19,FIRST_FRAME:20,CANVAS_LAYOUT:21},s=["waiting","canplay","play","playing","pause","seeking","seeked","loadeddata","loadedmetadata","timeupdate","durationchange","volumechange","progress","error","ended","resize","loadstart","decodefps","lowdecode","largeavgap","firstframe","canvaslayout"],c={AUDIO:{AUDIO_READY:"audio_ready",AUDIO_NOT_ALLOWED_AUTOPLAY:"audio_not_allowed_autoplay",AUDIO_WAITING:"audio_waiting",AUDIO_SYNC_DTS:"audio_sync_dts"},VIDEO:{VIDEO_DECODER_INIT:"video_decode_init",VIDEO_READY:"video_ready",VIDEO_WAITING:"video_waiting",AUTO_RUN:"auto_run",DECODE_LOW_FPS:"decode_low_fps",UPDATE_VIDEO_FILLTYPE:"update_video_filltype",UPDATE_VIDEO_COVER_POSITION:"update_video_cover_position"},TIMELINE:{PLAY_EVENT:"play_event",SET_METADATA:"set_metadata",APPEND_CHUNKS:"append_chunks",START_RENDER:"start_render",DO_PLAY:"do_play",DO_PAUSE:"do_pause",DO_SEEK:"do_seek",SET_PLAYBACKRATE:"set_playbackrate",SYNC_DTS:"sync_dts",RESET_BASE_DTS:"reset_base_dts",UPDATE_VOLUME:"update_volume",SINGLE_TRACK:"single_track",DESTROY:"destroy",READY:"ready",UPDATE_GL_OPTIONS:"update_gl_options",SET_VIDEO_DURATION:"set_video_duration",SET_PLAY_MODE:"set_play_mode",UPDATE_CAPABILITY_LEVEL:"update_capability_level",INNER_DEGRADE:"inner_degrade",ADJUST_SEEK_TIME:"adjust_seek_time",CHASE_FRAME:"chase_frame",END_OF_STREAM:"end_of_stream",UPDATE_SEGMENT_END:"update_segment_end"},VIDEO_EVENTS:o,DECODE_EVENTS:{INIT:"init",READY:"decoderready",REMUX:"remux",INIT_FAILED:"initfailed",DATAREADY:"dataReady",PLAY_FAILED:"playfailed",FRAGMENT_END:"fragmentEnd",APPEND_VIDEO:"appendVideo",FIRST_FRAME:"firstFrame",DECODED:"decoded",RENDE_END:"rendeEnd",CHASE_VIDEO_FRAME:"chaseVideoFrame",CHASE_VIDEO_FRAME_END:"chaseVideoFrameEnd",CHASE_AUDIO_FRAME:"chaseAudioFrame",INIT_SEGMENT:"initSegment",MEDIA_SEGMENT:"mediaSegment",FRAME_MAX_COUNY:"frameMaxCount",FRAME_MIN_COUNY:"frameMinCount"}}},336849:function(n,i,a){"use strict";var o;function s(){if(!document.querySelector("#hackAudioPP")){var n=document.createElement("div");n.innerHTML="<audio id='hackAudioPP'></audio>",document.body.appendChild(n);var i=n.children.item(0);i.controls=!1,i.preload="auto",i.innerHTML="<source src=".concat("data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",' type="audio/mpeg"></source>'),i.muted=!0,i.loop=!0,i.play().catch(function(){})}}function c(){var n=o||(o=document.querySelector("#hackAudioPP"));if(!n){s();return}(!1!==n.paused||!1!==n.muted)&&(n.muted=!1,n.play().catch(function(n){}))}function u(){var n=o||(o=document.querySelector("#hackAudioPP"));n&&n.pause()}a.d(i,{BR:function(){return u},ds:function(){return s},fC:function(){return c}})},779228:function(n,i,a){"use strict";a.d(i,{Z:function(){return E}}),a(530129);var o=a(377998),s=a(247425),c=a(938156),u=a(440669),d=a(356670),l=a(269277),f=a(917970),h=a(197201),p=a(668117),v=a(737299),g=a.n(v);a(514312),a(864614),a(632852),a(379493),a(904644),a(121621),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(210434);var y=a(495728),m=a(720202),_=a(303075),b=a(922551),A=a(336849),w=a(252542),k={INIT_AUDIO_ERR:"create new AudioContext error"},E=function(n){(0,l.Z)(x,n);var i,a,v,_,E=(i=x,a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}(),function(){var n,o=(0,h.Z)(i);return n=a?Reflect.construct(o,arguments,(0,h.Z)(this).constructor):o.apply(this,arguments),(0,f.Z)(this,n)});function x(n,i){var a;return(0,s.Z)(this,x),a=E.call(this,n,i),(0,p.Z)((0,u.Z)(a),"doPause",a._doPause),a.TAG="AudioRender",a._timeRange=new b.Z((0,u.Z)(a)),a._lastTimeLineTime=0,a._sampleQueue=[],a._source=null,a._audioCanAutoplay=!0,a._lastBuffer=null,a._inDecoding=!1,a._endOfStream=!1,a._delay=0,a._isSourceBufferEnd=-1,a._onSourceBufferEnded=a._onSourceBufferEnded.bind((0,u.Z)(a)),a._initAudioCtx(n.volume||.6),a._bindEvents(),a}return(0,c.Z)(x,[{key:"baseDts",get:function(){return this._timeRange._baseDts}},{key:"currentTime",get:function(){return this._audioCtx?this._lastTimeLineTime+this._audioCtx.currentTime:0}},{key:"preloadTime",get:function(){return this.isLive?1:0}},{key:"timescale",get:function(){return 1e3}},{key:"buffered",get:function(){return this._timeRange.buffered}},{key:"ctxState",get:function(){return this._audioCtx.state}},{key:"audioCanAutoplay",get:function(){return this._audioCanAutoplay}},{key:"resume",value:function(){if(this._audioCtx&&"suspended"===this._audioCtx.state)return this._audioCtx.resume().catch(function(n){})}},{key:"canSeek",value:function(n){return this._timeRange.canSeek(n)}},{key:"_assembleErr",value:function(n){var i=Error(n);return i.code=3,i}},{key:"_emitTimelineEvents",value:function(n,i,a){var o,s;null===(o=this._parent)||void 0===o||null===(s=o.emit)||void 0===s||s.call(o,n,i,a)}},{key:"_initAudioCtx",value:function(n){var i=this;y.kg.log(this.TAG,"init audioCtx");var a=window.AudioContext||window.webkitAudioContext;if(this._audioCtx=new a,!this._audioCtx){y.kg.warn(this.TAG,"create webaudio error!"),setTimeout(function(){i._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.ERROR,i._assembleErr(k.INIT_AUDIO_ERR))});return}return this._gainNode=this._audioCtx.createGain(),this._gainNode.gain.value=n,this._gainNode.connect(this._audioCtx.destination),this._audioCanAutoplay="running"===this._audioCtx.state,y.kg.log(this.TAG,"webAudio state:",this._audioCtx.state),(0,A.ds)(),this._bindAudioCtxEvent(),this._audioCtx.suspend()}},{key:"_bindAudioCtxEvent",value:function(){var n=this;this._onStateChange=function(){n._audioCtx&&"running"===n._audioCtx.state&&n._ready&&n._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.PLAYING)},this._audioCtx.addEventListener("statechange",this._onStateChange)}},{key:"_bindEvents",value:function(){var n=this;(0,d.Z)((0,h.Z)(x.prototype),"_bindEvents",this).call(this),this._parent.on(m.ZP.DECODE_EVENTS.CHASE_AUDIO_FRAME,this._doChaseFrame.bind(this)),this._parent.on(m.ZP.TIMELINE.UPDATE_VOLUME,function(i){n._gainNode&&(n._gainNode.gain.value=isFinite(i)?i:1,n._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.VOLUME_CHANGE))}),this._parent.on(m.ZP.TIMELINE.END_OF_STREAM,function(){var i;n._endOfStream=!0,!n.noAudio&&!(null!==(i=n._timeRange)&&void 0!==i&&i.hasBuffer())&&(null==n||n._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.ENDED))})}},{key:"_appendChunk",value:function(n,i){if(!this.noAudio){!this._meta&&(this._meta=i,y.kg.warn(this.TAG,"audio set metadata",this._meta));var a=i.samples;if(a.length){if(this._sampleQueue=this._sampleQueue.concat(a),i.samples=[],"aac"===this._meta.codecType){if(this._inDecoding)return;this._decodeAACWrapper()}else this._decodeG711()}}}},{key:"_resetDts",value:function(n,i){"video"!==i&&this._timeRange.resetDts(n)}},{key:"_doPlay",value:function(){if(!this.noAudio&&!this._parent.seeking){if(!this._source&&this.currentTime){this._startRender();return}this.resume()}}},{key:"_doPause",value:function(){if(!this.noAudio)this._audioCtx.suspend()}},{key:"_reInitAudioCtx",value:function(n){var i=this;if(this._lastTimeLineTime=n,this._lastBuffer=null,this._lastAudioBufferInfo=null,this._delay=0,!(this._ready&&this._audioCtx.currentTime))return Promise.resolve();var a=this._gainNode.gain.value;return this._audioCtx.close().then(function(){return i._audioCtx.removeEventListener("statechange",i._onStateChange),i._audioCtx=null,i._source&&i._source.removeEventListener("ended",i._onSourceBufferEnded),i._source=null,i._initAudioCtx(a)})}},{key:"_doSeek",value:function(n){var i=this;this._reInitAudioCtx(n).then(function(){i._getAudioBuffer(!0)}).catch(function(n){})}},{key:"_doChaseFrame",value:function(n){var i=this,a=n.position,o=this._timeRange.deletePassed(a);o&&(y.kg.log(this.TAG,"_doChaseFrame","startTime:",o.start,"buffeLength:",this.buffered.end(0)-o.start),this._reInitAudioCtx(o.start).then(function(){i._startRender(),i._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.TIMEUPDATE)}).catch(function(n){}))}},{key:"_decodeAACWrapper",value:(v=(0,o.Z)(g().mark(function n(){var i,a,o,s,c,u,d,l,f;return g().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this._sampleQueue.length,a=this._sampleQueue[0],!((o=(this._sampleQueue[i-1].dts-a.dts)/this.timescale)<1)){n.next=6;break}return n.abrupt("return");case 6:for(d=0,s=parseInt(o/3-1)||1,c=parseInt(i/s),u=[];d<s;d++)d<s-1?u.push(this._sampleQueue.slice(d*c,(d+1)*c)):u.push(this._sampleQueue.slice(d*c));return this._sampleQueue=[],this._inDecoding=!0,n.prev=12,n.next=15,this._decodeCycle(u);case 15:!this._isLive&&(f=(l=this._timeRange._buffers)[l.length-1])&&this._emitTimelineEvents(m.ZP.TIMELINE.UPDATE_SEGMENT_END,f.end),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(12),this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.ERROR,this._assembleErr("ERROR_MSG.DECODE_ERR:".concat(n.t0&&n.t0.message)));case 21:this._inDecoding=!1;case 22:case"end":return n.stop()}},n,this,[[12,18]])})),function(){return v.apply(this,arguments)})},{key:"_decodeCycle",value:(_=(0,o.Z)(g().mark(function n(i){var a;return g().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i.shift()){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,this._decodeAAC(a);case 5:return n.next=7,this._decodeCycle(i);case 7:case"end":return n.stop()}},n,this)})),function(n){return _.apply(this,arguments)})},{key:"_decodeAAC",value:function(n){var i=this,a=n[0],o=0;w.Z.checkRefillFrame(n);var s=n.map(function(n){return w.Z.packageAACToAdts(i._meta,n)}),c=w.Z.concatAdts(s,0);return new Promise(function(n,s){var u=i._audioCtx.decodeAudioData(c.buffer,function(s){if(i._timeRange){if(i._lastAudioBufferInfo&&i.isLive){var c=i._lastAudioBufferInfo,u=c.dts+c.duration;(o=a.dts-u)>1&&(i._timeRange._duration+=o/1e3,y.kg.log(i.TAG,"_decodeAAC","audio data dts is not continue, last end dts:",u,",now start Dts:",a.dts,"delay:",o))}i._lastAudioBufferInfo={duration:Math.floor(1e3*s.duration),dts:a.dts};var d=i._timeRange.append(s,s.duration,a.dts,o/1e3);if(!i._ready){var l=.5>Math.abs(d+s.duration-i.currentTime);(i.isLive||!l)&&(i._ready=!0,y.kg.log(i.TAG,"_decodeAAC","set ready true start=",d),i.emit(m.ZP.AUDIO.AUDIO_READY,d))}i._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.PROGRESS),i._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.DURATION_CHANGE),n()}},s);u.catch&&u.catch(s)})}},{key:"_decodeG711",value:function(){var n=this._sampleQueue.length,i=this._sampleQueue[0];if(!((this._sampleQueue[n-1].dts-i.dts)/this.timescale<.5)){var a=new Uint8Array(this._sampleQueue.reduce(function(n,i){return n+=i.data.byteLength},0)),o=0,s=0;this._sampleQueue.forEach(function(n,i){0===i&&(o=n.dts),a.set(n.data,s),s+=n.data.byteLength}),this._sampleQueue=[];try{var c=this._meta,u=c.codecType,d=c.channelCount,l=c.sampleSize,f=c.sampleRate,h=w.Z.decodeG711(a,u),p=w.Z.createAudioBufferFromPcm(this._audioCtx,h.buffer,d,f,l/8),v=p.audioBuffer,g=p.duration,_=this._timeRange.append(v,g,o,0);!this._ready&&(this._ready=!0,y.kg.log(this.TAG,"_decodeG711","set ready true"),this.emit(m.ZP.AUDIO.AUDIO_READY,_)),this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.PROGRESS),this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.DURATION_CHANGE)}catch(n){this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.ERROR,this._assembleErr("ERROR_MSG.DECODE_ERR:".concat(n&&n.message)))}}}},{key:"_onSourceBufferEnded",value:function(){this._isSourceBufferEnd=!0,y.kg.long&&y.kg.log(this.TAG,"source play end! currentTime:".concat(this.currentTime," , duration:").concat(this.duration)),this._startRender()}},{key:"_ajustSeekTime",value:function(n){var i=this._timeRange.getBuffer(n,0);i&&(y.kg.log(this.TAG,"ajust seek time to:",i.start),this._lastTimeLineTime=i.start)}},{key:"_getAudioBuffer",value:function(n){var i=this;if(this._timeRange){var a=this._timeRange.getBuffer(this._lastBuffer?this._lastBuffer.end:this.currentTime,0);if(!a){if((this._endOfStream||!this._isLive)&&this.currentTime-this.duration>-.5){this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.TIMEUPDATE),this._emitTimelineEvents(m.ZP.TIMELINE.PLAY_EVENT,m.ZP.VIDEO_EVENTS.ENDED);return}this._ready=!1,this._audioCtx.suspend(),this.emit(m.ZP.AUDIO.AUDIO_WAITING),n&&(!this._onAudioReady&&(this._onAudioReady=function(n){i._ajustSeekTime(n)}),this.removeListener(m.ZP.AUDIO.AUDIO_READY,this._onAudioReady),this.once(m.ZP.AUDIO.AUDIO_READY,this._onAudioReady));return}if(n){this._ajustSeekTime(a.start),this.emit(m.ZP.AUDIO.AUDIO_READY);return}return a}}},{key:"_startRender",value:function(n){if(!this.noAudio){if("video"===n&&this.isLive&&this._ready&&!this._isSourceBufferEnd){this._doPlay();return}var i=this._getAudioBuffer();if(i){"suspended"===this._audioCtx.state&&(this._audioCtx.resume().catch(function(n){}),(0,A.fC)()),this._lastBuffer=i,this._source=null;var a=this._audioCtx.createBufferSource();a.buffer=i.source,a.loop=!1,this._source=a,a.addEventListener("ended",this._onSourceBufferEnded),a.connect(this._gainNode),i.delay&&i.delay>.001&&(this._delay+=i.delay),this.startDts=i.startDts;try{this._isSourceBufferEnd=!1,a.start()}catch(n){}i.startDts&&this._emitTimelineEvents(m.ZP.TIMELINE.SYNC_DTS,i.startDts)}}}},{key:"_destroy",value:function(){y.kg.log(this.TAG,"destroy audio..."),this._source&&this._source.removeEventListener("ended",this._onSourceBufferEnded),this._audioCtx&&"closed"!==this.ctxState&&this._audioCtx.close(),this._audioCtx=null,this._sampleQueue=null,this._timeRange=null,this._parent=null,this.removeAllListeners()}}]),x}(_.Z)},467538:function(n,i,a){"use strict";a.d(i,{S:function(){return u}});var o=a(247425),s=a(938156);a(724356),a(614521),a(121621),a(864614),a(109324),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(812735);var c=a(495728),u=function(){function n(i,a){(0,o.Z)(this,n),this.TAG="FrameRender",this.configs=Object.assign({},i),this.parent=a,this.canvas=this.configs.canvas,this.meta=Object.assign({},this.configs.meta),this._initMeta(),this._initContextGL(),this.contextGL&&(this._initProgram(),this._initBuffers(),this._initTextures())}return(0,s.Z)(n,[{key:"_initMeta",value:function(){this.chroma=this.meta.chromaFormat,this.height=this.meta.height,this.width=this.meta.width,(this.canvas.width!==this.meta.width||this.canvas.height!==this.meta.height)&&(this.canvas.width=this.meta.width,this.canvas.height=this.meta.height,this.parent.emitResizeEvent())}},{key:"_initContextGL",value:function(){if("2d"===this.configs.type){this.ctx=this.canvas.getContext("2d");return}for(var n=this.canvas,i=null,a=["webgl","experimental-webgl","moz-webgl","webkit-3d"],o=0;!i&&o<a.length;){var s=a[o];try{i=n.getContext(s,this.configs.glCtxOptions),c.kg.log("FrameRender","use=",s,this.configs.glCtxOptions);break}catch(n){i=null}(!i||"function"!=typeof i.getParameter)&&(i=null),++o}this.contextGL=i}},{key:"_initProgram",value:function(){var n,i,a=this.contextGL;n="attribute vec4 vertexPos;\nattribute vec4 texturePos;\nattribute vec4 uTexturePos;\nattribute vec4 vTexturePos;\nvarying vec2 textureCoord;\nvarying vec2 uTextureCoord;\nvarying vec2 vTextureCoord;\nvoid main()\n{\n  gl_Position = vertexPos;\n  textureCoord = texturePos.xy;\n  uTextureCoord = uTexturePos.xy;\n  vTextureCoord = vTexturePos.xy;\n}",i="precision highp float;\nvarying highp vec2 textureCoord;\nvarying highp vec2 uTextureCoord;\nvarying highp vec2 vTextureCoord;\nuniform sampler2D ySampler;\nuniform sampler2D uSampler;\nuniform sampler2D vSampler;\nuniform mat4 YUV2RGB;\nvoid main(void) {\n  highp float y = texture2D(ySampler,  textureCoord).r;\n  highp float u = texture2D(uSampler,  uTextureCoord).r;\n  highp float v = texture2D(vSampler,  vTextureCoord).r;\n  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;\n}";var o=a.createShader(a.VERTEX_SHADER);a.shaderSource(o,n),a.compileShader(o),a.getShaderParameter(o,a.COMPILE_STATUS);var s=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(s,i),a.compileShader(s),a.getShaderParameter(s,a.COMPILE_STATUS);var c=a.createProgram();a.attachShader(c,o),a.attachShader(c,s),a.linkProgram(c),a.getProgramParameter(c,a.LINK_STATUS),a.useProgram(c);var u=a.getUniformLocation(c,"YUV2RGB");a.uniformMatrix4fv(u,!1,[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1]),this.shaderProgram=c}},{key:"_initBuffers",value:function(){var n=this.contextGL,i=this.shaderProgram,a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),n.STATIC_DRAW);var o=n.getAttribLocation(i,"vertexPos");n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,0,0);var s=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),n.STATIC_DRAW);var c=n.getAttribLocation(i,"texturePos");n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),this.texturePosBuffer=s;var u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),n.STATIC_DRAW);var d=n.getAttribLocation(i,"uTexturePos");n.enableVertexAttribArray(d),n.vertexAttribPointer(d,2,n.FLOAT,!1,0,0),this.uTexturePosBuffer=u;var l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),n.STATIC_DRAW);var f=n.getAttribLocation(i,"vTexturePos");n.enableVertexAttribArray(f),n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0),this.vTexturePosBuffer=l}},{key:"_initTextures",value:function(){var n=this.contextGL,i=this.shaderProgram,a=this._initTexture(),o=n.getUniformLocation(i,"ySampler");n.uniform1i(o,0),this.yTextureRef=a;var s=this._initTexture(),c=n.getUniformLocation(i,"uSampler");n.uniform1i(c,1),this.uTextureRef=s;var u=this._initTexture(),d=n.getUniformLocation(i,"vSampler");n.uniform1i(d,2),this.vTextureRef=u,n.pixelStorei(n.UNPACK_ALIGNMENT,1)}},{key:"_initTexture",value:function(){var n=this.contextGL,i=n.createTexture();return n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.bindTexture(n.TEXTURE_2D,null),i}},{key:"_drawPictureGL",value:function(n,i,a,o,s){var c=o*a,u=s*a/2;(444===this.chroma||422===this.chroma)&&(u*=2);var d={yData:(n=new Uint8Array(n)).subarray(0,c),uData:n.subarray(c,c+u),vData:n.subarray(c+u,c+u+u)};this._drawPictureGL420(d,i,a,o,s)}},{key:"_drawPictureGL420",value:function(n,i,a,o,s){var c=this.contextGL,u=this.texturePosBuffer,d=this.uTexturePosBuffer,l=this.vTexturePosBuffer,f=this.yTextureRef,h=this.uTextureRef,p=this.vTextureRef,v=n.yData,g=n.uData,y=n.vData,m=a/2;(422===this.chroma||444===this.chroma)&&(m=a);var _=m,b=this.canvas.width/this.width,A=this.canvas.height/this.height,w=0,k=0,E=this.canvas.width,x=this.canvas.height;b<A?(x=this.height*this.canvas.width/this.width,k=parseInt((this.canvas.height-this.height*this.canvas.width/this.width)/2)):(E=this.width*this.canvas.height/this.height,w=parseInt((this.canvas.width-this.width*this.canvas.height/this.height)/2)),c.viewport(w,k,E,x);var S=new Float32Array([1,0,0,0,1,1,0,1]);c.bindBuffer(c.ARRAY_BUFFER,u),c.bufferData(c.ARRAY_BUFFER,S,c.DYNAMIC_DRAW);var T=new Float32Array([1,0,0,0,1,1,0,1]);c.bindBuffer(c.ARRAY_BUFFER,d),c.bufferData(c.ARRAY_BUFFER,T,c.DYNAMIC_DRAW);var I=new Float32Array([1,0,0,0,1,1,0,1]);c.bindBuffer(c.ARRAY_BUFFER,l),c.bufferData(c.ARRAY_BUFFER,I,c.DYNAMIC_DRAW),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,f),c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,o,a,0,c.LUMINANCE,c.UNSIGNED_BYTE,v),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,h),c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,s,m,0,c.LUMINANCE,c.UNSIGNED_BYTE,g),c.activeTexture(c.TEXTURE2),c.bindTexture(c.TEXTURE_2D,p),c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,s,_,0,c.LUMINANCE,c.UNSIGNED_BYTE,y),c.drawArrays(c.TRIANGLE_STRIP,0,4)}},{key:"_drawPicture2d",value:function(n){if(!!n){if(this.canvas){!this.ctx&&(this.ctx=this.canvas.getContext("2d"));var i=n.displayWidth||n.width,a=n.displayHeight||n.height;(this.canvas.height!==a||this.canvas.width!==i)&&(this.canvas.height=a,this.canvas.width=i);try{this.ctx.drawImage(n.dom||n,0,0,i,a)}catch(n){}}}}},{key:"_resize",value:function(n,i){(this.width!==n||this.height!==i)&&(this.width=n,this.height=i,this.canvas.width=n,this.canvas.height=i,this.parent.emitResizeEvent())}},{key:"render",value:function(n,i,a,o,s){this._resize(i,a),this.contextGL?this._drawPictureGL(n,i,a,o,s):this._drawPicture2d(n)}},{key:"resetMeta",value:function(n){this.meta=Object.assign({},n)}},{key:"updateBind",value:function(n,i){this.parent=n,this.resetMeta(i)}},{key:"destroy",value:function(){this.parent=null,this.canvas.style.display="none",this.canvas&&(this.canvas.glInstance=null,this.canvas=null)}}]),n}()},992117:function(n,i,a){"use strict";a.d(i,{Z:function(){return u}});var o=a(247425),s=a(938156);a(969642),a(379493),a(514312),a(561999),a(210434),a(585322),a(121621),a(864614),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(831528);var c=a(495728),u=function(){function n(i){(0,o.Z)(this,n),this.TAG="VideoTimeRange",this._parent=i,this._baseDts=0,this._lastDuration=0,this._duration=0,this._bitrate=0,this._totalSize=0,this._buffers=[],this._currentFrameQueue=[],this._frameIndexInQueue=0,this._delayEstimateList=[],this._keyframeQueue=[]}return(0,s.Z)(n,[{key:"isLive",get:function(){return this._parent.isLive}},{key:"baseDts",get:function(){return this._baseDts}},{key:"duration",get:function(){return this._duration},set:function(n){this._duration=n}},{key:"buffered",get:function(){var n=this;if(this.isLive)return{length:this._duration?1:0,start:function(){return 0},end:function(){return n._duration}};var i=this._mergeBufferRanges();return{length:i.length,start:function(n){var a=i[n];return a?a.start:0},end:function(n){var a=i[n];return a?a.end:1/0}}}},{key:"bufferStart",get:function(){var n;return(null===(n=this._buffers[0])||void 0===n?void 0:n.start)||0}},{key:"frameLength",get:function(){return this._currentFrameQueue.length}},{key:"keyFrameLength",get:function(){return this._keyframeQueue.length}},{key:"totalSize",get:function(){return this._totalSize}},{key:"bitrate",get:function(){return this._bitrate},set:function(n){this._bitrate=n}},{key:"lastDuration",get:function(){return this._lastDuration}},{key:"frames",get:function(){return this._currentFrameQueue}},{key:"getCurrentTime",value:function(n){return this._lastDuration+(n-this._baseDts)/1e3}},{key:"resetDts",value:function(n){this._baseDts=n}},{key:"_mergeBufferRanges",value:function(){var n=this._buffers.slice().sort(function(n,i){return n.start>i.start?1:-1}),i=n.length,a=[];if(!i)return a;for(var o={start:n[0].start,end:n[0].end},s=1;s<i;s++){var c=n[s];.1>Math.abs(o.end-c.start)?o.end=c.end:c.end>o.end&&(a.push(o),o={start:c.start,end:c.end})}return a.push(o),a}},{key:"_caclBaseDts",value:function(n){if(-1===this._baseDts)n&&(this._baseDts=n.dts,c.kg.log(this.TAG,"set baseDts: ",this._baseDts,"frame len:",this._currentFrameQueue.length))}},{key:"_updateDuration",value:function(n){for(var i=n.length,a=n[i-1],o=0;o<i;o++){var s=n[o];if(s&&s.options&&s.options.meta){var u=n[o-1]||this._currentFrameQueue[this._currentFrameQueue.length-1];u?this._lastDuration+=(u.dts-this._baseDts)/1e3:this._lastDuration=this._duration,c.kg.log(this.TAG,"updateBaseDts,record lastDuration:",this._lastDuration),this._baseDts=s.dts;break}}a&&(this._duration=(a.dts-this._baseDts)/1e3+this._lastDuration)}},{key:"_estimateBitRate",value:function(n){var i=n.length;if(i<=2){if(this._delayEstimateList=this._delayEstimateList.concat(n),(i=this._delayEstimateList.length)<=30)return;n=this._delayEstimateList,this._delayEstimateList=[]}for(var a=0,o=0;o<i;o++){var s=n[o];a+=s.data?s.data.length:s.units.reduce(function(n,i){return n+i.byteLength},0)}this._totalSize+=a;var c=a/(n[i-1].dts-n[0].dts);this._bitrate=parseInt(8e3*c)}},{key:"_beforeAppendVodBuffer",value:function(n){var i=this;if(n.length){for(var a=[],o=[],s=0,c=n.length;s<c;s++)n[s].keyframe&&(a.push(o),o=[]),o.push(n[s]);o.length&&a.push(o),a.forEach(function(n){return i._appendVodBuffer(n)})}}},{key:"_appendVodBuffer",value:function(n){if(!!n.length){var i=n[0],a=n[n.length-1],o=(i.dts-this._baseDts)/1e3,s=(a.dts-this._baseDts)/1e3;c.kg.enable&&c.kg.log(this.TAG,"add new buffer range [".concat(o," , ").concat(s,"]")),!this._buffers.filter(function(n){return o>=n.start&&s<=n.end}).length&&(this._buffers.push({start:o,end:s,duartion:s-o,frames:n.slice()}),this._buffers.sort(function(n,i){return n.start>i.start?1:-1}),this._afterAppendVodBuffer())}}},{key:"_afterAppendVodBuffer",value:function(){var n;if(this._buffers.filter(function(n){var i;return!(null!==(i=n.frames[0])&&void 0!==i&&i.keyframe)}).length){for(var i=this._buffers,a=this._buffers.length,o=[],s=this._buffers[0],c=1;c<a;c++)null!==(n=i[c].frames[0])&&void 0!==n&&n.keyframe?(o.push(s),s=i[c]):(s.frames=s.frames.concat(i[c].frames),s.end=i[c].end,s.duartion=s.end-s.start);o.push(s),this._buffers=o}}},{key:"_recordKeyframes",value:function(n){var i=this;n.forEach(function(n){if(n.keyframe){var a=(n.dts-i._baseDts)/1e3;i._keyframeQueue.push({position:a,frame:n})}}),this._keyframeQueue=this._keyframeQueue.sort(function(n,i){return n.position>i.position?1:-1}),this.isLive&&this._keyframeQueue.length>40&&this._keyframeQueue.splice(0,20)}},{key:"toAnnexBNalu",value:function(n){n.forEach(function(n){var i=n.units;if(i){var a=new Uint8Array(i.reduce(function(n,i){return n+4+i.byteLength},0)),o=0;i.forEach(function(n){a.set([0,0,0,1],o),o+=4,a.set(n,o),o+=n.byteLength}),i=null,n.units=null,n.data=a}})}},{key:"append",value:function(n,i,a){if(a&&this.toAnnexBNalu(n),this._caclBaseDts(n[0]),i&&this._updateDuration(n),this._estimateBitRate(n),this._recordKeyframes(n),this.isLive){this._currentFrameQueue=this._currentFrameQueue.concat(n);return}this._beforeAppendVodBuffer(n)}},{key:"updateSegmentEnd",value:function(n){var i=this._buffers[this._buffers.length-1];if(!!i)!(.5>Math.abs(i.end-n))&&(i.end=n,i.duartion=n-i.start,c.kg.log(this.TAG,"video data lack, reset end:",n))}},{key:"getFrame",value:function(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.isLive)return this._currentFrameQueue.shift();if(!(n=this._currentFrameQueue[this._frameIndexInQueue])){if(!(n=this._currentFrameQueue[--this._frameIndexInQueue])||!this.switchBuffer((n.dts-this._baseDts)/1e3,this._frameIndexInQueue++,i))return;return this.getFrame(++i)}return this._frameIndexInQueue++,n}},{key:"getFramesForPreciseSeek",value:function(n){return this._currentFrameQueue.filter(function(i){return i.dts<=n})}},{key:"updateFrameIndexForPreciseSeek",value:function(n){this._frameIndexInQueue=n}},{key:"switchBuffer",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(a>=20)){n=n||this.bufferStart;var o=this._buffers.filter(function(i){return i.start<n+.1&&i.end>=n+.1})[0];if(!o){var s=this._buffers.find(function(i){return i.start>=n});return s&&s.start-n<1?(this._currentFrameQueue=s.frames.slice(0),this._frameIndexInQueue=0,s):void 0}if(o.frames[0].dts/1e3>=n)return this._currentFrameQueue=o.frames.slice(0),this._frameIndexInQueue=0,c.kg.log(this.TAG,"switch video buffer, time:".concat(n," , buffer:[").concat(o.start," , ").concat(o.end,"], index=0")),o;if(o.frames.length>i)return this._currentFrameQueue=o.frames.slice(0),c.kg.log(this.TAG,"switch video buffer, in the same gop and more frame got, time:".concat(n," , buffer:[").concat(o.start," , ").concat(o.end,"], index=").concat(i)),o;c.kg.log(this.TAG,"switch video buffer, in the same gop and no more frame got, time:".concat(n," , buffer:[").concat(o.start," , ").concat(o.end,"], index=").concat(i))}}},{key:"getSeekStartPosition",value:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(this._keyframeQueue.forEach(function(a){a.position<=n&&(i=a)}),!!i){if(c.kg.warn(this.TAG,"getSeekStartPosition: ".concat(n,", position:").concat(i.position)),n-i.position<a)return i}}},{key:"getSeekStartPositionBehind",value:function(n,i){for(var a=0,o=this._keyframeQueue.length;a<o;a++){var s=this._keyframeQueue[a];if(s.position>=n)return c.kg.warn(this.TAG,"getSeekStartPositionBehind: ".concat(n,", position:").concat(s.position)),s}return this.getSeekStartPosition(n,i)}},{key:"nextFrame",value:function(){return this._currentFrameQueue[0]}},{key:"deletePassed",value:function(n){this._currentFrameQueue=this._currentFrameQueue.filter(function(i){return i.dts>=n})}},{key:"getDtsOfTime",value:function(n){var i=n-this._lastDuration;return this._baseDts+1e3*i}},{key:"clean",value:function(){this._currentFrameQueue=[]}},{key:"destroy",value:function(){this._currentFrameQueue=[],this._buffers=[]}}]),n}()},393046:function(n,i,a){"use strict";a.d(i,{i:function(){return s}});var o=a(981500);function s(n){return"boolean"!=typeof n.fixEditListOffset&&delete n.fixEditListOffset,(0,o.Zj)({vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:"arraybuffer",fixEditListOffset:!0,cache:null},n)}},589374:function(n,i,a){"use strict";a.d(i,{Z:function(){return s}});var o=a(981500),s=function(){function n(){(0,o.PA)(this,n),this.frames=[],this.dur=0,this.minPts=Number.MAX_VALUE,this.maxPts=0}return(0,o.qH)(n,[{key:"appendFrame",value:function(n){this.frames.push(n),this.dur+=n.duration}},{key:"calMinMaxPts",value:function(n){n.pts<this.minPts&&(this.minPts=n.pts);var i=n.pts+n.duration;i>this.maxPts&&(this.maxPts=i)}}]),n}()},809345:function(n,i,a){"use strict";function o(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function s(n){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(i){v(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function c(){c=function(){return n};var n={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(n,i,a){n[i]=a.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(n,i,a){return Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{f({},"")}catch(n){f=function(n,i,a){return n[i]=a}}function h(n,i,a,s){var c=Object.create((i&&i.prototype instanceof g?i:g).prototype);return o(c,"_invoke",{value:function(n,i,a){var o="suspendedStart";return function(s,c){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===s)throw c;return R()}for(a.method=s,a.arg=c;;){var u=a.delegate;if(u){var d=function n(i,a){var o=a.method,s=i.iterator[o];if(void 0===s)return a.delegate=null,"throw"===o&&i.iterator.return&&(a.method="return",a.arg=void 0,n(i,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var c=p(s,i.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,v;var u=c.arg;return u?u.done?(a[i.resultName]=u.value,a.next=i.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,v):u:(a.method="throw",a.arg=TypeError("iterator result is not an object"),a.delegate=null,v)}(u,a);if(d){if(d===v)continue;return d}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=p(n,i,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(n,a,new T(s||[]))}),c}function p(n,i,a){try{return{type:"normal",arg:n.call(i,a)}}catch(n){return{type:"throw",arg:n}}}n.wrap=h;var v={};function g(){}function y(){}function m(){}var _={};f(_,u,function(){return this});var b=Object.getPrototypeOf,A=b&&b(b(I([])));A&&A!==i&&a.call(A,u)&&(_=A);var w=m.prototype=g.prototype=Object.create(_);function k(n){["next","throw","return"].forEach(function(i){f(n,i,function(n){return this._invoke(i,n)})})}function E(n,i){var s;o(this,"_invoke",{value:function(o,c){function u(){return new i(function(s,u){!function o(s,c,u,d){var l=p(n[s],n,c);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"==typeof h&&a.call(h,"__await")?i.resolve(h.__await).then(function(n){o("next",n,u,d)},function(n){o("throw",n,u,d)}):i.resolve(h).then(function(n){f.value=n,u(f)},function(n){return o("throw",n,u,d)})}d(l.arg)}(o,c,s,u)})}return s=s?s.then(u,u):u()}})}function x(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function S(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function T(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function I(n){if(n){var i=n[u];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,s=function i(){for(;++o<n.length;)if(a.call(n,o))return i.value=n[o],i.done=!1,i;return i.value=void 0,i.done=!0,i};return s.next=s}}return{next:R}}function R(){return{value:void 0,done:!0}}return y.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:y,configurable:!0}),y.displayName=f(m,l,"GeneratorFunction"),n.isGeneratorFunction=function(n){var i="function"==typeof n&&n.constructor;return!!i&&(i===y||"GeneratorFunction"===(i.displayName||i.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,f(n,l,"GeneratorFunction")),n.prototype=Object.create(w),n},n.awrap=function(n){return{__await:n}},k(E.prototype),f(E.prototype,d,function(){return this}),n.AsyncIterator=E,n.async=function(i,a,o,s,c){void 0===c&&(c=Promise);var u=new E(h(i,a,o,s),c);return n.isGeneratorFunction(a)?u:u.next().then(function(n){return n.done?n.value:u.next()})},k(w),f(w,l,"Generator"),f(w,u,function(){return this}),f(w,"toString",function(){return"[object Generator]"}),n.keys=function(n){var i=Object(n),a=[];for(var o in i)a.push(o);return a.reverse(),function n(){for(;a.length;){var o=a.pop();if(o in i)return n.value=o,n.done=!1,n}return n.done=!0,n}},n.values=I,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!n)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function o(a,o){return u.type="throw",u.arg=n,i.next=a,o&&(i.method="next",i.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s],u=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var d=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(d&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(d){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(n,i){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var c=s;break}}c&&("break"===n||"continue"===n)&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=n,u.arg=i,c?(this.method="next",this.next=c.finallyLoc,v):this.complete(u)},complete:function(n,i){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&i&&(this.next=i),v},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===n)return this.complete(a.completion,a.afterLoc),S(a),v}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===n){var o=a.completion;if("throw"===o.type){var s=o.arg;S(a)}return s}}throw Error("illegal catch attempt")},delegateYield:function(n,i,a){return this.delegate={iterator:I(n),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=void 0),v}},n}function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function d(n,i,a,o,s,c,u){try{var d=n[c](u),l=d.value}catch(n){a(n);return}d.done?i(l):Promise.resolve(l).then(o,s)}function l(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var c=n.apply(i,a);function u(n){d(c,o,s,u,l,"next",n)}function l(n){d(c,o,s,u,l,"throw",n)}u(void 0)})}}function f(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function h(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,I(o.key),o)}}function p(n,i,a){return i&&h(n.prototype,i),a&&h(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function v(n,i,a){return(i=I(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function g(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&m(n,i)}function y(n){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function m(n,i){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}function _(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function b(n,i,a){return(b=_()?Reflect.construct.bind():function(n,i,a){var o=[null];o.push.apply(o,i);var s=new(Function.bind.apply(n,o));return a&&m(s,a.prototype),s}).apply(null,arguments)}a.d(i,{Ac:function(){return u},IP:function(){return y},Kd:function(){return w},Lc:function(){return k},PA:function(){return f},U2:function(){return x},WY:function(){return E},XW:function(){return g},Zj:function(){return s},_x:function(){return v},l5:function(){return c},qH:function(){return p},sf:function(){return T},wm:function(){return A},x:function(){return l}});function A(n){var i="function"==typeof Map?new Map:void 0;return(A=function(n){var a;if(null===n||(a=n,-1===Function.toString.call(a).indexOf("[native code]")))return n;if("function"!=typeof n)throw TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(n))return i.get(n);i.set(n,o)}function o(){return b(n,arguments,y(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,n)})(n)}function w(n,i){if(null==n)return{};var a,o,s=function(n,i){if(null==n)return{};var a,o,s={},c=Object.keys(n);for(o=0;o<c.length;o++)a=c[o],!(i.indexOf(a)>=0)&&(s[a]=n[a]);return s}(n,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++){if(a=c[o],!(i.indexOf(a)>=0))Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}}return s}function k(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function E(n){var i=_();return function(){var a,o=y(n);return a=i?Reflect.construct(o,arguments,y(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return k(n)}(this,a)}}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,i,a){var o=function(n,i){for(;!Object.prototype.hasOwnProperty.call(n,i)&&null!==(n=y(n)););return n}(n,i);if(o){var s=Object.getOwnPropertyDescriptor(o,i);return s.get?s.get.call(arguments.length<3?n:a):s.value}}).apply(this,arguments)}function S(n,i){(null==i||i>n.length)&&(i=n.length);for(var a=0,o=Array(i);a<i;a++)o[a]=n[a];return o}function T(n,i){var a="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=function(n,i){if(n){if("string"==typeof n)return S(n,void 0);var a=Object.prototype.toString.call(n).slice(8,-1);if("Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(n,i)}}(n))||i&&n&&"number"==typeof n.length){a&&(n=a);var o=0,s=function(){};return{s:s,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,d=!1;return{s:function(){a=a.call(n)},n:function(){var n=a.next();return u=n.done,n},e:function(n){d=!0,c=n},f:function(){try{!u&&null!=a.return&&a.return()}finally{if(d)throw c}}}}function I(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},509399:function(n,i,a){"use strict";a.d(i,{J_:function(){return d},Kn:function(){return c},PO:function(){return u}});var o=a(809345),s=Object.prototype.toString;function c(n){return null!==n&&"object"===(0,o.Ac)(n)}function u(n){if("[object Object]"!==s.call(n))return!1;var i=Object.getPrototypeOf(n);return null===i||i===Object.prototype}function d(n){return"[object Date]"===s.call(n)}},712407:function(n,i,a){"use strict";a.d(i,{C:function(){return c}});var o=a(809345),s=a(473886),c=function(n){(0,o.XW)(a,n);var i=(0,o.WY)(a);function a(n,c,u,d){var l;return(0,o.PA)(this,a),l=i.call(this,d),(0,o._x)((0,o.Lc)(l),"retryCount",0),(0,o._x)((0,o.Lc)(l),"isTimeout",!1),(0,o._x)((0,o.Lc)(l),"loaderType",s.t.FETCH),(0,o._x)((0,o.Lc)(l),"startTime",0),(0,o._x)((0,o.Lc)(l),"endTime",0),(0,o._x)((0,o.Lc)(l),"options",{}),l.url=n,l.request=c,l.response=u,l}return(0,o.qH)(a)}((0,o.wm)(Error))},675338:function(n,i,a){"use strict";a.d(i,{i:function(){return y}});var o=a("809345"),s=a("133422"),c=a("712407"),u=a("292263"),d=a("473886"),l=a("429571"),f=a("159322"),h=function(n){(0,o.XW)(a,n);var i=(0,o.WY)(a);function a(){var n;return(0,o.PA)(this,a),n=i.call(this),(0,o._x)((0,o.Lc)(n),"_xhr",null),(0,o._x)((0,o.Lc)(n),"_aborted",!1),(0,o._x)((0,o.Lc)(n),"_timeoutTimer",null),(0,o._x)((0,o.Lc)(n),"_range",null),(0,o._x)((0,o.Lc)(n),"_receivedLength",0),(0,o._x)((0,o.Lc)(n),"_url",null),(0,o._x)((0,o.Lc)(n),"_onProgress",null),(0,o._x)((0,o.Lc)(n),"_index",-1),(0,o._x)((0,o.Lc)(n),"_headers",null),(0,o._x)((0,o.Lc)(n),"_currentChunkSizeKB",384),(0,o._x)((0,o.Lc)(n),"_timeout",null),(0,o._x)((0,o.Lc)(n),"_xhr",null),(0,o._x)((0,o.Lc)(n),"_withCredentials",null),(0,o._x)((0,o.Lc)(n),"_startTime",-1),(0,o._x)((0,o.Lc)(n),"_loadCompleteResolve",null),(0,o._x)((0,o.Lc)(n),"_loadCompleteReject",null),(0,o._x)((0,o.Lc)(n),"_runing",!1),(0,o._x)((0,o.Lc)(n),"_logger",!1),(0,o._x)((0,o.Lc)(n),"_vid",""),(0,o._x)((0,o.Lc)(n),"_responseType",void 0),(0,o._x)((0,o.Lc)(n),"_credentials",void 0),(0,o._x)((0,o.Lc)(n),"_method",void 0),(0,o._x)((0,o.Lc)(n),"_transformResponse",void 0),(0,o._x)((0,o.Lc)(n),"_firstRtt",void 0),(0,o._x)((0,o.Lc)(n),"_onCancel",null),(0,o._x)((0,o.Lc)(n),"_priOptions",null),n}return(0,o.qH)(a,[{key:"load",value:function(n){var i=this;clearTimeout(this._timeoutTimer),this._logger=n.logger,this._range=n.range,this._onProgress=n.onProgress,this._index=n.index,this._headers=n.headers,this._withCredentials="include"===n.credentials||"same-origin"===n.credentials,this._body=n.body||null,n.method&&(this._method=n.method),this._timeout=n.timeout||null,this._runing=!0,this._vid=n.vid||n.url,this._responseType=n.responseType,this._firstRtt=-1,this._onTimeout=n.onTimeout,this._onCancel=n.onCancel,this._request=n.request,this._priOptions=n.priOptions||{},this._logger.debug("【xhrLoader task】, range",this._range),this._url=(0,u.G7)(n.url,n.params);var a=Date.now();return new Promise(function(n,a){i._loadCompleteResolve=n,i._loadCompleteReject=a,i._startLoad()}).catch(function(n){if(clearTimeout(i._timeoutTimer),i._runing=!1,!i._aborted)throw(n=n instanceof c.C?n:new c.C(i._url,i._request)).startTime=a,n.endTime=Date.now(),n.options={index:i._index,vid:i._vid,priOptions:i._priOptions},n})}},{key:"_startLoad",value:function(){var n=null;if(this._responseType===d.U.ARRAY_BUFFER&&this._range&&this._range.length>1){if(this._onProgress){this._firstRtt=-1;var i=1024*this._currentChunkSizeKB,a=this._range[0]+this._receivedLength,o=this._range[1];i<this._range[1]-a&&(o=a+i),n=[a,o],this._logger.debug("[xhr_loader->],tast :",this._range,", SubRange, ",n)}else n=this._range,this._logger.debug("[xhr_loader->],tast :",this._range,", allRange, ",n)}this._internalOpen(n)}},{key:"_internalOpen",value:function(n){var i=this;try{this._startTime=Date.now();var a=this._xhr=new XMLHttpRequest;a.open(this._method||"GET",this._url,!0),a.responseType=this._responseType,this._timeout&&(a.timeout=this._timeout),a.withCredentials=this._withCredentials,a.onload=this._onLoad.bind(this),a.onreadystatechange=this._onReadyStatechange.bind(this),a.onerror=function(n){i._running=!1;var a,o,s,u=new c.C(i._url,i._request,null==n?void 0:null===(a=n.currentTarget)||void 0===a?void 0:a.response,"xhr.onerror.status:"+(null==n?void 0:null===(o=n.currentTarget)||void 0===o?void 0:o.status)+",statusText,"+(null==n?void 0:null===(s=n.currentTarget)||void 0===s?void 0:s.statusText));u.options={index:i._index,range:i._range,vid:i._vid,priOptions:i._priOptions},i._loadCompleteReject(u)},a.ontimeout=function(n){i.cancel();var a=new c.C(i._url,i._request,{status:408},"timeout");i._onTimeout&&(a.isTimeout=!0,i._onTimeout(a,{index:i._index,range:i._range,vid:i._vid,priOptions:i._priOptions})),a.options={index:i._index,range:i._range,vid:i._vid,priOptions:i._priOptions},i._loadCompleteReject(a)};var o=this._headers||{},s=(0,u.Gu)(n);s&&(o.Range=s),o&&Object.keys(o).forEach(function(n){a.setRequestHeader(n,o[n])}),this._logger.debug("[xhr.send->] tast,",this._range,",load sub range, ",n),a.send(this._body)}catch(i){i.options={index:this._index,range:n,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(i)}}},{key:"_onReadyStatechange",value:function(n){2===n.target.readyState&&this._firstRtt<0&&(this._firstRtt=Date.now())}},{key:"_onLoad",value:function(n){var i=n.target.status;if(i<200||i>299){var a=new c.C(this._url,null,(0,o.Zj)((0,o.Zj)({},n.target.response),{},{status:i}),"bad response,status:"+i);return a.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(a)}var s=null,f=!1,h=(null===(p=this._range)||void 0===p?void 0:p.length)>0?this._range[0]:0;if(this._responseType===d.U.ARRAY_BUFFER){var p,v,g,y=new Uint8Array(n.target.response);if(v=h+this._receivedLength,y&&y.byteLength>0){this._receivedLength+=y.byteLength;var m=Date.now()-this._startTime,_=(0,u.pl)(this._receivedLength,m);this.emit(l.K.REAL_TIME_SPEED,{speed:_,len:this._receivedLength,time:m,vid:this._vid,index:this._index,range:[v,h+this._receivedLength],priOptions:this._priOptions})}s=y,f=(!((null===(g=this._range)||void 0===g?void 0:g.length)>1)||!this._range[1]||!(this._receivedLength<this._range[1]-this._range[0]))&&!0,this._logger.debug("[xhr load done->], tast :",this._range,", start",v,"end ",h+this._receivedLength,",dataLen,",y?y.byteLength:0,",receivedLength",this._receivedLength,",index,",this._index,", done,",f)}else f=!0,s=n.target.response;var b={ok:i>=200&&i<300,status:i,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._transformResponse&&(b=this._transformResponse(b,this._url)||b),this._onProgress&&this._onProgress(s,f,{index:this._index,vid:this._vid,range:[v,h+this._receivedLength],startTime:this._startTime,endTime:Date.now(),priOptions:this._priOptions},b),f?(this._runing=!1,this._loadCompleteResolve&&this._loadCompleteResolve((0,u.rO)(this._onProgress?null:s,f,b,b.headers["content-length"],b.headers.age,this._startTime,this._firstRtt,this._index,this._range,this._vid,this._priOptions))):this._startLoad()}},{key:"cancel",value:function(){if(!this._aborted&&(this._aborted=!0,this._runing=!1,(0,o.U2)((0,o.IP)(a.prototype),"removeAllListeners",this).call(this),this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions}),this._xhr))return this._xhr.abort()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(n){this._running=n}},{key:"_getHeaders",value:function(n){var i=n.getAllResponseHeaders().trim().split("\r\n"),a={},s,c=(0,o.sf)(i);try{for(c.s();!(s=c.n()).done;){var u=s.value.split(": ");a[u[0].toLowerCase()]=u.slice(1).join(": ")}}catch(n){c.e(n)}finally{c.f()}return a}}],[{key:"isSupported",value:function(){return"undefined"!=typeof XMLHttpRequest}}]),a}(a.n(f)()),p=a("901855"),v=a("101132"),g=["retry","retryDelay","onRetryError","transformError"],y=function(){var n;function i(n,a){(0,o.PA)(this,i),this.promise=(0,p.Q)(),this.alive=!!a.onProgress,a.logger||(a.logger=new v.Y("Loader")),this._loaderType=n,this._loader=n===d.t.FETCH&&window.fetch?new s.j:new h,this._config=a,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._retryCheckFunc=a.retryCheckFunc,this._logger=a.logger}return(0,o.qH)(i,[{key:"exec",value:function(){var n,i=this,a=this._config,s=a.retry,c=a.retryDelay,u=a.onRetryError,d=a.transformError,l=(0,o.Kd)(a,g);var f=(n=(0,o.x)((0,o.l5)().mark(function n(){var a,h,p;return(0,o.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i._loader.load(l);case 3:a=n.sent,i.promise.resolve(a),n.next=27;break;case 7:if(n.prev=7,n.t0=n.catch(0),i._loader.running=!1,i._logger.debug("[task request catch err]",n.t0),!i._canceled){n.next=13;break}return n.abrupt("return");case 13:if(n.t0.loaderType=i._loaderType,n.t0.retryCount=i._retryCount,h=n.t0,d&&(h=d(h)||h),u&&i._retryCount>0&&u(h,i._retryCount,{index:l.index,vid:l.vid,range:l.range,priOptions:l.priOptions}),i._retryCount++,p=!0,i._retryCheckFunc&&(p=i._retryCheckFunc(n.t0)),!(p&&i._retryCount<=s)){n.next=26;break}return clearTimeout(i._retryTimer),i._logger.debug("[task request setTimeout],retry",i._retryCount,",retry range,",l.range),i._retryTimer=setTimeout(f,c),n.abrupt("return");case 26:i.promise.reject(h);case 27:case"end":return n.stop()}},n,null,[[0,7]])})),function(){return n.apply(this,arguments)});return f(),this.promise}},{key:"cancel",value:(n=(0,o.x)((0,o.l5)().mark(function n(){return(0,o.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,n.abrupt("return",this._loader.cancel());case 4:case"end":return n.stop()}},n,this)})),function(){return n.apply(this,arguments)})},{key:"running",get:function(){return this._loader&&this._loader.running}},{key:"loader",get:function(){return this._loader}}]),i}()},933330:function(n,i,a){"use strict";a.d(i,{_v:function(){return c},gJ:function(){return o},xf:function(){return s}});function o(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if((i=i.filter(Boolean)).length<2)return i[0];var o=s(i.reduce(function(n,i){return n+i.byteLength},0)),c=0;return i.forEach(function(n){o.set(n,c),c+=n.byteLength}),o}function s(n){for(var i,a=0;a<10;)try{if(i=new Uint8Array(n),i.byteLength>0)break;a++}catch(n){if(a<10)a++;else throw Error("new array failed final,".concat(null==n?void 0:n.message))}return i}function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(i){return setTimeout(i,n)})}},473491:function(n,i,a){"use strict";a.d(i,{WE:function(){return u},wb:function(){return c}});var o,s=a(15810),c={MANIFEST:"manifest",NETWORK:"network",NETWORK_TIMEOUT:"network_timeout",NETWORK_FORBIDDEN:"network_forbidden",NETWORK_NOTFOUND:"network_notfound",NETWROK_RANGE_NOT_SATISFIABLE:"network_range_not_satisfiable",DEMUX:"demux",REMUX:"remux",MEDIA:"media",DRM:"drm",OTHER:"other",RUNTIME:"runtime",SUB_TYPES:{FLV:"FLV",HLS:"HLS",MP4:"MP4",FMP4:"FMP4",MSE_ADD_SB:"MSE_ADD_SB",MSE_APPEND_BUFFER:"MSE_APPEND_BUFFER",MSE_OTHER:"MSE_OTHER",MSE_FULL:"MSE_FULL",OPTION:"OPTION",DASH:"DASH",LICENSE:"LICENSE",CUSTOM_LICENSE:"CUSTOM_LICENSE",MSE_HIJACK:"MSE_HIJACK",EME_HIJACK:"EME_HIJACK",SIDX:"SIDX",NO_CANPLAY_ERROR:"NO_CANPLAY_ERROR",BUFFERBREAK_ERROR:"BUFFERBREAK_ERROR",WAITING_TIMEOUT_ERROR:"WAITING_TIMEOUT_ERROR",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_CODEC_NOT_SUPPORTED:"MEDIA_ERR_CODEC_NOT_SUPPORTED",MEDIA_ERR_URL_EMPTY:"MEDIA_ERR_URL_EMPTY"}},u=(o={},(0,s._x)(o,c.MANIFEST,{HLS:1100,DASH:1200}),(0,s._x)(o,c.NETWORK,2100),(0,s._x)(o,c.NETWORK_TIMEOUT,2101),(0,s._x)(o,c.NETWORK_FORBIDDEN,2103),(0,s._x)(o,c.NETWORK_NOTFOUND,2104),(0,s._x)(o,c.NETWROK_RANGE_NOT_SATISFIABLE,2116),(0,s._x)(o,c.DEMUX,{FLV:3100,HLS:3200,MP4:3300,FMP4:3400,SIDX:3410}),(0,s._x)(o,c.REMUX,{FMP4:4100,MP4:4200}),(0,s._x)(o,c.MEDIA,{MEDIA_ERR_ABORTED:5101,MEDIA_ERR_NETWORK:5102,MEDIA_ERR_DECODE:5103,MEDIA_ERR_SRC_NOT_SUPPORTED:5104,MEDIA_ERR_CODEC_NOT_SUPPORTED:5105,MEDIA_ERR_URL_EMPTY:5106,MSE_ADD_SB:5200,MSE_APPEND_BUFFER:5201,MSE_OTHER:5202,MSE_FULL:5203,MSE_HIJACK:5204,EME_HIJACK:5301}),(0,s._x)(o,c.DRM,{LICENSE:7100,CUSTOM_LICENSE:7200}),(0,s._x)(o,c.OTHER,8e3),(0,s._x)(o,c.RUNTIME,{NO_CANPLAY_ERROR:9001,BUFFERBREAK_ERROR:9002,WAITING_TIMEOUT_ERROR:9003}),o)},663786:function(n,i,a){"use strict";a.d(i,{J_:function(){return d},Kn:function(){return c},PO:function(){return u}});var o=a(15810),s=Object.prototype.toString;function c(n){return null!==n&&"object"===(0,o.Ac)(n)}function u(n){if("[object Object]"!==s.call(n))return!1;var i=Object.getPrototypeOf(n);return null===i||i===Object.prototype}function d(n){return"[object Date]"===s.call(n)}},106989:function(n,i,a){"use strict";a.d(i,{j:function(){return h}});var o=a(15810),s=a(393293),c=a(162276),u=a(171569),d=a(197392),l=a(159322),f=a.n(l),h=function(n){(0,o.XW)(l,n);var i,a=(0,o.WY)(l);function l(){var n;return(0,o.PA)(this,l),n=a.call(this),(0,o._x)((0,o.Lc)(n),"_abortController",null),(0,o._x)((0,o.Lc)(n),"_timeoutTimer",null),(0,o._x)((0,o.Lc)(n),"_reader",null),(0,o._x)((0,o.Lc)(n),"_response",null),(0,o._x)((0,o.Lc)(n),"_aborted",!1),(0,o._x)((0,o.Lc)(n),"_index",-1),(0,o._x)((0,o.Lc)(n),"_range",null),(0,o._x)((0,o.Lc)(n),"_receivedLength",0),(0,o._x)((0,o.Lc)(n),"_running",!1),(0,o._x)((0,o.Lc)(n),"_logger",null),(0,o._x)((0,o.Lc)(n),"_vid",""),(0,o._x)((0,o.Lc)(n),"_onProcessMinLen",0),(0,o._x)((0,o.Lc)(n),"_onCancel",null),(0,o._x)((0,o.Lc)(n),"_priOptions",null),n}return(0,o.qH)(l,[{key:"load",value:function(n){var i,a=this,l=n.url,f=n.vid,h=n.timeout,p=n.responseType,v=n.onProgress,g=n.index,y=n.onTimeout,m=n.onCancel,_=n.range,b=n.transformResponse,A=n.request,w=n.params,k=n.logger,E=n.method,x=n.headers,S=n.body,T=n.mode,I=n.credentials,R=n.cache,C=n.redirect,D=n.referrer,O=n.referrerPolicy,B=n.onProcessMinLen,P=n.priOptions;this._logger=k,this._aborted=!1,this._onProcessMinLen=B,this._onCancel=m,this._abortController="undefined"!=typeof AbortController&&new AbortController,this._running=!0,this._index=g,this._range=_||[0,0],this._vid=f||l,this._priOptions=P||{};var L={method:E,headers:x,body:S,mode:T,credentials:I,cache:R,redirect:C,referrer:D,referrerPolicy:O,signal:null===(i=this._abortController)||void 0===i?void 0:i.signal},M=!1;clearTimeout(this._timeoutTimer),l=(0,c.G7)(l,w);var N=(0,c.Gu)(_);N&&(x=A?A.headers:L.headers=L.headers||(Headers?new Headers:{}),Headers&&x instanceof Headers?x.append("Range",N):x.Range=N),h&&(this._timeoutTimer=setTimeout(function(){if(M=!0,a.cancel(),y){var n=new s.C(l,L,null,"timeout");n.isTimeout=!0,y(n,{index:a._index,range:a._range,vid:a._vid,priOptions:a._priOptions})}},h));var U=Date.now();return this._logger.debug("[fetch load start], index,",g,",range,",_),new Promise(function(n,i){var f;fetch(A||l,A?void 0:L).then((f=(0,o.x)((0,o.l5)().mark(function f(h){var y,m,A,w;return(0,o.l5)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(clearTimeout(a._timeoutTimer),a._response=h,!(a._aborted||!a._running)){o.next=4;break}return o.abrupt("return");case 4:if(b&&(h=b(h,l)||h),h.ok){o.next=7;break}throw new s.C(l,L,h,"bad network response");case 7:if(y=Date.now(),p!==u.U.TEXT){o.next=15;break}return o.next=11,h.text();case 11:case 18:m=o.sent,a._running=!1,o.next=37;break;case 15:if(p!==u.U.JSON){o.next=22;break}return o.next=18,h.json();case 22:if(!v){o.next=29;break}return a.resolve=n,a.reject=i,a._loadChunk(h,v,U,y),o.abrupt("return");case 29:return o.next=31,h.arrayBuffer();case 31:m=new Uint8Array(m=o.sent),a._running=!1,A=Date.now()-U,w=(0,c.pl)(m.byteLength,A),a.emit(d.K.REAL_TIME_SPEED,{speed:w,len:m.byteLength,time:A,vid:a._vid,index:a._index,range:a._range,priOptions:a._priOptions});case 37:a._logger.debug("[fetch load end], index,",g,",range,",_),n((0,c.rO)(m,!0,h,h.headers.get("Content-Length"),h.headers.get("age"),U,y,g,_,a._vid,a._priOptions));case 39:case"end":return o.stop()}},f)})),function(n){return f.apply(this,arguments)})).catch(function(n){var o;clearTimeout(a._timeoutTimer),a._running=!1,(!a._aborted||M)&&((n=n instanceof s.C?n:new s.C(l,L,null,null===(o=n)||void 0===o?void 0:o.message)).startTime=U,n.endTime=Date.now(),n.isTimeout=M,n.options={index:a._index,range:a._range,vid:a._vid,priOptions:a._priOptions},i(n))})})}},{key:"cancel",value:(i=(0,o.x)((0,o.l5)().mark(function n(){return(0,o.l5)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._aborted){n.next=2;break}return n.abrupt("return");case 2:if(this._aborted=!0,this._running=!1,!this._response){n.next=14;break}if(n.prev=5,!this._reader){n.next=9;break}return n.next=9,this._reader.cancel();case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(5);case 13:this._response=this._reader=null;case 14:if(this._abortController){try{this._abortController.abort()}catch(n){}this._abortController=null}this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions});case 16:case"end":return n.stop()}},n,this,[[5,11]])})),function(){return i.apply(this,arguments)})},{key:"_loadChunk",value:function(n,i,a,u){var l,f,h,p,v=this;if(!n.body||!n.body.getReader){this._running=!1;var g=new s.C(n.url,"",n,"onProgress of bad response.body.getReader");g.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this.reject(g);return}this._onProcessMinLen>0&&(this._cache=new Uint8Array(2097152),this._writeIdx=0);var y=this._reader=n.body.getReader();var m=(l=(0,o.x)((0,o.l5)().mark(function s(){var l,g,_,b,A,w,k,E;return(0,o.l5)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return h=Date.now(),o.prev=1,o.next=4,y.read();case 4:f=o.sent,p=Date.now(),o.next=13;break;case 8:return o.prev=8,o.t0=o.catch(1),p=Date.now(),!v._aborted&&(v._running=!1,o.t0.options={index:v._index,range:v._range,vid:v._vid,priOptions:v._priOptions},v.reject(o.t0)),o.abrupt("return");case 13:if(_=(g=(null===(l=v._range)||void 0===l?void 0:l.length)>0?v._range[0]:0)+v._receivedLength,!v._aborted){o.next=19;break}return v._running=!1,i(void 0,!1,{range:[_,_],vid:v._vid,index:v._index,startTime:h,endTime:p,st:a,firstByteTime:u,priOptions:v._priOptions},n),o.abrupt("return");case 19:b=f.value?f.value.byteLength:0,v._receivedLength+=b,v._logger.debug("【fetchLoader,onProgress call】,task,",v._range,", start,",_,", end,",g+v._receivedLength,", done,",f.done),v._onProcessMinLen>0?v._writeIdx+b>=v._onProcessMinLen||f.done?((A=new Uint8Array(v._writeIdx+b)).set(v._cache.slice(0,v._writeIdx),0),b>0&&A.set(f.value,v._writeIdx),v._writeIdx=0,v._logger.debug("【fetchLoader,onProgress enough】,done,",f.done,",len,",A.byteLength,", writeIdx,",v._writeIdx)):b>0&&v._writeIdx+b<2097152?(v._cache.set(f.value,v._writeIdx),v._writeIdx+=b,v._logger.debug("【fetchLoader,onProgress cache】,len,",b,", writeIdx,",v._writeIdx)):b>0&&(w=new Uint8Array(v._writeIdx+b+2048),v._logger.debug("【fetchLoader,onProgress extra start】,size,",v._writeIdx+b+2048,", datalen,",b,", writeIdx,",v._writeIdx),w.set(v._cache.slice(0,v._writeIdx),0),b>0&&w.set(f.value,v._writeIdx),v._writeIdx+=b,delete v._cache,v._cache=w,v._logger.debug("【fetchLoader,onProgress extra end】,len,",b,", writeIdx,",v._writeIdx)):A=f.value,(A&&A.byteLength>0||f.done)&&i(A,f.done,{range:[v._range[0]+v._receivedLength-(A?A.byteLength:0),v._range[0]+v._receivedLength],vid:v._vid,index:v._index,startTime:h,endTime:p,st:a,firstByteTime:u,priOptions:v._priOptions},n),f.done?(k=Date.now()-a,E=(0,c.pl)(v._receivedLength,k),v.emit(d.K.REAL_TIME_SPEED,{speed:E,len:v._receivedLength,time:k,vid:v._vid,index:v._index,range:v._range,priOptions:v._priOptions}),v._running=!1,v._logger.debug("[fetchLoader onProgress end],task,",v._range,",done,",f.done),v.resolve((0,c.rO)(f,!0,n,n.headers.get("Content-Length"),n.headers.get("age"),a,u,v._index,v._range,v._vid,v._priOptions))):m();case 25:case"end":return o.stop()}},s,null,[[1,8]])})),function(){return l.apply(this,arguments)});m()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(n){this._running=n}}],[{key:"isSupported",value:function(){return"undefined"!=typeof fetch}}]),l}(f())},932393:function(n,i,a){"use strict";function o(n,i){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,o)}return a}function s(n){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?o(Object(a),!0).forEach(function(i){v(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function c(){c=function(){return n};var n={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(n,i,a){n[i]=a.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(n,i,a){return Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{f({},"")}catch(n){f=function(n,i,a){return n[i]=a}}function h(n,i,a,s){var c=Object.create((i&&i.prototype instanceof g?i:g).prototype);return o(c,"_invoke",{value:function(n,i,a){var o="suspendedStart";return function(s,c){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===s)throw c;return R()}for(a.method=s,a.arg=c;;){var u=a.delegate;if(u){var d=function n(i,a){var o=a.method,s=i.iterator[o];if(void 0===s)return a.delegate=null,"throw"===o&&i.iterator.return&&(a.method="return",a.arg=void 0,n(i,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var c=p(s,i.iterator,a.arg);if("throw"===c.type)return a.method="throw",a.arg=c.arg,a.delegate=null,v;var u=c.arg;return u?u.done?(a[i.resultName]=u.value,a.next=i.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,v):u:(a.method="throw",a.arg=TypeError("iterator result is not an object"),a.delegate=null,v)}(u,a);if(d){if(d===v)continue;return d}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=p(n,i,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(n,a,new T(s||[]))}),c}function p(n,i,a){try{return{type:"normal",arg:n.call(i,a)}}catch(n){return{type:"throw",arg:n}}}n.wrap=h;var v={};function g(){}function y(){}function m(){}var _={};f(_,u,function(){return this});var b=Object.getPrototypeOf,A=b&&b(b(I([])));A&&A!==i&&a.call(A,u)&&(_=A);var w=m.prototype=g.prototype=Object.create(_);function k(n){["next","throw","return"].forEach(function(i){f(n,i,function(n){return this._invoke(i,n)})})}function E(n,i){var s;o(this,"_invoke",{value:function(o,c){function u(){return new i(function(s,u){!function o(s,c,u,d){var l=p(n[s],n,c);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"==typeof h&&a.call(h,"__await")?i.resolve(h.__await).then(function(n){o("next",n,u,d)},function(n){o("throw",n,u,d)}):i.resolve(h).then(function(n){f.value=n,u(f)},function(n){return o("throw",n,u,d)})}d(l.arg)}(o,c,s,u)})}return s=s?s.then(u,u):u()}})}function x(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function S(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function T(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function I(n){if(n){var i=n[u];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,s=function i(){for(;++o<n.length;)if(a.call(n,o))return i.value=n[o],i.done=!1,i;return i.value=void 0,i.done=!0,i};return s.next=s}}return{next:R}}function R(){return{value:void 0,done:!0}}return y.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:y,configurable:!0}),y.displayName=f(m,l,"GeneratorFunction"),n.isGeneratorFunction=function(n){var i="function"==typeof n&&n.constructor;return!!i&&(i===y||"GeneratorFunction"===(i.displayName||i.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,f(n,l,"GeneratorFunction")),n.prototype=Object.create(w),n},n.awrap=function(n){return{__await:n}},k(E.prototype),f(E.prototype,d,function(){return this}),n.AsyncIterator=E,n.async=function(i,a,o,s,c){void 0===c&&(c=Promise);var u=new E(h(i,a,o,s),c);return n.isGeneratorFunction(a)?u:u.next().then(function(n){return n.done?n.value:u.next()})},k(w),f(w,l,"Generator"),f(w,u,function(){return this}),f(w,"toString",function(){return"[object Generator]"}),n.keys=function(n){var i=Object(n),a=[];for(var o in i)a.push(o);return a.reverse(),function n(){for(;a.length;){var o=a.pop();if(o in i)return n.value=o,n.done=!1,n}return n.done=!0,n}},n.values=I,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!n)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function o(a,o){return u.type="throw",u.arg=n,i.next=a,o&&(i.method="next",i.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s],u=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var d=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(d&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(d){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(n,i){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var c=s;break}}c&&("break"===n||"continue"===n)&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=n,u.arg=i,c?(this.method="next",this.next=c.finallyLoc,v):this.complete(u)},complete:function(n,i){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&i&&(this.next=i),v},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===n)return this.complete(a.completion,a.afterLoc),S(a),v}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===n){var o=a.completion;if("throw"===o.type){var s=o.arg;S(a)}return s}}throw Error("illegal catch attempt")},delegateYield:function(n,i,a){return this.delegate={iterator:I(n),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=void 0),v}},n}function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function d(n,i,a,o,s,c,u){try{var d=n[c](u),l=d.value}catch(n){a(n);return}d.done?i(l):Promise.resolve(l).then(o,s)}function l(n){return function(){var i=this,a=arguments;return new Promise(function(o,s){var c=n.apply(i,a);function u(n){d(c,o,s,u,l,"next",n)}function l(n){d(c,o,s,u,l,"throw",n)}u(void 0)})}}function f(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function h(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,I(o.key),o)}}function p(n,i,a){return i&&h(n.prototype,i),a&&h(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function v(n,i,a){return(i=I(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}function g(n,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&m(n,i)}function y(n){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function m(n,i){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n})(n,i)}function _(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function b(n,i,a){return(b=_()?Reflect.construct.bind():function(n,i,a){var o=[null];o.push.apply(o,i);var s=new(Function.bind.apply(n,o));return a&&m(s,a.prototype),s}).apply(null,arguments)}a.d(i,{Ac:function(){return u},IP:function(){return y},Kd:function(){return w},Lc:function(){return k},PA:function(){return f},U2:function(){return x},WY:function(){return E},XW:function(){return g},Zj:function(){return s},_x:function(){return v},l5:function(){return c},qH:function(){return p},sf:function(){return T},wm:function(){return A},x:function(){return l}});function A(n){var i="function"==typeof Map?new Map:void 0;return(A=function(n){var a;if(null===n||(a=n,-1===Function.toString.call(a).indexOf("[native code]")))return n;if("function"!=typeof n)throw TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(n))return i.get(n);i.set(n,o)}function o(){return b(n,arguments,y(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,n)})(n)}function w(n,i){if(null==n)return{};var a,o,s=function(n,i){if(null==n)return{};var a,o,s={},c=Object.keys(n);for(o=0;o<c.length;o++)a=c[o],!(i.indexOf(a)>=0)&&(s[a]=n[a]);return s}(n,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++){if(a=c[o],!(i.indexOf(a)>=0))Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}}return s}function k(n){if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function E(n){var i=_();return function(){var a,o=y(n);return a=i?Reflect.construct(o,arguments,y(this).constructor):o.apply(this,arguments),function(n,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return k(n)}(this,a)}}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,i,a){var o=function(n,i){for(;!Object.prototype.hasOwnProperty.call(n,i)&&null!==(n=y(n)););return n}(n,i);if(o){var s=Object.getOwnPropertyDescriptor(o,i);return s.get?s.get.call(arguments.length<3?n:a):s.value}}).apply(this,arguments)}function S(n,i){(null==i||i>n.length)&&(i=n.length);for(var a=0,o=Array(i);a<i;a++)o[a]=n[a];return o}function T(n,i){var a="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=function(n,i){if(n){if("string"==typeof n)return S(n,void 0);var a=Object.prototype.toString.call(n).slice(8,-1);if("Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(n,i)}}(n))||i&&n&&"number"==typeof n.length){a&&(n=a);var o=0,s=function(){};return{s:s,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,d=!1;return{s:function(){a=a.call(n)},n:function(){var n=a.next();return u=n.done,n},e:function(n){d=!0,c=n},f:function(){try{!u&&null!=a.return&&a.return()}finally{if(d)throw c}}}}function I(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},41866:function(n,i,a){"use strict";a.d(i,{Y:function(){return u},_:function(){return s}});var o=a(932393),s={DEBUG:1,LOG:2,WARN:3,ERROR:4},c=["Boolean","Number","String","Undefined","Null","Date","Object"],u=function(){function n(i,a){(0,o.PA)(this,n),this.name=i||"",this._prefix="[".concat(this.name,"]"),this.logCacheLevel=(null==a?void 0:a.logCacheLevel)||3,this.logMaxSize=(null==a?void 0:a.logMaxSize)||204800,this.logSize=0,this.logTextArray=[]}return(0,o.qH)(n,[{key:"debug",value:function(){for(var i,a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];this.logCache.apply(this,[s.DEBUG].concat(o)),!n.disabled&&(i=console).debug.apply(i,[this._prefix,d()].concat(o))}},{key:"log",value:function(){for(var i,a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];this.logCache.apply(this,[s.LOG].concat(o)),!n.disabled&&(i=console).log.apply(i,[this._prefix,d()].concat(o))}},{key:"warn",value:function(){for(var i,a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];this.logCache.apply(this,[s.WARN].concat(o)),!n.disabled&&(i=console).warn.apply(i,[this._prefix,d()].concat(o))}},{key:"error",value:function(){for(var i,a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];this.logCache.apply(this,[s.ERROR].concat(o)),!n.disabled&&(i=console).error.apply(i,[this._prefix,d()].concat(o))}},{key:"logCache",value:function(n){if(!(n<this.logCacheLevel)){var i="";try{for(var a=arguments.length,s=Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];var l=s.map(function(n){return function n(i,a,s){!s&&(s=1),!a&&(a=2);var u={};if(!i||"object"!==(0,o.Ac)(i))return i;var d=Object.prototype.toString.call(i).slice(8,-1);if(!c.includes(d))return d;if(!(s>a)){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s===a?u[l]=function(n){if("object"!==(0,o.Ac)(n))return n;var i=Object.prototype.toString.call(n).slice(8,-1);switch(i){case"Array":case"Uint8Array":case"ArrayBuffer":return i+"["+n.length+"]";case"Object":return"{}";default:return i}}(i[l]):"object"===(0,o.Ac)(i[l])?u[l]=n(i[l],a,s+1):u[l]=i[l]);return u}}(n)});i=this._prefix+d()+JSON.stringify(l)}catch(n){return}if(n>=this.logCacheLevel&&(this.logSize+=i.length,this.logTextArray.push(i)),this.logSize>this.logMaxSize){var f=this.logTextArray.shift();this.logSize-=f.length}}}},{key:"getLogCache",value:function(){var n=this.logTextArray.join("\n");return this.reset(),n}},{key:"reset",value:function(){this.logTextArray=[],this.logSize=0}},{key:"table",value:function(){var i;!n.disabled&&(i=console).table.apply(i,arguments)}},{key:"setLogLevel",value:function(n){this.logCacheLevel=n}}],[{key:"enable",value:function(){n.disabled=!1}},{key:"disable",value:function(){n.disabled=!0}}]),n}();function d(){return new Date().toLocaleString()}(0,o._x)(u,"disabled",!0)},810430:function(n,i,a){"use strict";a.d(i,{G7:function(){return u},Gu:function(){return s},pl:function(){return l},rO:function(){return d}});var o=a(896269);function s(n){if(!!n&&null!==n[0]&&void 0!==n[0]&&(0!==n[0]||null!==n[1]&&void 0!==n[1])){var i="bytes="+n[0]+"-";return n[1]&&(i+=n[1]),i}}function c(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u(n,i){if(n){if(!i)return n;var a,s=Object.keys(i).map(function(n){if(null!=(a=i[n]))return Array.isArray(a)?n+="[]":a=[a],a.map(function(i){return(0,o.J_)(i)?i=i.toISOString():(0,o.Kn)(i)&&(i=JSON.stringify(i)),"".concat(c(n),"=").concat(c(i))}).join("&")}).filter(Boolean).join("&");if(s){var u=n.indexOf("#");-1!==u&&(n=n.slice(0,u)),n+=(-1===n.indexOf("?")?"?":"&")+s}return n}}function d(n,i,a,o,s,c,u,d,l,f,h){return s=null!=s?parseFloat(s):null,Number.isNaN(o=parseInt(o||"0",10))&&(o=0),{data:n,done:i,options:{range:l,vid:f,index:d,contentLength:o,age:s,startTime:c,firstByteTime:u,endTime:Date.now(),priOptions:h},response:a}}function l(n,i){return Math.round(8e3*n/i/1024)}},721035:function(n,i,a){"use strict";function o(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if((i=i.filter(Boolean)).length<2)return i[0];var o=new Uint8Array(i.reduce(function(n,i){return n+i.byteLength},0)),s=0;return i.forEach(function(n){o.set(n,s),s+=n.byteLength}),o}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(i){return setTimeout(i,n)})}a.d(i,{_v:function(){return s},gJ:function(){return o}})},115869:function(n,i,a){"use strict";function o(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=new Uint8Array((i=i.filter(Boolean)).reduce(function(n,i){return n+i.byteLength},0)),s=0;return i.forEach(function(n){o.set(n,s),s+=n.byteLength}),o}a.d(i,{gJ:function(){return o}}),a(561999),a(864614),a(121621),a(812735),a(623302),a(983431),a(319386),a(657170),a(853127),a(644952),a(759149),a(949136),a(966922),a(33814),a(29536),a(716005),a(548485),a(260075),a(791017),a(743286),a(310378),a(124539),a(48498),a(728271),a(814647),a(535689),a(659673),a(210434),a(238658)},75161:function(n,i,a){"use strict";function o(n,i){if(!(n instanceof i))throw TypeError("Cannot call a class as a function")}function s(n,i){for(var a=0;a<i.length;a++){var o=i[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,d(o.key),o)}}function c(n,i,a){return i&&s(n.prototype,i),a&&s(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function u(n,i,a){return(i=d(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}a.d(i,{PA:function(){return o},_x:function(){return u},qH:function(){return c}});function d(n){var i=function(n,i){if("object"!=typeof n||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var o=a.call(n,i||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}(n,"string");return"symbol"==typeof i?i:String(i)}},54751:function(n,i,a){"use strict";a.d(i,{q:function(){return c}});var o=a(75161),s=a(237125),c=function(){function n(){(0,o.PA)(this,n),(0,o._x)(this,"id",1),(0,o._x)(this,"type",s.Vc.VIDEO),(0,o._x)(this,"codecType",s._e.AVC),(0,o._x)(this,"pid",-1),(0,o._x)(this,"hvcC",void 0),(0,o._x)(this,"codec",""),(0,o._x)(this,"timescale",0),(0,o._x)(this,"formatTimescale",0),(0,o._x)(this,"sequenceNumber",0),(0,o._x)(this,"baseMediaDecodeTime",0),(0,o._x)(this,"baseDts",0),(0,o._x)(this,"duration",0),(0,o._x)(this,"warnings",[]),(0,o._x)(this,"samples",[]),(0,o._x)(this,"pps",[]),(0,o._x)(this,"sps",[]),(0,o._x)(this,"vps",[]),(0,o._x)(this,"fpsNum",0),(0,o._x)(this,"fpsDen",0),(0,o._x)(this,"sarRatio",[]),(0,o._x)(this,"width",0),(0,o._x)(this,"height",0),(0,o._x)(this,"nalUnitSize",4),(0,o._x)(this,"present",!1),(0,o._x)(this,"isVideoEncryption",!1),(0,o._x)(this,"isAudioEncryption",!1),(0,o._x)(this,"isVideo",!0),(0,o._x)(this,"kid",null),(0,o._x)(this,"pssh",null),(0,o._x)(this,"ext",void 0)}return(0,o.qH)(n,[{key:"reset",value:function(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}},{key:"exist",value:function(){return!!(this.pps.length&&this.sps.length&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isVideoEncryption}}]),n}()},38484:function(n,i,a){"use strict";a.d(i,{W:function(){return l}});var o=a("177595"),s="undefined"!=typeof window,c=s&&navigator.userAgent.toLocaleLowerCase();s&&/^((?!chrome|android).)*safari/.test(c);var u=s&&c.includes("firefox"),d=s&&c.includes("android"),l=function(){function n(){(0,o.PA)(this,n)}return(0,o.qH)(n,null,[{key:"getRateIndexByRate",value:function(i){return n.FREQ.indexOf(i)}},{key:"parseADTS",value:function(i,a){for(var o,s,c=i.length,u=0;u+2<c&&(255!==i[u]||(246&i[u+1])!=240);){;u++}if(!(u>=c)){var d=u,l=[],f=(60&i[u+2])>>>2,h=n.FREQ[f];if(!h)throw Error("Invalid sampling index: ".concat(f));for(var p=((192&i[u+2])>>>6)+1,v=(1&i[u+2])<<2|(192&i[u+3])>>>6,g=n._getConfig(f,v,p),y=g.config,m=g.codec,_=0,b=n.getFrameDuration(h);u+7<c;){if(255!==i[u]||(246&i[u+1])!=240){u++;continue}if(s=(3&i[u+3])<<11|i[u+4]<<3|(224&i[u+5])>>5,c-u<s)break;o=(1&~i[u+1])*2,l.push({pts:a+_*b,data:i.subarray(u+7+o,u+s)}),_++,u+=s}return{skip:d,remaining:u>=c?void 0:i.subarray(u),frames:l,samplingFrequencyIndex:f,sampleRate:h,objectType:p,channelCount:v,codec:m,config:y,originCodec:"mp4a.40.".concat(p)}}}},{key:"parseAudioSpecificConfig",value:function(i){if(!!i.length){var a=i[0]>>>3,o=(7&i[0])<<1|i[1]>>>7,s=(120&i[1])>>>3,c=n.FREQ[o];if(c){var u=n._getConfig(o,s,a),d=u.config;return{samplingFrequencyIndex:o,sampleRate:c,objectType:a,channelCount:s,config:d,codec:u.codec,originCodec:"mp4a.40.".concat(a)}}}}},{key:"getFrameDuration",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return 1024*i/n}},{key:"_getConfig",value:function(n,i,a){var o,s,c=[];return u?n>=6?(o=5,s=n-3):(o=2,s=n):d?(o=2,s=n):(o=2===a||5===a?a:5,s=n,n>=6?s=n-3:1===i&&(o=2,s=n)),c[0]=o<<3,c[0]|=(14&n)>>1,c[1]=(1&n)<<7,c[1]|=i<<3,5===o&&(c[1]|=(14&s)>>1,c[2]=(1&s)<<7,c[2]|=8,c[3]=0),{config:c,codec:"mp4a.40.".concat(o)}}},{key:"getSilentFrame",value:function(n,i){if("mp4a.40.2"===n){if(1===i)return new Uint8Array([0,200,0,128,35,128]);if(2===i)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===i)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===i||3===i)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),n}();(0,o._x)(l,"FREQ",[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350])},466851:function(n,i,a){"use strict";a.d(i,{m$:function(){return c}});var o=a(177595),s=a(583484),c=function(){function n(){(0,o.PA)(this,n),(0,o._x)(this,"id",3),(0,o._x)(this,"type",s.Vc.METADATA),(0,o._x)(this,"timescale",0),(0,o._x)(this,"flvScriptSamples",[]),(0,o._x)(this,"seiSamples",[])}return(0,o.qH)(n,[{key:"exist",value:function(){return!!((this.flvScriptSamples.length||this.seiSamples.length)&&this.timescale)}},{key:"reset",value:function(){this.timescale=0,this.flvScriptSamples=[],this.seiSamples=[]}},{key:"hasSample",value:function(){return!!(this.flvScriptSamples.length||this.seiSamples.length)}}]),n}()},583484:function(n,i,a){"use strict";a.d(i,{Vc:function(){return o},_e:function(){return s},yQ:function(){return c}});var o={VIDEO:"video",AUDIO:"audio",METADATA:"metadata"},s={AVC:"avc",HEVC:"hevc",VVCC:"vvcC"},c={AAC:"aac",G711PCMA:"g7110a",G711PCMU:"g7110m"}},882150:function(n,i,a){"use strict";a.d(i,{q:function(){return c}});var o=a(177595),s=a(583484),c=function(){function n(){(0,o.PA)(this,n),(0,o._x)(this,"id",1),(0,o._x)(this,"type",s.Vc.VIDEO),(0,o._x)(this,"codecType",s._e.AVC),(0,o._x)(this,"pid",-1),(0,o._x)(this,"hvcC",void 0),(0,o._x)(this,"codec",""),(0,o._x)(this,"timescale",0),(0,o._x)(this,"formatTimescale",0),(0,o._x)(this,"sequenceNumber",0),(0,o._x)(this,"baseMediaDecodeTime",0),(0,o._x)(this,"baseDts",0),(0,o._x)(this,"duration",0),(0,o._x)(this,"warnings",[]),(0,o._x)(this,"samples",[]),(0,o._x)(this,"pps",[]),(0,o._x)(this,"sps",[]),(0,o._x)(this,"vps",[]),(0,o._x)(this,"fpsNum",0),(0,o._x)(this,"fpsDen",0),(0,o._x)(this,"sarRatio",[]),(0,o._x)(this,"width",0),(0,o._x)(this,"height",0),(0,o._x)(this,"nalUnitSize",4),(0,o._x)(this,"present",!1),(0,o._x)(this,"isVideoEncryption",!1),(0,o._x)(this,"isAudioEncryption",!1),(0,o._x)(this,"isVideo",!0),(0,o._x)(this,"kid",null),(0,o._x)(this,"pssh",null),(0,o._x)(this,"ext",void 0)}return(0,o.qH)(n,[{key:"reset",value:function(){this.sequenceNumber=this.width=this.height=this.fpsDen=this.fpsNum=this.duration=this.baseMediaDecodeTime=this.timescale=0,this.codec="",this.present=!1,this.pid=-1,this.pps=[],this.sps=[],this.vps=[],this.sarRatio=[],this.samples=[],this.warnings=[],this.hvcC=null}},{key:"exist",value:function(){return!!(this.pps.length&&this.sps.length&&this.codec)}},{key:"hasSample",value:function(){return!!this.samples.length}},{key:"isEncryption",get:function(){return this.isVideoEncryption}}]),n}()},992673:function(n,i,a){"use strict";a.d(i,{b:function(){return l}});var o=a(177595),s=a(583484),c=a(120915),u=a(798857),d=4294967295,l=function(){function n(){(0,o.PA)(this,n)}return(0,o.qH)(n,null,[{key:"box",value:function(n){for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s=8+(a=a.filter(Boolean)).reduce(function(n,i){return n+i.byteLength},0),c=new Uint8Array(s);c[0]=s>>24&255,c[1]=s>>16&255,c[2]=s>>8&255,c[3]=255&s,c.set(n,4);var u=8;return a.forEach(function(n){c.set(n,u),u+=n.byteLength}),c}},{key:"FullBox",value:function(i,a,o){for(var s=arguments.length,c=Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];return n.box.apply(n,[i,new Uint8Array([a,o>>16&255,o>>8&255,255&o])].concat(c))}},{key:"ftyp",value:function(i){return i.find(function(n){return n.type===s.Vc.VIDEO&&n.codecType===s._e.HEVC})?n.FTYPHEV1:n.FTYPAVC1}},{key:"initSegment",value:function(i){var a=n.ftyp(i);return(0,c.gJ)(a,n.moov(i))}},{key:"pssh",value:function(i){var a=new Uint8Array([1,0,0,0].concat([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75],[0,0,0,1],(0,c.Qc)(i.kid),[0,0,0,0]));return n.box(n.types.pssh,a)}},{key:"moov",value:function(i){if(!i[0].useEME||!i[0].encv&&!i[0].enca)return n.box.apply(n,[n.types.moov,n.mvhd(i[0].mvhdDurtion||i[0].duration,i[0].mvhdTimecale||i[0].timescale)].concat((0,o.u)(i.map(function(i){return n.trak(i)})),[n.mvex(i)]));!i[0].pssh&&(i[0].pssh={kid:i[0].kid});var a=this.pssh(i[0].pssh);return n.box.apply(n,[n.types.moov,n.mvhd(i[0].mvhdDurtion||i[0].duration,i[0].mvhdTimecale||i[0].timescale),n.mvex(i)].concat((0,o.u)(i.map(function(i){return n.trak(i)})),[a]))}},{key:"mvhd",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return n.box(n.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a,i>>24&255,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(i){return n.box(n.types.trak,n.tkhd(i.id,i.tkhdDuration||0,i.width,i.height),n.mdia(i))}},{key:"tkhd",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return n.box(n.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,s>>8&255,255&s,0,0]))}},{key:"edts",value:function(i){return n.box(n.types.edts,n.elst(i))}},{key:"elst",value:function(i){i.entries;var a=i.entriesData,o=i.version;return n.FullBox(n.types.elst,o,0,a)}},{key:"mdia",value:function(i){return n.box(n.types.mdia,n.mdhd(i.duration,i.timescale),n.hdlr(i.type),n.minf(i))}},{key:"mdhd",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return n.box(n.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a,i>>24&255,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"hdlr",value:function(i){return n.box(n.types.hdlr,n.HDLR_TYPES[i])}},{key:"minf",value:function(i){return n.box(n.types.minf,i.type===s.Vc.VIDEO?n.VMHD:n.SMHD,n.DINF,n.stbl(i))}},{key:"stbl",value:function(i){return i&&i.ext,n.box(n.types.stbl,n.stsd(i),n.STTS,(0,void 0),n.STSC,n.STSZ,n.STCO)}},{key:"stsd",value:function(i){var a;return a="audio"===i.type?i.useEME&&i.enca?n.enca(i):n.mp4a(i):i.useEME&&i.encv?n.encv(i):n.avc1hev1vvc1(i),n.box(n.types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),a)}},{key:"enca",value:function(i){var a=i.enca.channelCount,o=i.enca.sampleRate,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,o>>8&255,255&o,0,0]),c=n.esds(i.config),u=n.sinf(i.enca);return n.box(n.types.enca,s,c,u)}},{key:"encv",value:function(i){var a,s,c=i.sps.length>0?i.sps[0]:[],u=i.pps.length>0?i.pps[0]:[],d=i.width,l=i.height,f=i.sarRatio[0],h=i.sarRatio[1],p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,255&d,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),v=new Uint8Array((a=(s=[1,c[1],c[2],c[3],255,225,c.length>>>8&255,255&c.length]).concat.apply(s,(0,o.u)(c)).concat([1,u.length>>>8&255,255&u.length])).concat.apply(a,(0,o.u)(u))),g=new Uint8Array([0,0,88,57,0,15,200,192,0,4,86,72]),y=n.sinf(i.encv),m=new Uint8Array([f>>24,f>>16&255,f>>8&255,255&f,h>>24,h>>16&255,h>>8&255,255&h]);return n.box(n.types.encv,p,n.box(n.types.avcC,v),n.box(n.types.btrt,g),y,n.box(n.types.pasp,m))}},{key:"schi",value:function(i){var a=new Uint8Array([]),o=n.tenc(i);return n.box(n.types.schi,a,o)}},{key:"tenc",value:function(i){var a=new Uint8Array([0,0,0,0,0,0,255&i.default_IsEncrypted,255&i.default_IV_size].concat((0,c.Qc)(i.default_KID)));return n.box(n.types.tenc,a)}},{key:"sinf",value:function(i){var a=new Uint8Array([]),o=new Uint8Array([i.data_format.charCodeAt(0),i.data_format.charCodeAt(1),i.data_format.charCodeAt(2),i.data_format.charCodeAt(3)]),s=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),c=n.schi(i);return n.box(n.types.sinf,a,n.box(n.types.frma,o),n.box(n.types.schm,s),c)}},{key:"avc1hev1vvc1",value:function(i){i.codecType===s._e.HEVC?(a=n.hvcC(i),o=n.types.hvc1):i.codecType===s._e.VVCC?(a=n.vvcC(i),o=n.types.bvc2):(a=n.avcC(i),o=n.types.avc1);var a,o,c=[new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i.width>>8&255,255&i.width,i.height>>8&255,255&i.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a];return i.codecType===s._e.HEVC?c.push(n.box(n.types.fiel,new Uint8Array([1,0]))):i.sarRatio&&i.sarRatio.length>1&&c.push(n.pasp(i.sarRatio)),n.box.apply(n,[o].concat(c))}},{key:"avcC",value:function(i){var a,s,c,u=[],d=[];return i.sps.forEach(function(n){c=n.byteLength,u.push(c>>>8&255),u.push(255&c),u.push.apply(u,(0,o.u)(n))}),i.pps.forEach(function(n){c=n.byteLength,d.push(c>>>8&255),d.push(255&c),d.push.apply(d,(0,o.u)(n))}),n.box(n.types.avcC,new Uint8Array((a=(s=[1,u[3],u[4],u[5],255,224|i.sps.length]).concat.apply(s,u).concat([i.pps.length])).concat.apply(a,d)))}},{key:"vvcC",value:function(i){var a=i.vvcC;return n.box(n.types.bv2C,new Uint8Array(a))}},{key:"hvcC",value:function(i){var a,s=i.hvcC;if(s instanceof ArrayBuffer||s instanceof Uint8Array)return s;var c=i.vps,u=i.sps,d=i.pps;if(s){var l=s.generalProfileCompatibilityFlags,f=s.generalConstraintIndicatorFlags,h=(c.length&&1)+(u.length&&1)+(d.length&&1);a=[1,s.generalProfileSpace<<6|s.generalTierFlag<<5|s.generalProfileIdc,l>>>24,l>>>16,l>>>8,l,f[0],f[1],f[2],f[3],f[4],f[5],s.generalLevelIdc,240,0,252,252|s.chromaFormatIdc,248|s.bitDepthLumaMinus8,248|s.bitDepthChromaMinus8,0,0,s.numTemporalLayers<<3|s.temporalIdNested<<2|3,h];var p=function(n){var i;a.push(n.length>>8,n.length),(i=a).push.apply(i,(0,o.u)(n))};c.length&&(a.push(160,0,c.length),c.forEach(p)),u.length&&(a.push(161,0,u.length),u.forEach(p)),d.length&&(a.push(162,0,d.length),d.forEach(p))}else a=[1,1,96,0,0,0,144,0,0,0,0,0,93,240,0,252,253,248,248,0,0,15,3,160,0,1,0,24,64,1,12,1,255,255,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,153,152,9,161,0,1,0,45,66,1,1,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,160,2,128,128,45,22,89,153,164,147,43,154,128,128,128,130,0,0,3,0,2,0,0,3,0,50,16,162,0,1,0,7,68,1,193,114,180,98,64];return n.box(n.types.hvcC,new Uint8Array(a))}},{key:"pasp",value:function(i){var a=(0,o.ZQ)(i,2),s=a[0],c=a[1];return n.box(n.types.pasp,new Uint8Array([s>>24,s>>16&255,s>>8&255,255&s,c>>24,c>>16&255,c>>8&255,255&c]))}},{key:"mp4a",value:function(i){return n.box(n.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i.channelCount,0,16,0,0,0,0,i.sampleRate>>8&255,255&i.sampleRate,0,0]),i.config.length?n.esds(i.config):void 0)}},{key:"esds",value:function(i){var a=i.length;return n.box(n.types.esds,new Uint8Array([0,0,0,0,3,23+a,0,0,0,4,15+a,64,21,0,6,0,0,0,218,192,0,0,218,192,5].concat([a]).concat(i).concat([6,1,2])))}},{key:"mvex",value:function(i){return n.box.apply(n,[n.types.mvex].concat((0,o.u)(i.map(function(i){return n.trex(i.id)}))))}},{key:"trex",value:function(i){return n.box(n.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trex1",value:function(i){return n.box(n.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,2,0,0,0,0,0,0,1,0,0]))}},{key:"trex2",value:function(i){return n.box(n.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,4,0,0,0,0,0,2,0,0,0]))}},{key:"moof",value:function(i){return n.box.apply(n,[n.types.moof,n.mfhd(i[0].samples?i[0].samples[0].gopId:0)].concat((0,o.u)(i.map(function(i){return n.traf(i)}))))}},{key:"mfhd",value:function(i){return n.box(n.types.mfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"traf",value:function(i){var a=n.tfhd(i.id),o=n.tfdt(i.baseMediaDecodeTime),s=0;if(i.isVideo&&i.videoSenc&&i.videoSenc.forEach(function(n){s+=8,n.subsamples&&n.subsamples.length&&(s+=2+6*n.subsamples.length)}),i.videoSencLength=s,i.useEME&&(i.isVideoEncryption||i.isAudioEncryption)){if(i.isVideoEncryption){if(i.isVideo){var c=n.saiz(i),u=n.saio(i),d=n.trun1(i),l=n.senc(i);return n.box(n.types.traf,a,o,c,u,d,l)}if(i.isAudioEncryption){var f=n.sbgp(),h=n.saiz(i),p=n.saio(i),v=n.senc(i),g=n.trun1(i);return n.box(n.types.traf,a,o,f,h,p,v,g)}var y=n.sbgp(),m=n.trun1(i);return n.box(n.types.traf,a,o,y,m)}else{if(i.isVideo){var _=n.trun1(i);return n.box(n.types.traf,a,o,_)}var b=n.sbgp(),A=n.saiz(i),w=n.saio(i),k=n.senc(i),E=n.trun1(i);return n.box(n.types.traf,a,o,b,A,w,k,E)}}var x=n.sdtp(i);return n.box(n.types.traf,a,o,x,n.trun(i.samples,x.byteLength+76))}},{key:"sdtp",value:function(i){var a=new u.Z;return i.samples.forEach(function(n){a.write(new Uint8Array(i.isVideo?[n.keyframe?32:16]:[16]))}),n.box(n.types.sdtp,this.extension(0,0),a.buffer)}},{key:"trun1",value:function(i){var a=new u.Z,o=u.Z.writeUint32(i.samples.length),s=null;if(i.isVideo){var c=i.videoSencLength;s=u.Z.writeUint32(76+16*i.samples.length+c+77),!i.isVideoEncryption&&i.isAudioEncryption&&(s=u.Z.writeUint32(76+16*i.samples.length+20))}else{var d=76+12*i.samples.length+52;i.isAudioEncryption&&(d=76+12*i.samples.length+8*i.audioSenc.length+105),s=u.Z.writeUint32(d)}return i.samples.forEach(function(n){a.write(u.Z.writeUint32(n.duration)),a.write(u.Z.writeUint32(n.size)),a.write(u.Z.writeUint32(n.keyframe?33554432:65536)),i.isVideo&&a.write(u.Z.writeUint32(n.cts?n.cts:0))}),n.box(n.types.trun,this.extension(0,i.flags),o,s,a.buffer)}},{key:"senc",value:function(i){var a=new u.Z,o=i.samples.length,s=i.isVideo?16:8,c=i.isVideo?2:0,d=[],l=0;return i.isVideo?(d=i.videoSenc,l=i.videoSencLength):d=i.audioSenc,l=l||s*o,a.write(u.Z.writeUint32(16+l),n.types.senc,this.extension(0,c)),a.write(u.Z.writeUint32(o)),d.forEach(function(n){for(var i=0;i<n.InitializationVector.length;i++)a.write(new Uint8Array([n.InitializationVector[i]]));n.subsamples&&n.subsamples.length&&(a.write(u.Z.writeUint16(n.subsamples.length)),n.subsamples.forEach(function(n){a.write(u.Z.writeUint16(n.BytesOfClearData)),a.write(u.Z.writeUint32(n.BytesOfProtectedData))}))}),a.buffer}},{key:"saio",value:function(i){var a=12*i.samples.length+141;!i.isVideo&&i.isAudioEncryption&&(a=149);var o=new Uint8Array([1,0,0,0,0,0,0,1,0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a]);return n.box(n.types.saio,o)}},{key:"saiz",value:function(i){var a=i.samples.length,o=new Uint8Array([0,0,0,0,16,a>>24&255,a>>16&255,a>>8&255,255&a]);return n.box(n.types.saiz,o)}},{key:"sbgp",value:function(){var i=new Uint8Array([114,111,108,108,0,0,0,1,0,0,1,25,0,0,0,1]);return n.box(n.types.sbgp,this.extension(0,0),i)}},{key:"extension",value:function(n,i){return new Uint8Array([n,i>>16&255,i>>8&255,255&i])}},{key:"tfhd",value:function(i){return n.box(n.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"tfdt",value:function(i){var a=Math.floor(i/(d+1)),o=Math.floor(i%(d+1));return n.box(n.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o]))}},{key:"trun",value:function(i,a){var o=i.length,s=12+16*o;a+=8+s;var c=new Uint8Array(s);c.set([0,0,15,1,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0);for(var u=0;u<o;u++){var d=i[u],l=d.duration,f=d.size,h=d.flag,p=void 0===h?{}:h,v=d.cts,g=void 0===v?0:v;c.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,f>>>24&255,f>>>16&255,f>>>8&255,255&f,p.isLeading<<2|(null===p.dependsOn||void 0===p.dependsOn?1:p.dependsOn),p.isDependedOn<<6|p.hasRedundancy<<4|p.paddingValue<<1|(null===p.isNonSyncSample||void 0===p.isNonSyncSample?1:p.isNonSyncSample),61440&p.degradationPriority,15&p.degradationPriority,g>>>24&255,g>>>16&255,g>>>8&255,255&g],12+16*u)}return n.box(n.types.trun,c)}},{key:"moovMP4",value:function(i){return n.box.apply(n,[n.types.moov,n.mvhd(i[0].duration,i[0].timescale)].concat((0,o.u)(i.map(function(i){return n.trackMP4(i)}))))}},{key:"trackMP4",value:function(i){return n.box(n.types.trak,n.tkhd(i.id,i.duration,i.width,i.height),n.mdiaMP4(i))}},{key:"mdiaMP4",value:function(i){return n.box(n.types.mdia,n.mdhd(i.duration,i.timescale),n.hdlr(i.type),n.minfMP4(i))}},{key:"minfMP4",value:function(i){return n.box(n.types.minf,i.type===s.Vc.VIDEO?n.VMHD:n.SMHD,n.DINF,n.stblMP4(i))}},{key:"stblMP4",value:function(i){var a=i.ext,o=[n.stsd(i),n.stts(a.stts),n.stsc(a.stsc),n.stsz(a.stsz),n.stco(a.stco)];return a.stss.length&&o.push(n.stss(a.stss)),a.ctts.length&&o.push(n.ctts(a.ctts)),n.box.apply(n,[n.types.stbl].concat(o))}},{key:"stts",value:function(i){var a=i.length,o=new Uint8Array(8*a),s=0;return i.forEach(function(n){var i=n.value,a=n.count;o.set([a>>24,a>>16&255,a>>8&255,255&a,i>>24,i>>16&255,i>>8&255,255&i],s),s+=8}),n.box(n.types.stts,(0,c.gJ)(new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"stsc",value:function(i){var a=i.length,o=new Uint8Array(12*a),s=0;return i.forEach(function(n){var i=n.firstChunk,a=n.samplesPerChunk,c=n.sampleDescIndex;o.set([i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,c>>24,c>>16&255,c>>8&255,255&c],s),s+=12}),n.box(n.types.stsc,(0,c.gJ)(new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"stsz",value:function(i){var a=i.length,o=new Uint8Array(4*a),s=0;return i.forEach(function(n){o.set([n>>24,n>>16&255,n>>8&255,255&n],s),s+=4}),n.box(n.types.stsz,(0,c.gJ)(new Uint8Array([0,0,0,0,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"stco",value:function(i){var a=i.length,o=new Uint8Array(4*a),s=0;return i.forEach(function(n){o.set([n>>24,n>>16&255,n>>8&255,255&n],s),s+=4}),n.box(n.types.stco,(0,c.gJ)(new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"stss",value:function(i){var a=i.length,o=new Uint8Array(4*a),s=0;return i.forEach(function(n){o.set([n>>24,n>>16&255,n>>8&255,255&n],s),s+=4}),n.box(n.types.stss,(0,c.gJ)(new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"ctts",value:function(i){var a=i.length,o=new Uint8Array(8*a),s=0;return i.forEach(function(n){var i=n.value,a=n.count;o.set([a>>24,a>>16&255,a>>8&255,255&a,i>>24,i>>16&255,i>>8&255,255&i],s),s+=8}),n.box(n.types.ctts,(0,c.gJ)(new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]),o))}},{key:"styp",value:function(){return n.box(n.types.styp,new Uint8Array([109,115,100,104,0,0,0,0,109,115,100,104,109,115,105,120]))}},{key:"sidx",value:function(i){var a=i.timescale,o=i.samples[0].duration,s=o*i.samples.length,c=i.samples[0].sampleOffset*o,u=8;i.samples.forEach(function(n){u+=n.size});var d=0;if(i.isVideo){var l,f=0;i.videoSenc&&(l=i.videoSenc),i.isVideo&&l.forEach(function(n){f+=8,n.subsamples&&n.subsamples.length&&(f+=2+6*n.subsamples.length)}),i.videoSencLength=f,d=u+141+16*i.samples.length+f,i.useEME&&i.isAudioEncryption&&!i.isVideoEncryption&&(d=u+16*i.samples.length+84)}else d=u+116+12*i.samples.length,i.useEME&&i.isAudioEncryption&&(d=u+169+12*i.samples.length+8*i.audioSenc.length);var h=new Uint8Array([0,0,0,0,0,0,0,255&i.id,a>>24&255,a>>16&255,a>>8&255,255&a,c>>24&255,c>>16&255,c>>8&255,255&c,0,0,0,0,0,0,0,1,0,d>>16&255,d>>8&255,255&d,s>>24&255,s>>16&255,s>>8&255,255&s,144,0,0,0]);return n.box(n.types.sidx,h)}},{key:"mdat",value:function(i){return n.box(n.types.mdat,i)}}]),n}();(0,o._x)(l,"types",["avc1","avcC","hvc1","hvcC","dinf","dref","edts","elst","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","pasp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trex","tkhd","vmhd","smhd","ctts","stss","styp","pssh","sidx","sbgp","saiz","saio","senc","trun","encv","enca","sinf","btrt","frma","tenc","schm","schi","mehd","fiel","sdtp","bvc2","bv2C"].reduce(function(n,i){return n[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)],n},Object.create(null))),(0,o._x)(l,"HDLR_TYPES",{video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),(0,o._x)(l,"FTYPAVC1",l.box(l.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]))),(0,o._x)(l,"FTYPHEV1",l.box(l.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,104,101,118,49]))),(0,o._x)(l,"DINF",l.box(l.types.dinf,l.box(l.types.dref,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])))),(0,o._x)(l,"VMHD",l.box(l.types.vmhd,new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]))),(0,o._x)(l,"SMHD",l.box(l.types.smhd,new Uint8Array([0,0,0,0,0,0,0,0]))),(0,o._x)(l,"StblTable",new Uint8Array([0,0,0,0,0,0,0,0])),(0,o._x)(l,"STTS",l.box(l.types.stts,l.StblTable)),(0,o._x)(l,"STSC",l.box(l.types.stsc,l.StblTable)),(0,o._x)(l,"STSZ",l.box(l.types.stsz,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]))),(0,o._x)(l,"STCO",l.box(l.types.stco,l.StblTable))},120915:function(n,i,a){"use strict";function o(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=new Uint8Array((i=i.filter(Boolean)).reduce(function(n,i){return n+i.byteLength},0)),s=0;return i.forEach(function(n){o.set(n,s),s+=n.byteLength}),o}a.d(i,{Bh:function(){return u},Qc:function(){return v},_b:function(){return f},dB:function(){return h},e2:function(){return d},gJ:function(){return o},h9:function(){return l},i4:function(){return s},mw:function(){return p},sV:function(){return c}});function s(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[i]<<8)+(n[i+1]||0)}function c(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[i]<<16)+(n[i+1]<<8)+(n[i+2]||0)}function u(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[i]<<24>>>0)+(n[i+1]<<16)+(n[i+2]<<8)+(n[i+3]||0)}function d(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(i)}function l(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 4294967296*u(n,i)+u(n,i+4)}function f(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new DataView(n.buffer,n.byteOffset,n.byteLength);return a.getUint32(i)<<32|a.getUint32(i+4)}function h(n){for(var i,a="avc1.",o=0;o<3;o++)(i=n[o].toString(16)).length<2&&(i="0".concat(i)),a+=i;return a}function p(n){var i="";if(n.forEach(function(n){i+=function(n){return("0"+Number(n).toString(16)).slice(-2).toUpperCase()}(n)}),i.length<=32){for(var a=32-i.length,o=0;o<a;o++)i+="0"}return i}function v(n){if(!Array.isArray(n)){for(var i=[],a="",o=0;o<n.length;o++)o%2&&(a=n[o-1]+n[o],i.push(parseInt(a,16)),a="");return i}return n.map(function(n){return parseInt(n,16)})}}}]);