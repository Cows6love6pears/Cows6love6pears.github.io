"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["1551"],{769901:function(e,i,o){e.exports=o.p+"media/db_tap.b545ba4bedef03d8.png"},499423:function(e,i,o){o.d(i,{o:function(){return L}});var l=o("590921");o("612222");var t=o("259202"),n=o("611542"),a=o("552432"),d=o.n(a),r=o("825211"),s=o.n(r),u=o("477509"),c=o("979210"),v=o("775583"),m=o("356789"),f=o("105398"),p=o("928300"),_=o("990309"),h=o("688497"),x=o("309854"),g=o("744"),w=o("363100"),k=o("874155");let I=(0,n.forwardRef)((e,i)=>(0,t.jsxs)("svg",(0,k._)((0,l._)({width:30,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,t.jsxs)("g",{clipPath:"url(#ad_svg__clip0_315_3529)",children:[(0,t.jsx)("path",{d:"M28 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h26a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z",fill:"#000",fillOpacity:".08"}),(0,t.jsx)("path",{d:"M9.491 2.004L8.22 2.22c.216.336.408.72.588 1.128h-4.38v3.636c-.024 2.34-.348 4.176-.972 5.496l.96.852c.744-1.596 1.128-3.708 1.164-6.348V4.452h8.796V3.348h-4.308a16.724 16.724 0 0 0-.576-1.344zm15.564 6.672h-8.04v4.548h1.152v-.576h5.736v.576h1.152V8.676zm-6.888 2.904V9.756h5.736v1.824h-5.736zm-.276-6.732h2.688v1.656h-5.04V7.62h10.92V6.504h-4.74V4.848h3.828V3.756H21.72V2.148h-1.14v1.608h-2.016c.204-.408.372-.852.516-1.32l-1.128-.144c-.384 1.248-1.104 2.292-2.16 3.144l.684.9a8.301 8.301 0 0 0 1.416-1.488z",fill:"#fff",fillOpacity:".8"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"ad_svg__clip0_315_3529",children:(0,t.jsx)("path",{fill:"#fff",d:"M0 0h30v16H0z"})})})]})));var y=o("701007"),b=o("699233"),N=o("769901"),j=o("846367"),C=o("456713");let S=e=>{var i,o,l,a,r,v,f,p,_,k;let{awemeInfo:S,isActive:T,className:E,onBrandComponentShow:V,onBrandComponentClose:R,onImgError:L,brandAdComponentFloatTip:A,onBrandComponentHide:z}=e||{},[M,P]=(0,n.useState)(!1),[D,O]=(0,n.useState)(!1),B=(0,n.useRef)(!1),F=(0,n.useRef)(!1);(0,j.e)({timerCb:e=>{var i,o;if(B.current)return;let{currentTime:l,isEnd:t}=e,n=null!==(i=A.show_time)&&void 0!==i?i:3,a=null!==(o=A.show_time+.5)&&void 0!==o?o:3.5;l<n&&(P(!1),O(!1),null==z||z()),l>=n&&(!F.current&&(null==V||V(),F.current=!0),P(!0),null==V||V()),l>=a&&O(!0),t&&!B.current&&(!F.current&&(null==V||V(),F.current=!0),P(!0),O(!0),null==z||z())},stopBySeeking:!1,awemeInfo:S,isActive:T,needInit:!0});let W=d()(e=>{var i,o;e.stopPropagation(),m.emit(m.EVENT.videoPause),u.i.sendLog("brandAdIconClick",{group_id:null==S?void 0:S.awemeId,brand_ad_type:c.AD_LOG_MAP[null==S?void 0:null===(o=S.webRawData)||void 0===o?void 0:null===(i=o.brandAd)||void 0===i?void 0:i.brand_type],img_url:null==A?void 0:A.img_url,position:"lower_left",icon_type:"image"})},1e3,{leading:!0,trailing:!1}),U=(0,h.x)(()=>{var e,i;u.i.sendLog("brandAdIconShow",{group_id:null==S?void 0:S.awemeId,brand_ad_type:c.AD_LOG_MAP[null==S?void 0:null===(i=S.webRawData)||void 0===i?void 0:null===(e=i.brandAd)||void 0===e?void 0:e.brand_type],img_url:null==A?void 0:A.img_url,position:"lower_left",icon_type:"image"})});return(0,t.jsxs)("div",{className:s()(w.default.adWrapper,E,{[w.default.show]:M}),style:{width:null==A?void 0:null===(i=A.img_size)||void 0===i?void 0:i.width,height:null==A?void 0:null===(o=A.img_size)||void 0===o?void 0:o.height},ref:U,children:[(0,t.jsxs)(y.a,{onClick:e=>W(e),className:w.default.adButton,style:{width:null==A?void 0:null===(l=A.img_size)||void 0===l?void 0:l.width,height:null==A?void 0:null===(a=A.img_size)||void 0===a?void 0:a.height},target:"_blank",href:null==S?void 0:null===(v=S.webRawData)||void 0===v?void 0:null===(r=v.brandAd)||void 0===r?void 0:r.open_url,children:[(0,t.jsx)("img",{className:w.default.brandImg,src:null==A?void 0:A.img_url,style:{width:null==A?void 0:null===(f=A.img_size)||void 0===f?void 0:f.width,height:null==A?void 0:null===(p=A.img_size)||void 0===p?void 0:p.height},onError:()=>{var e,i;null==L||L(),P(!1),B.current=!0,null==R||R(),x.oe.event.error({name:x.Mo.BrandComponentError,report:{type:"img"}}),u.i.sendLog("brandAdIconClose",{group_id:null==S?void 0:S.awemeId,brand_ad_type:c.AD_LOG_MAP[null==S?void 0:null===(i=S.webRawData)||void 0===i?void 0:null===(e=i.brandAd)||void 0===e?void 0:e.brand_type]})}}),A.has_guide&&D&&(0,t.jsx)("img",{src:N,className:w.default.tapIcon}),(0,t.jsx)(b.Z,{className:w.default.adIcon,src:I,width:30,height:16,viewBox:"0 0 30 16"})]}),A.has_close_btn&&(0,t.jsx)(C.z,{className:w.default.close,svg:(0,t.jsx)(g.Z,{}),style:{position:"absolute",bottom:`${null==A?void 0:null===(_=A.close_btn_position)||void 0===_?void 0:_.bottom}px`,right:`${null==A?void 0:null===(k=A.close_btn_position)||void 0===k?void 0:k.right}px`},onClick:e=>{var i,o;P(!1),B.current=!0,null==R||R(),u.i.sendLog("brandAdIconClose",{group_id:null==S?void 0:S.awemeId,brand_ad_type:c.AD_LOG_MAP[null==S?void 0:null===(o=S.webRawData)||void 0===o?void 0:null===(i=o.brandAd)||void 0===i?void 0:i.brand_type]})}})]})};var T=o("773627"),E=o("935708");let V=e=>{var i,o,l,a,r,v,h,x;let{awemeInfo:g,className:w,isActive:k,onBrandComponentClose:I,onBrandComponentShow:b}=e||{},[N,j]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),V=null==g?void 0:null===(i=g.webRawData)||void 0===i?void 0:i.brandAd,R=null==V?void 0:null===(a=V.biz_content)||void 0===a?void 0:null===(l=a.brand_ad_component_config)||void 0===l?void 0:null===(o=l.left)||void 0===o?void 0:o[0],L=(0,n.useRef)(!1),A=d()(e=>{var i,o;e.stopPropagation(),m.emit(m.EVENT.videoPause),u.i.sendLog("brandAdIconClick",{group_id:null==g?void 0:g.awemeId,brand_ad_type:c.AD_LOG_MAP[null==g?void 0:null===(o=g.webRawData)||void 0===o?void 0:null===(i=o.brandAd)||void 0===i?void 0:i.brand_type],position:"lower_left",icon_type:"button"})},1e3,{leading:!0,trailing:!1}),z=!N&&(null==R?void 0:R.brand_ad_component_type)===f.Wy.Img&&!T;return((0,n.useEffect)(()=>{if(!z&&!L.current){var e,i;u.i.sendLog("brandAdIconShow",{group_id:null==g?void 0:g.awemeId,brand_ad_type:c.AD_LOG_MAP[null==g?void 0:null===(i=g.webRawData)||void 0===i?void 0:null===(e=i.brandAd)||void 0===e?void 0:e.brand_type],position:"lower_left",icon_type:"button"}),L.current=!0}},[z]),z)?(0,t.jsx)(S,{awemeInfo:g,isActive:k,onBrandComponentClose:()=>{null==I||I(),E(!0)},onBrandComponentHide:()=>{null==I||I()},onBrandComponentShow:b,onImgError:()=>{j(!0)},brandAdComponentFloatTip:null==R?void 0:R.brand_ad_component_float_tip}):(0,t.jsx)("div",{className:s()(_.default.adWrapper,w),id:_.default.adWrapper,children:(0,t.jsxs)(y.a,{onClick:e=>A(e),className:_.default.adButton,target:"_blank",href:null==g?void 0:null===(v=g.webRawData)||void 0===v?void 0:null===(r=v.brandAd)||void 0===r?void 0:r.open_url,children:[(0,t.jsx)("span",{children:(null==g?void 0:null===(x=g.webRawData)||void 0===x?void 0:null===(h=x.brandAd)||void 0===h?void 0:h.brand_title)||"查看详情"}),(0,t.jsx)(C.z,{svg:(0,t.jsx)(p.Z,{}),style:{color:"#ffffff",height:"14px",fontSize:"14px"}})]})})};function R(e){var i,o,n,a;let{awemeInfo:d}=e||{},r=(0,v.Kf)(d),s=null==d?void 0:null===(i=d.webRawData)||void 0===i?void 0:i.brandAd,u=null==s?void 0:s.open_url;return r&&u&&(null==s?void 0:null===(a=s.biz_content)||void 0===a?void 0:null===(n=a.brand_ad_component_config)||void 0===n?void 0:null===(o=n.left)||void 0===o?void 0:o.length)>0?(0,t.jsx)(V,(0,l._)({},e)):null}let L=e=>{let i=(0,E.N)();return(0,t.jsx)(T.k,{componentName:"FeedBrandAd",Slardar:i,children:(0,t.jsx)(R,(0,l._)({},e))})}},846367:function(e,i,o){o.d(i,{e:function(){return m}});var l=o(611542),t=o(623176),n=o(448454),a=o(582099),d=o(775583),r=o(744611),s=o(715500),u=o(797210),c=o(401310),v=o(721027);function m(e){let{timerCb:i,isActive:o,awemeInfo:m,needInit:f=!0,stopBySeeking:p=!0}=e,_=(0,c.n)(),h=(0,l.useRef)(!0),x=(0,l.useRef)(!1),g=(0,n.Z)(e=>{let{currentTime:o}=e||{};i({currentTime:o,isSeeking:!1})}),w=(0,n.Z)(e=>{let{currentTime:o}=e;if(0!==o){p&&(I(),h.current=!1),i({currentTime:o,isSeeking:!0});let e=(0,d.Rx)(m);(null==e?void 0:e.creative_id)&&(0,r.E)("drag_bar",{tag:(0,s.f)(),value:null==e?void 0:e.creative_id,log_extra:null==e?void 0:e.log_extra})}}),k=(0,n.Z)(()=>{if(!x.current){var e,i;null==_||null===(e=_.on)||void 0===e||e.call(_,u.B.TimeUpdate,g),null==_||null===(i=_.on)||void 0===i||i.call(_,t.SEEKING,w)}x.current=!0}),I=(0,n.Z)(()=>{if(x.current){var e,i;null==_||null===(e=_.off)||void 0===e||e.call(_,u.B.TimeUpdate,g),null==_||null===(i=_.off)||void 0===i||i.call(_,t.SEEKING,w)}x.current=!1}),y=(0,l.useCallback)(()=>{h.current=!0},[]),b=(0,l.useCallback)(()=>{f&&(y(),k()),i({currentTime:0,isSeeking:!0,isEnd:!0})},[f,y,k,i]);return(0,v.u)(_,u.B.Ended,b),(0,a.Z)(()=>{y()},[m]),(0,l.useEffect)(()=>{if(!!o){if(_&&h.current)return k(),()=>{I()}}},[_,m,o,k,I]),(0,l.useEffect)(()=>{(null==_?void 0:_.currentTime)&&g({currentTime:_.currentTime})},[_]),{stopListen:I}}},487013:function(e,i,o){o.d(i,{Z:function(){return ei}});var l=o("590921"),t=o("874155");o("612222");var n=o("259202"),a=o("611542"),d=o("825211"),r=o.n(d),s=o("690352"),u=o("432097"),c=o("135524"),v=o("781114"),m=o("895184"),f=o("245086"),p=o("644038");o("632852");var _=o("538846"),h=o("549516"),x=o("736909"),g=o("673919"),w=o("775583"),k=o("713017"),I=o("356789"),y=o("318086"),b=o("688918"),N=o("13351"),j=o("593810"),C=o("988366"),S=o("532910"),T=o("898263"),E=o("89738"),V=o("701007");function R(e){var i;let{awemeInfo:o,ableMiniType:t,followStatus:d,logParams:s}=e,c=(0,a.useRef)(null);return(0,n.jsx)(u.u,{className:r()(p.default.xgTip,{[p.default.ableMiniType]:t}),position:"left",content:(0,n.jsx)(n.Fragment,{children:"前往西瓜视频关注该作者"}),getPopupContainer:()=>c.current||document.body,children:(0,n.jsx)("div",{ref:c,children:(0,n.jsx)(V.a,{id:"xgIcon",href:(0,v.GN)(null==o?void 0:null===(i=o.authorInfo)||void 0===i?void 0:i.uid),target:"_blank",rel:"noopener noreferrer",className:p.default.xgIcon,onClick:()=>{var e;I.emit(I.EVENT.videoPause),E.Z.sendLog("follow",(0,l._)({urlParamList:["previous_page"],author_id:null==o?void 0:null===(e=o.authorInfo)||void 0===e?void 0:e.uid,group_id:null==o?void 0:o.awemeId,enter_from:(0,f.mo)(),is_full_screen:(0,m.r)()?"1":"0",tab_name:S.getTabName()||(0,T.Rs)("tab_name")||"",aweme_type:null==o?void 0:o.awemeType,from_xigua:1,relation:String(d)},s))}})})})}var L=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":91,"w":90,"h":90,"nm":"合成 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.66},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.34},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-7.224,-14.544],[10.21,2.806]],"c":true}]},{"t":13}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.68},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.32},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-2.81,10.208],[-12.518,0.573]],"c":true}]},{"t":13}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[1],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":19,"s":[100],"e":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.4],"y":[0]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.6,0.6,0.833],"y":[1,1,5.167]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,3.333]},"t":0,"s":[100,100,100],"e":[60,60,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,5.682]},"t":2,"s":[60,60,100],"e":[115,115,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,0]},"t":13,"s":[115,115,100],"e":[95,95,100]},{"i":{"x":[0.6,0.6,0.564],"y":[1,1,1]},"o":{"x":[0.314,0.314,0.206],"y":[0,0,0]},"t":19,"s":[95,95,100],"e":[100,100,100]},{"i":{"x":[1,1,0.839],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.304],"y":[0,0,0]},"t":25,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,14.333]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,-13.333]},"t":80,"s":[100,100,100],"e":[20,20,100]},{"t":90}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0.996078431606,0.172549024224,0.333333343267,1],"e":[1,1,1,1]},{"t":13}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}'),A=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":11,"w":90,"h":90,"nm":"合成 2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.412],"y":[1]},"o":{"x":[0],"y":[0]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.392,0.392,0.839],"y":[1,1,1]},"o":{"x":[0,0,0.167],"y":[0,0,13.333]},"t":0,"s":[20,20,100],"e":[100,100,100]},{"t":10}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}'),z=o("554412"),M=o("528386"),P=o("616831"),D=o("277931"),O=o("456713");let B=(0,_.ZP)(()=>Promise.resolve().then(o.bind(o,364955)),{ssr:!1}),F=(0,k.b_)();function W(e){var i,o,l,t,d,s,c;let{awemeInfo:m={},loginUserInfo:_,shortcut:k={},isShowKeyHotTip:S,ableMiniType:T=!1,followBtnMouseEnter:V,followBtnMouseLeave:W,isXgVideo:U,isFollowClickedRef:Z,actionFollow:G,actionUnFollow:H,showImBtn:$,player:q,isMobileOversea:K,onCooperAitonClick:J,loginPanelTarget:Y,toast:X,abtestData:Q,onFollowBtnClick:ee,isLogin:ei}=e,eo=(0,a.useRef)(null),el=(0,a.useRef)(!1),et=(0,a.useRef)(null),{isiPad:en,isMobile:ea}=(0,h.X)(),[ed,er]=(0,a.useState)(!1),[es,eu]=(0,a.useState)(!0),[ec,ev]=(0,a.useState)(!1),em=null==Q?void 0:Q.reduceLottie,ef=(0,a.useRef)(null),ep=(0,a.useRef)(null),{followStatus:e_}=(0,D.r)({selfUid:null==_?void 0:null===(i=_.info)||void 0===i?void 0:i.uid,actionUid:null==m?void 0:null===(o=m.authorInfo)||void 0===o?void 0:o.uid,defaultFollowerStatus:null==m?void 0:null===(l=m.authorInfo)||void 0===l?void 0:l.followerStatus,defaultFollowStatus:null==m?void 0:null===(t=m.authorInfo)||void 0===t?void 0:t.followStatus}),eh=()=>{var e,i,o,l;let t=null===(i=ef.current)||void 0===i?void 0:null===(e=i.getLottieInstance)||void 0===e?void 0:e.call(i),n=null===(l=ep.current)||void 0===l?void 0:null===(o=l.getLottieInstance)||void 0===o?void 0:o.call(l),a=()=>{var e;null==t||null===(e=t.goToAndStop)||void 0===e||e.call(t,0),er(!1),eu(!0)},d=()=>{var e;null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,0),er(!0),eu(!1)},r=()=>{a(),el.current=!1},s=()=>{d(),el.current=!1};return{follow:()=>{a(),setTimeout(()=>{var e;null==t||null===(e=t.play)||void 0===e||e.call(t),F&&r()}),!$&&(el.current=!0),Z.current=!1},unfollow:()=>{d(),setTimeout(()=>{var e;null==n||null===(e=n.play)||void 0===e||e.call(n),F&&s()}),!$&&(el.current=!0),Z.current=!1},followEnd:r,unfollowEnd:s,setFollowStatus:d,setUnFollowStatus:a}};(0,a.useEffect)(()=>{var e,i,o;el.current=!1,(null===(i=eo.current)||void 0===i?void 0:null===(e=i.authorInfo)||void 0===e?void 0:e.uid)!==(null==m?void 0:null===(o=m.authorInfo)||void 0===o?void 0:o.uid)?e_===g.$u.UnFollow?eh().setUnFollowStatus():eh().setFollowStatus():((0,b.F)(e_)?eh().follow():eh().unfollow(),em&&ev(!0)),eo.current=m},[e_]);let ex=(0,a.useCallback)(async()=>{if(U){var e;I.emit(I.EVENT.videoPause),window.open((0,v.GN)(null==m?void 0:null===(e=m.authorInfo)||void 0===e?void 0:e.uid),(0,y.f)()?"_self":"_blank");return}if((0,w.gc)(m)){X?X("广告视频不支持此功能"):M.F.info("广告视频不支持此功能");return}if(J)return;Z.current=!0;let i=(0,b.V)(e_);!el.current&&(i?null==H||H({clickFrom:"hot_key",loginPanelTarget:Y}):null==G||G({clickFrom:"hot_key",loginPanelTarget:Y}),$&&(el.current=!1),(0,x.VY)({info:{[j.BW.Follow]:!i},awemeId:null==m?void 0:m.awemeId,abData:0}))},[m,H,G,e_,U,J,Z,$,Y]);(0,a.useEffect)(()=>{if(q)return null==q||q.on("onFollow",ex),()=>{null==q||q.off("onFollow",ex)}},[q,ex]);let{inImmersive:eg}=(0,P.O)({player:q,isActive:!0});return(0,n.jsx)(u.u,{position:"left",style:ea||en||!S||ed||U||K?{display:"none"}:{},className:p.default.tipStyle,content:(0,n.jsx)("div",{className:p.default.shortcutTip,children:(0,n.jsxs)(n.Fragment,{children:["关注",(null==k?void 0:null===(d=k.follow)||void 0===d?void 0:d.badgeText)&&(0,n.jsx)("span",{className:p.default.tipKey,children:k.follow.badgeText})]})}),getPopupContainer:()=>et.current||document.body,children:(0,n.jsx)("div",{ref:et,className:r()(p.default.followWrap,{[p.default.followWrapMobile]:(0,N.tq)()}),"data-e2e":"feed-follow-icon",children:(0,n.jsxs)("div",{onMouseEnter:e=>{!ed&&(null==V||V(e))},onMouseLeave:e=>{E.Z.sendLog("hover_follow_icon",{enter_from:(0,f.mo)()}),!ed&&(null==W||W(e))},onClick:e=>{var i,o,l,t;if(K&&e.stopPropagation(),!ei&&K){(0,z.Z)({success:async()=>{window.location.reload()},enterMethod:"comment",next:`https://${null===(l=window)||void 0===l?void 0:null===(o=l.location)||void 0===o?void 0:o.host}`,headerText:"登录抖音"});return}if(null==q||q.emit("shortcutTopic"),(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.id)==="xgIcon")return;if(U){I.emit(I.EVENT.videoPause),window.open((0,v.GN)(null==m?void 0:null===(t=m.authorInfo)||void 0===t?void 0:t.uid),(0,y.f)()?"_self":"_blank");return}Z.current=!0,null==ee||ee();let n=(0,b.V)(e_);(!el.current&&!ed||F)&&(n?null==H||H({clickFrom:void 0,loginPanelTarget:Y}):null==G||G({clickFrom:void 0,loginPanelTarget:Y}),(0,x.VY)({info:{[j.BW.Follow]:!n},awemeId:null==m?void 0:m.awemeId,abData:0}))},className:r()(p.default.followWrapBox),children:[U&&(0,n.jsx)(R,{awemeInfo:m,ableMiniType:T,followStatus:e_,logParams:{is_pure:eg?"1":"0"}}),!U&&!F&&(ec||!em?(null==m?void 0:null===(s=m.authorInfo)||void 0===s?void 0:s.uid)!==(null==_?void 0:null===(c=_.info)||void 0===c?void 0:c.uid)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B,{hidden:ed,onComplete:()=>eh().unfollowEnd(),className:p.default.followIcon,data:L,ref:ef,loop:!1,autoplay:!1,onInit:()=>{em&&((0,b.F)(e_)?eh().follow():eh().unfollow())}}),(0,n.jsx)(B,{hidden:es,onComplete:()=>eh().followEnd(),className:r()(p.default.followIcon,{[p.default.hideFollowedLottie]:K&&ed}),data:A,ref:ep,loop:!1,autoplay:!1})]}):(0,n.jsx)(O.z,{svg:(0,n.jsx)(C.Z,{}),className:r()(p.default.followIcon,p.default.followIconLow,{[p.default.hidden]:(0,b.V)(e_)})})),!U&&F&&(0,n.jsx)(O.z,{svg:(0,n.jsx)(C.Z,{}),className:r()(p.default.followIcon,p.default.followIconLow,{[p.default.hidden]:(0,b.V)(e_)})})]})})})}var U=o("402807");function Z(e){let{onAvatarClick:i,preventAvatarDefaultHandle:o,handleAvatarClick:l,player:t,toast:d}=e,s=(0,a.useCallback)(()=>{d?d("广告视频不支持此功能"):M.F.info("广告视频不支持此功能")},[]);return(0,a.useEffect)(()=>{if(t)return null==t||t.on("onFollow",s),()=>{null==t||t.off("onFollow",s)}},[t,s]),(0,n.jsx)("div",{className:r()(p.default.followWrap),children:(0,n.jsx)("div",{className:r()(p.default.followWrapBox),onClick:e=>{null==i||i(e,{clickMethod:"click_icon"}),o||null==l||l()},children:(0,n.jsx)(O.z,{className:p.default.followIcon,svg:(0,n.jsx)(U.Z,{style:{fontSize:"24px"}})})})})}let G=(0,a.forwardRef)((e,i)=>(0,n.jsxs)("svg",(0,t._)((0,l._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10z",fill:"#fff"}),(0,n.jsx)("path",{d:"M4.876 8.407l8.918-3.185a.9.9 0 0 1 1.15 1.15l-3.185 8.919a.9.9 0 0 1-1.62.16l-1.431-2.387a.72.72 0 0 1 .071-.84l4.327-5.037c.072-.084-.043-.199-.127-.126l-5.037 4.326a.72.72 0 0 1-.84.072l-2.387-1.432a.9.9 0 0 1 .16-1.62z",fill:"#FE2C55"})]})));var H=o("699233");function $(e){var i,o;let{isShowKeyHotTip:l,imBtnMouseEnter:t,imBtnMouseLeave:d,awemeInfo:s,player:c,loginUserInfo:v,abtestData:m}=e,f=a.useRef(null);return(0,n.jsx)(u.u,{position:"left",style:l?{}:{display:"none"},className:p.default.tipStyle,content:(0,n.jsx)("div",{className:p.default.shortcutTip,children:"私信"}),getPopupContainer:()=>f.current||document.body,children:(0,n.jsx)("div",{ref:f,className:r()(p.default.followWrap),children:(0,n.jsx)("div",{onMouseEnter:e=>{null==t||t(e),E.Z.sendLog("chatIconHover")},onMouseLeave:e=>null==d?void 0:d(e),onClick:()=>{var e,i;E.Z.sendLog("chatIconClick"),I.emit(I.EVENT.sendImUserMsg,{uid:null==s?void 0:null===(e=s.authorInfo)||void 0===e?void 0:e.uid,enterMethod:"friend_im_icon"}),null==c||null===(i=c.exitFullscreen)||void 0===i||i.call(c),I.emit(I.EVENT.pageFullScreen,{fullScreen:!1,playerId:null==c?void 0:c.playerId})},className:r()(p.default.followWrapBox),children:(null==s?void 0:null===(i=s.authorInfo)||void 0===i?void 0:i.uid)!==(null==v?void 0:null===(o=v.info)||void 0===o?void 0:o.uid)&&(0,n.jsx)(H.Z,{className:r()(p.default.followIcon,p.default.imIcon),src:G,width:20,height:20,viewBox:"0 0 20 20"})})})})}var q=o("124797"),K=o("819769"),J=o("718523"),Y=o("375456"),X=o("81309");function Q(e){let{type:i="default",src:o,alt:l="",isSpider:t=!1,isSelf:d=!1,showImageInSSR:s=!1,className:c,defaultClassName:v,imgClassName:m,maskConf:f,onMouseEnter:p,onMouseLeave:_,onClick:h,children:x}=e,[g,w]=(0,a.useState)(0),k=o&&(1===g||t||s),{showMask:I,MaskItem:y,className:b}=f||{};return(0,n.jsxs)(u.qE,{className:r()(X.default.avatar,X.default[i],"avatar-component-avatar-container",{[c]:c,[X.default.self]:d}),onMouseEnter:p,onMouseLeave:_,"data-e2e":"live-avatar",onClick:h,style:{backgroundColor:"transparent"},hoverMask:I?(0,n.jsx)(y,{className:b}):null,children:[(0,n.jsxs)("div",{className:X.default.avatarWrapper,children:[!k&&(0,n.jsx)("div",{className:r()(X.default[i],X.default.avatarIcon,X.default.avatarDefaultImg,{[c]:v})}),(0,n.jsx)("img",{style:{zIndex:999},src:o,alt:l,className:r()(X.default.image,X.default.avatarImg,m),onError:()=>w(-1),onLoad:()=>w(1)})]}),x]})}var ee=o("684028");function ei(e){var i,o,d,_;let{player:h,awemeInfo:x={},customHrefParams:g={},shortcut:k={},onAvatarClick:b=null,preventAvatarDefaultHandle:N=!0,ableMiniType:j=!1,showFollowBtn:C=!0,showImBtn:S=!1,showAdBtn:T=!1,onCooperAitonClick:R,loginUserInfo:L,isShowKeyHotTip:A,isFollowClickedRef:z,loginPanelTarget:P,actionFollow:D,actionUnFollow:O,followBtnMouseEnter:B,followBtnMouseLeave:F,imBtnMouseEnter:U,imBtnMouseLeave:G,isMobileOversea:H,className:X,avatarClassName:ei,toast:eo,abtestData:el,onFollowBtnClick:et,onAvatarRef:en,avatarType:ea="extraSmall",isLogin:ed}=e,[er,es]=(0,a.useState)(!1),eu=(0,a.useCallback)(()=>{var e;return null==h?void 0:null===(e=h.pause)||void 0===e?void 0:e.call(h)},[h]),ec=(0,a.useRef)(null),ev=(0,a.useRef)(null),em=(0,a.useMemo)(()=>{var e,i;return(null==x?void 0:x.awemeType)===c.e.XgVideo?(0,v.GN)(null==x?void 0:null===(e=x.authorInfo)||void 0===e?void 0:e.uid):(0,v.HC)(null==x?void 0:null===(i=x.authorInfo)||void 0===i?void 0:i.secUid,(0,s.stringify)((0,l._)({is_full_screen:(0,m.r)()?"1":"0",enter_method:"video_title",from_gid:x.groupId,vid:null==x?void 0:x.awemeId},g)))},[x,g]),ef=(0,a.useMemo)(()=>(0,n.jsx)("div",{className:p.default.shortcutTip,children:"前往西瓜视频访问作者主页"}),[]),ep=null==x?void 0:null===(i=x.authorInfo)||void 0===i?void 0:i.avatarUri,e_=(null==x?void 0:x.awemeType)===c.e.XgVideo;!function(e){let{awemeInfo:i,onAvatarClick:o,preventAvatarDefaultHandle:l,onCooperAitonClick:t,handleAvatarClick:n,userHref:d,player:r,toast:s,abtestData:u}=e,c=(0,a.useCallback)(e=>{var a;let{isInModal:c}=null!==(a=K.Le.getConfig(K.gI.IsInModalVideo))&&void 0!==a?a:{};if(c||Y.s.getPlayerScene(null==r?void 0:r.playerId)===q.lT.Detail){if((0,w.gc)(i)){s?s("广告视频暂不支持此快捷方式"):M.F.info("广告视频暂不支持此快捷方式");return}}else if((0,w.Jt)(i)&&(0,w.Gu)(i)){s?s("广告视频暂不支持此快捷方式"):M.F.info("广告视频暂不支持此快捷方式");return}if(t)return;let v=null==o?void 0:o(e,{clickMethod:"hot_key"});if(!(0,w.Jt)(i)||!!(0,w.Gu)(i))l||n(),!v&&((0,J.$)(u,i)?I.emit(I.EVENT.changeRoute,{to:d}):window.open(d,(0,y.f)()?"_self":"_blank"))},[i,o,n,l,d,t,r,u,s]),v=(0,a.useCallback)(()=>{var e;let{isInModal:o}=null!==(e=K.Le.getConfig(K.gI.IsInModalVideo))&&void 0!==e?e:{};if((o||Y.s.getPlayerScene(null==r?void 0:r.playerId)===q.lT.Detail)&&(0,w.gc)(i)){s?s("广告视频不支持此功能"):M.F.info("广告视频不支持此功能");return}},[i]);(0,a.useEffect)(()=>{if(r)return null==r||r.on("onAvatar",c),null==r||r.on("onFollow",v),()=>{null==r||r.off("onAvatar",c),null==r||r.off("onFollow",v)}},[r,c,v])}({awemeInfo:x,onAvatarClick:b,preventAvatarDefaultHandle:N,onCooperAitonClick:R,handleAvatarClick:eu,userHref:em,player:h,toast:eo,abtestData:el});let eh=(0,a.useCallback)(()=>{E.Z.sendLog("hover_author_head",{enter_from:(0,f.mo)(),click_from:"click_icon"})},[]);return(0,n.jsxs)("div",{className:r()(p.default.avatarWrap,p.default.animation,{[p.default.ableMiniType]:j,[p.default.cooperAvatar]:R},X),ref:ec,children:[(0,n.jsx)(V.a,{className:p.default.avatar,"data-e2e":"video-avatar",onMouseEnter:eh,onClick:e=>{if(!H){if(R){e.preventDefault(),null==R||R();return}null==h||h.emit("shortcutTopic"),null==b||b(e,{clickMethod:"click_icon"}),N||eu()}},href:em,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(u.u,{position:"left",className:p.default.shortcutTipWrap,style:e_?{}:{display:"none"},content:ef,getPopupContainer:()=>(null==ev?void 0:ev.current)||document.body,children:(0,n.jsx)("div",{ref:e=>{ev.current=e,null==en||en(e)},children:(null==el?void 0:null===(o=el.recCoverOptim)||void 0===o?void 0:o.avatar)?(0,n.jsx)(Q,{src:ep,type:"extraSmall",className:r()(p.default.horizontalAvatar,p.default.avatarImageWrap,ei)}):(0,n.jsx)(ee.q,{src:ep,type:"extraSmall",className:r()(p.default.horizontalAvatar,p.default.avatarImageWrap,ei)})})})}),C&&(null==x?void 0:null===(d=x.authorInfo)||void 0===d?void 0:d.uid)!==(null==L?void 0:null===(_=L.info)||void 0===_?void 0:_.uid)&&(0,n.jsx)(W,{isLogin:ed,awemeInfo:x,loginUserInfo:L,shortcut:k,isMobileOversea:H,isShowKeyHotTip:A,ableMiniType:j,followBtnMouseEnter:B,followBtnMouseLeave:F,setShowAvatarTip:es,showAvatarTip:er,isXgVideo:e_,isFollowClickedRef:z,actionFollow:D,actionUnFollow:O,showImBtn:S,player:h,onCooperAitonClick:R,loginPanelTarget:P,abtestData:el,onFollowBtnClick:et}),S&&(0,n.jsx)($,{isShowKeyHotTip:A,showAvatarTip:er,setShowAvatarTip:es,imBtnMouseEnter:U,imBtnMouseLeave:G,awemeInfo:x,player:h,loginUserInfo:L,abtestData:el}),T&&(0,n.jsx)(Z,(0,t._)((0,l._)({},e),{player:h}))]})}},89738:function(e,i,o){var l=o(354795);i.Z=new l.h({hover_author_head:{eventName:"hover_author_head",params:{enter_from:"",click_from:""}},hover_follow_icon:{eventName:"hover_follow_icon",params:{enter_from:""}},livesdkLiveShow:{eventName:"livesdk_live_show",params:{enter_from_merge:"",enter_method:"web_video_head",action_type:"",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",anchor_id:"",room_id:"",is_paidlive:"",watch_paidlive_status:""}},livesdkRecLivePlay:{eventName:"livesdk_rec_live_play",params:{anchor_id:"",room_id:"",enter_from_merge:"web_others_homepage",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",stream_type:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",is_paidlive:0,watch_paidlive_status:""}},livesdkMiniWindowPlay:{eventName:"livesdk_mini_window_preview_play",params:{anchor_id:"",room_id:"",enter_from_merge:"web_others_homepage",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",is_click_mini_window:"0"}},follow:{eventName:"follow",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",aweme_type:"",from_xigua:0,relation:""}},followCancel:{eventName:"follow_cancel",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},topknotLoginShow:{eventName:"topknot_login_show",params:{group_id:"",relation:0}},chatIconHover:{eventName:"chat_icon_hover",params:{}},chatIconClick:{eventName:"chat_icon_click",params:{}}})},852490:function(e,i,o){o.d(i,{Y:function(){return E}});var l=o("590921");o("612222"),o("347885"),o("969642");var t=o("259202"),n=o("611542"),a=o("825211"),d=o.n(a),r=o("295266"),s=o("550245"),u=o("477509"),c=o("405050"),v=o("877435"),m=o("283132"),f=o("224934"),p=o("245086"),_=o("356789"),h=o("874155");let x=(0,n.forwardRef)((e,i)=>(0,t.jsx)("svg",(0,h._)((0,l._)({width:28,height:28,xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:(0,t.jsx)("path",{d:"M19.59 9.59a.833.833 0 1 0-1.18-1.18L14 12.823 9.59 8.41a.833.833 0 1 0-1.18 1.178L12.822 14l-4.41 4.41a.833.833 0 0 0 1.178 1.18L14 15.177l4.41 4.411a.833.833 0 0 0 1.18-1.178L15.177 14l4.411-4.41z"})})));var g=o("649786"),w=o("55035"),k=o("781114"),I=o("64915");let y=e=>e.map(e=>({avatarUri:e.avatar_thumb.url_list[0],nickname:e.nickname,uid:e.uid,followStatus:e.follow_status,followerCount:e.follower_count,followerStatus:e.follower_status,roleId:e.role_id,roleTitle:e.role_title,secUid:e.sec_uid})),b=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fontSize:14},o=i.fontSize<12?12:i.fontSize,l=i.fontSize<12?i.fontSize/12:1,t=document.createElement("div");t.innerText=e,t.style.fontSize=`${o}px`,t.style.position="fixed",t.style.zIndex="-999",document.body.appendChild(t);let n=t.offsetWidth;return document.body.removeChild(t),n*l};var N=e=>{let{size:i,prename:o,roleTitle:l,author:a}=e,{secUid:r}=a,[s,u]=(0,n.useState)();return(0,n.useLayoutEffect)(()=>{u(b(l,{fontSize:12}))},[l]),(0,t.jsxs)(w.a,{className:I.default.container,isNeedSeoOpt:!1,href:(0,k.HC)(r,"enter_method=cooperation_list"),target:"_blank",rel:"noopener noreferrer",onClick:()=>{_.emit(_.EVENT.videoPause)},children:[(0,t.jsx)("img",{src:a.avatarUri,alt:"",className:d()(I.default.avatar,"small"===i&&I.default.small)}),(0,t.jsx)("div",{className:I.default.name,children:a.nickname}),(0,t.jsxs)("div",{className:I.default.role,children:[(0,t.jsx)("div",{className:I.default["role-prename"],children:(0,t.jsx)("span",{children:o})}),(0,t.jsx)("div",{className:I.default["role-name"],children:(0,t.jsx)("span",{style:{width:s},children:l})})]})]})},j=o("941254"),C=e=>{let{author:i,roleTitle:o}=e,{secUid:l}=i;return(0,t.jsxs)(w.a,{className:j.default.container,isNeedSeoOpt:!1,href:(0,k.HC)(l,"enter_method=cooperation_list"),target:"_blank",rel:"noopener noreferrer",onClick:()=>{_.emit(_.EVENT.videoPause)},children:[(0,t.jsx)("img",{src:i.avatarUri,alt:"",className:j.default.avatar}),(0,t.jsx)("div",{className:j.default.name,children:i.nickname}),(0,t.jsx)("div",{className:j.default.character,children:o})]})},S=o("456742");let T=e=>{let{totalNum:i,cursor:o,authorList:l,extra:a,awemeInfo:h,userInfo:w}=e,{significant_uid_list:k,custom_role_prename_map:I}=a;(0,n.useEffect)(()=>{let e="showCooperationList";return(0,f.o)({pausePlayControlShortcut:!0,pauseCustomShortcut:!0,pauseGlobalShortcut:!0},e),()=>{(0,f.m)(e)}},[]);let b=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=b.current,i=e=>e.stopPropagation();return null==e||e.addEventListener("wheel",i),()=>{null==e||e.removeEventListener("wheel",i)}},[]),(0,n.useEffect)(()=>(u.i.sendLog("enterCoPublishPanel",{group_id:h.groupId,author_id:h.authorInfo.uid,enter_from_merge:"recommend",enter_from:(0,p.mo)()}),_.emit(_.EVENT.videoStopPlayNext),()=>{_.emit(_.EVENT.videoRemoveStopPlayNext)}),[]);let j=(0,n.useRef)((0,n.useMemo)(()=>new Set(l.map(e=>e.uid)),[])),T=(0,n.useMemo)(()=>l.find(e=>e.roleId===m.CooperationRoleId.Author),[]),E=(0,n.useMemo)(()=>(null==k?void 0:k.length)?k.map(e=>l.find(i=>i.uid===e)):[],[]),V=(0,n.useRef)(!1);(0,n.useEffect)(()=>()=>{V.current=!0},[]);let[R,L]=(0,n.useState)(()=>l.filter(e=>!E.includes(e)).sort((e,i)=>{var o,l;return i.roleId===m.CooperationRoleId.Author||i.uid===(null===(o=w.info)||void 0===o?void 0:o.uid)?1:e.roleId===m.CooperationRoleId.Author||e.uid===(null===(l=w.info)||void 0===l?void 0:l.uid)?-1:0})),A=(0,n.useRef)(o),[z,M]=(0,n.useState)(!1),[P,D]=(0,n.useState)(!0),[O,B]=(0,n.useState)(i>l.length),{ref:F,inView:W}=(0,r.useInView)(),U=(0,c.d)(W),Z=(0,c.d)(async()=>{if(!O||z||V.current)return;M(!0),D(!1);let e=await (0,v.U2)("/aweme/v1/co/cocreator/list/",{item_id:h.awemeId,index:A.current+1}).catch(e=>{throw D(!0),M(!1),e});if(V.current)return;let{user_info_list:i,has_more:o,status_code:l}=e;if(l&&l<0){D(!0),M(!1);return}let t=A.current,n=i.filter(e=>{let i=j.current.has(e.uid);return j.current.add(e.uid),t=e.index,!i});L(e=>[...e,...y(n)]),B(o),M(!1),A.current=t,setTimeout(()=>{U.current&&Z.current()},50)});return(0,n.useEffect)(()=>{W&&Z.current()},[W]),(0,t.jsxs)("div",{className:g.default.container,children:[(0,t.jsxs)("div",{className:g.default.header,children:[(0,t.jsxs)("span",{children:[i,"人共同创作"]}),(0,t.jsx)(x,{className:g.default.close,onClick:()=>{S.Uq.destroy()}})]}),(0,t.jsxs)("div",{className:g.default.content,ref:b,children:[E.length>0&&(0,t.jsx)("div",{className:d()(g.default["significant-authors"],E.length>2&&g.default["significant-authors__small"]),children:E.map(e=>(0,t.jsx)(N,{author:e,prename:I[e.uid],roleTitle:e.uid===(null==T?void 0:T.uid)&&a.author_role_name?a.author_role_name:e.roleTitle,size:E.length>2?"small":"normal"},e.uid))}),(0,t.jsx)("div",{className:g.default["common-authors"],children:R.map(e=>(0,t.jsx)(C,{author:e,roleTitle:e.uid===(null==T?void 0:T.uid)&&a.author_role_name?a.author_role_name:e.roleTitle},e.uid))}),(0,t.jsx)("div",{ref:F,className:g.default["loading-container"],children:O?P?(0,t.jsxs)(t.Fragment,{children:["服务异常，重新",(0,t.jsx)("span",{onClick:Z.current,className:g.default.refresh,children:"刷新"}),"拉取数据"]}):(0,t.jsx)(s.g,{text:"加载中"}):"没有更多数据"})]})]})},E=e=>{S.Uq.render({children:(0,t.jsx)(T,(0,l._)({},e)),className:g.default.mask,onMaskClick:()=>S.Uq.destroy()})}},307624:function(e,i,o){var l=o(259202),t=o(611542),n=o(825211),a=o.n(n),d=o(231201),r=o(156466),s=o(456713);i.Z=e=>{let{authorList:i,isTag:o=!1,onClick:n,className:u="",num:c}=e,v=(0,t.useMemo)(()=>c>=1e4?"万":c>=1e3?"千":c>=100?"百":String(c),[c]);return i.length<=1?null:(0,l.jsxs)("div",{className:a()(r.default.peopleCount,u,{[r.default.tagStyle]:o}),onClick:n,children:[(0,l.jsx)(s.z,{svg:(0,l.jsx)(d.Z,{style:{fontSize:"12px"}}),className:r.default.svg}),(0,l.jsxs)("span",{className:r.default.text,children:[v,"人共创",!o&&" : "]})]})}},560963:function(e,i,o){o.d(i,{N:function(){return D}});var l=o("590921");o("612222");var t=o("259202"),n=o("611542"),a=o("477509"),d=o("275438"),r=o("799506"),s=o("224934"),u=o("245086"),c=o("356789"),v=o("816356"),m=o("961613"),f=o("456742"),p=o("699233"),_=o("55035"),h=o("668435"),x=o("781114"),g=o("613748"),w=o("874155"),k=o("825211"),I=o.n(k),y=o("432097"),b=o("532910"),N=o("283132"),j=o("673919"),C=o("895184"),S=o("898263"),T=o("688918"),E=o("91554"),V=o("277931"),R=o("404264");function L(e){var i,o,a,d,r,s,c,v,m;let{loginDispatch:f,userInfo:p,loginUserInfo:_,awemeInfo:h,reportExtraParams:x,isLogin:g,onLoginChange:k}=e,{followStatus:L,followerStatus:A,uid:z}=p||{},M=(0,n.useMemo)(()=>{var e;return(null==p?void 0:p.uid)===(null==_?void 0:null===(e=_.info)||void 0===e?void 0:e.uid)},[p,_]),{followStatus:P,text:D,buttonType:O}=(0,V.r)({selfUid:null==_?void 0:null===(i=_.info)||void 0===i?void 0:i.uid,actionUid:z,defaultFollowerStatus:A,defaultFollowStatus:L}),{follow:B,unFollow:F}=(0,R.OM)({selfUid:null==_?void 0:null===(o=_.info)||void 0===o?void 0:o.uid,actionUid:z,defaultFollowerStatus:A,defaultFollowStatus:L,isLogin:g,onLoginSuccess:()=>{null==k||k(!0),null==f||f({type:"updateUserInfo"})},logExtraParams:(0,w._)((0,l._)({to_user_id:z,enter_from:(0,u.yW)(),is_full_screen:(0,C.r)()?"1":"0",author_id:null==h?void 0:null===(a=h.authorInfo)||void 0===a?void 0:a.uid,group_id:null==h?void 0:h.awemeId,tab_name:b.getTabName()||(0,S.Rs)("tab_name")||"",from_group_id:null==h?void 0:h.awemeId,music_id:null==h?void 0:null===(d=h.music)||void 0===d?void 0:d.mid,compilation_id:null==h?void 0:null===(r=h.mixInfo)||void 0===r?void 0:r.mixId,aweme_type:null==h?void 0:h.awemeType,item_duration_ms:(null==h?void 0:null===(s=h.video)||void 0===s?void 0:s.duration)||0},x),{is_co_publish:1,co_publish_author_list:null==h?void 0:null===(m=h.cooperationInfo)||void 0===m?void 0:null===(v=m.cooperationCreators)||void 0===v?void 0:null===(c=v.filter(e=>e.roleId!==N.CooperationRoleId.Author))||void 0===c?void 0:c.map(e=>`${e.uid}_${null==e?void 0:e.roleId}`),enter_method:"co_publish_panel"})});return(0,t.jsx)("div",{className:I()(E.default.buttonsWrap,E.default.following,{[E.default.hidden]:M}),children:(0,t.jsx)(y.zx,{theme:"solid",className:E.default.follow,type:O===j.TT.Active?"primary":"secondary",onClick:()=>{(0,T.V)(P)?F():B()},size:"small",children:(0,t.jsx)("div",{className:E.default.contentBlock,children:D})})})}var A=o("295301");function z(e){let{userInfo:i}=e,{avatarUri:o,nickname:n,secUid:a,roleTitle:r}=i;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:g.default.card,children:[(0,t.jsx)("div",{className:g.default.avatarWrap,children:(0,t.jsx)(_.a,{isNeedSeoOpt:!1,href:(0,x.HC)(a,"enter_method=cooperation_list"),target:"_blank",rel:"noopener noreferrer",onClick:()=>{c.emit(c.EVENT.videoPause)},children:(0,t.jsx)(h.q,{src:o,alt:`${n}头像`,type:"extraSmall"})})}),(0,t.jsx)("div",{className:g.default.info,children:(0,t.jsx)("div",{className:g.default.nameInfo,children:(0,t.jsxs)("div",{className:g.default.nickname,children:[(0,t.jsx)(_.a,{isNeedSeoOpt:!1,href:(0,x.HC)(a,"enter_method=cooperation_list"),target:"_blank",rel:"noopener noreferrer",onClick:()=>{c.emit(c.EVENT.videoPause)},children:(0,t.jsx)(A.Z,{text:n})}),r&&(0,t.jsx)("div",{className:g.default.roleTitle,children:r})]})})}),(0,t.jsx)(L,(0,l._)({},e))]}),(0,t.jsx)(d.i,{className:g.default.divider})]})}let{Escape:M}=r.bf,P=e=>{let{showCooperationList:i,loginUserInfo:o,loginDispatch:l,awemeInfo:r,reportExtraParams:_}=e,h=n.useRef(null),[x,g]=(0,n.useState)(o.isLogin);return n.useEffect(()=>{let e="showCooperationList";return(0,s.o)({pausePlayControlShortcut:!0,pauseCustomShortcut:!0,pauseGlobalShortcut:!0,disableKey:[M].map(e=>e.code)},e),()=>{(0,s.m)(e)}},[]),n.useEffect(()=>{let e=h.current,i=e=>e.stopPropagation();return null==e||e.addEventListener("wheel",i),()=>{null==e||e.removeEventListener("wheel",i)}},[]),n.useEffect(()=>(a.i.sendLog("enterCoPublishPanel",{group_id:r.groupId,author_id:r.authorInfo.uid,enter_from_merge:"recommend",enter_from:(0,u.mo)()}),c.emit(c.EVENT.videoStopPlayNext),()=>{c.emit(c.EVENT.videoRemoveStopPlayNext)}),[]),(0,t.jsxs)("div",{className:m.default.shortcutList,children:[(0,t.jsxs)("div",{className:m.default.header,children:[(0,t.jsx)("div",{className:m.default.title,children:`${null==i?void 0:i.length}人共同创作`}),(0,t.jsx)(p.Z,{className:m.default.close,width:36,height:36,src:v.Z,color:"#A9AAB7",onClick:()=>{f.Uq.destroy()}})]}),(0,t.jsx)(d.i,{className:m.default.divider}),(0,t.jsx)("div",{className:m.default.container,ref:h,children:i.map(e=>(0,t.jsx)(z,{userInfo:e,loginDispatch:l,loginUserInfo:o,isLogin:x,onLoginChange:e=>{g(e)},awemeInfo:r,reportExtraParams:_},e.secUid))})]})},D=e=>{f.Uq.render({children:(0,t.jsx)(P,(0,l._)({},e)),className:m.default.mask,onMaskClick:()=>f.Uq.destroy()})}},892075:function(e,i,o){o.d(i,{Z:function(){return b}});var l=o(590921),t=o(874155),n=o(250751);o(612222);var a=o(259202),d=o(611542),r=o(825211),s=o.n(r),u=o(543488),c=o.n(u),v=o(283132),m=o(606660),f=o(895184),p=o(245086),_=o(356789),h=o(739232),x=o(909284),g=o(487013),w=o(404264),k=o(401310),I=o(456713);function y(e){var i,o,n,r,u,h,I,y,b,N,j,C;let{loginUserInfo:S,loginDispatch:T,fullScreenTarget:E,reportExtraParams:V,authorItem:R,awemeInfo:L,onCooperationAuthorClick:A,showRoleTitle:z,showFollowBtn:M,loginPanelTarget:P,abTestData:D,isDetail:O}=e,{isLogin:B}=S||{};(0,d.useRef)();let F=(0,k.n)(),[W,U]=(0,d.useState)(!1),Z=(0,d.useRef)(!1),G=(0,d.useRef)(null),H=(0,d.useMemo)(()=>{let e=c()(L);return e.authorInfo=R,e},[L,R]),{follow:$,unFollow:q}=(0,w.OM)({selfUid:null==S?void 0:null===(i=S.info)||void 0===i?void 0:i.uid,actionUid:null==H?void 0:null===(o=H.authorInfo)||void 0===o?void 0:o.uid,defaultFollowerStatus:null==H?void 0:null===(n=H.authorInfo)||void 0===n?void 0:n.followerStatus,defaultFollowStatus:null==H?void 0:null===(r=H.authorInfo)||void 0===r?void 0:r.followStatus,logExtraParams:(0,t._)((0,l._)({author_id:null==L?void 0:null===(u=L.authorInfo)||void 0===u?void 0:u.uid,group_id:null==L?void 0:L.awemeId,from_group_id:null==L?void 0:L.awemeId,music_id:null==L?void 0:null===(h=L.music)||void 0===h?void 0:h.mid,compilation_id:null==L?void 0:null===(I=L.mixInfo)||void 0===I?void 0:I.mixId,aweme_type:null==L?void 0:L.awemeType,to_user_id:null==H?void 0:null===(y=H.authorInfo)||void 0===y?void 0:y.uid},V),{is_co_publish:1,item_duration_ms:(null==L?void 0:null===(b=L.video)||void 0===b?void 0:b.duration)||0,co_publish_author_list:null==H?void 0:null===(C=H.cooperationInfo)||void 0===C?void 0:null===(j=C.cooperationCreators)||void 0===j?void 0:null===(N=j.filter(e=>e.roleId!==v.CooperationRoleId.Author))||void 0===N?void 0:N.map(e=>`${e.uid}_${null==e?void 0:e.roleId}`),enter_method:"co_publish_entrance"}),isLogin:B,accountParentEl:(0,f.r)()&&E,onLoginSuccess:()=>{"recommend"===(0,p.yW)()&&(null==D?void 0:D.recommendLoginResume)===m.RecommendLoginResume.V2?_.emit(_.EVENT.RecommendLoginResume):null==T||T({type:"updateUserInfo"})}});return(0,a.jsxs)("li",{className:s()(x.default.itemContainer,{[x.default.vertical]:!z}),ref:G,"data-click-from":"click_icon",children:[(0,a.jsx)(g.Z,{player:F,loginUserInfo:S,actionFollow:$,actionUnFollow:q,awemeInfo:H,isLogin:B,loginDispatch:T,fullScreenTarget:E,isFollowClickedRef:Z,onCooperAitonClick:()=>{null==A||A(H)},reportExtraParams:V,className:x.default.avatarContainer,isShowTip:!0,isShowKeyHotTip:!1,followBtnMouseEnter(){},followBtnMouseLeave(){},imBtnMouseEnter(){},imBtnMouseLeave(){},showPendantTip:W,setShowPendantTip:U,showImBtn:!1,showFollowBtn:M,loginPanelTarget:P,abtestData:D}),(0,a.jsx)("div",{className:x.default.nickNameContainer,children:(0,a.jsx)("span",{className:s()(x.default.nickName,x.default.changeSize),onClick:()=>{null==A||A(H)},children:R.nickname})})]})}function b(e){let{authorList:i,onClickMore:o}=e,r=(0,n._)(e,["authorList","onClickMore"]),u=(0,d.useRef)(null),c=(0,d.useMemo)(()=>i.length>5,[i]);return(null==i?void 0:i.length)<=1?null:(0,a.jsxs)("div",{className:s()(x.default.container,{videoCooperationHideTitleContainer:!0}),children:[(0,a.jsx)("ul",{className:x.default.avatarList,children:i.map((e,i)=>c&&i>=4?null:(0,a.jsx)(y,(0,t._)((0,l._)({},r),{authorItem:e,showFollowBtn:!0}),e.uid))}),c&&(0,a.jsx)("div",{className:x.default.moreBox,children:(0,a.jsx)("div",{className:x.default.more,onClick:o,children:(0,a.jsx)(I.z,{svg:(0,a.jsx)(h.Z,{})})})}),(0,a.jsx)("div",{className:"disturb-login-panel disturb-login-panel-related",ref:u})]})}},777009:function(e,i,o){o.d(i,{Z:function(){return h},H:function(){return _}});var l=o("259202");o("611542");var t=o("825211"),n=o.n(t),a=o("688497"),d=o("245086"),r=o("356789"),s=o("853292"),u=o("928300"),c=o("605580"),v=o("354795"),m=new v.h({videoRiskRemindBarShow:{eventName:"video_risk_remind_bar_show",params:{enter_from:"",warn_type:"",is_skip:!1,group_id:"",author_id:""}},videoRiskRemindBarClick:{eventName:"video_risk_remind_bar_click",params:{enter_from:"",warn_type:"",is_skip:!1,group_id:"",author_id:""}}}),f=o("701007"),p=o("456713");let _=(e,i)=>!!((null==e?void 0:e.content)&&!(null==e?void 0:e.url));var h=e=>{let{risk:i,awemeInfo:o,isDetail:t,className:v}=e,{content:_,type:h,icon_url:x,url:g}=i,w=(0,a.Y)((()=>{var e;m.sendLog("videoRiskRemindBarShow",{enter_from:(0,d.vM)(),warn_type:String(h),is_skip:!!g,group_id:null==o?void 0:o.awemeId,author_id:null==o?void 0:null===(e=o.authorInfo)||void 0===e?void 0:e.uid})}).bind(null));return(0,l.jsx)("div",{ref:w,className:v,children:(0,l.jsxs)(f.a,{href:decodeURIComponent(g),target:"_blank",onClick:e=>{if(g){var i;r.emit(r.EVENT.videoPause),m.sendLog("videoRiskRemindBarClick",{enter_from:(0,d.vM)(),warn_type:String(h),is_skip:!!g,group_id:null==o?void 0:o.awemeId,author_id:null==o?void 0:null===(i=o.authorInfo)||void 0===i?void 0:i.uid})}else null==e||e.preventDefault()},className:n()("safetyBar",c.default.bar,{[c.default.barDetail]:t,[c.default.hasUrl]:!!g}),children:[x?(0,l.jsx)("img",{src:x,className:c.default.iconImage}):(0,l.jsx)(p.z,{svg:(0,l.jsx)(s.Z,{}),className:c.default.icon}),(0,l.jsx)("div",{className:c.default.content,children:_}),g&&(0,l.jsx)(p.z,{svg:(0,l.jsx)(u.Z,{style:{fontSize:"14px"}}),className:c.default.rightIcon})]})})}},542434:function(e,i,o){o.r(i),o.d(i,{VideoInfo:function(){return es},VideoInfoNew:function(){return eu}}),o("612222"),o("347885"),o("930798"),o("482392");var l=o("259202"),t=o("954884"),n=o("611542"),a=o("825211"),d=o.n(a),r=o("124797"),s=o("405220"),u=o("283132"),c=o("688497"),v=o("477509"),m=o("606660"),f=o("775583"),p=o("744611"),_=o("135524"),h=o("819769"),x=o("452300"),g=o("703774"),w=o("245086"),k=o("804929"),I=o("356789"),y=o("715500"),b=o("13351"),N=o("781114"),j=o("713017"),C=o("801002"),S=o("412020"),T=o("327630"),E=o("619808"),V=o("590921"),R=o("656371"),L=o("895184"),A=o("160551"),z=o("318086"),M=o("354795"),P=new M.h({clickTitleAt:{eventName:"click_title_at",params:{to_user_id:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0"}},clickVideoTitle:{eventName:"click_video_title",params:{action:"expand",author_id:"",group_id:"",enter_from:"",log_pb:"",previous_page:"",is_full_screen:"0"}},clickTitleHashtag:{eventName:"click_title_hashtag",params:{hashtag:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tag_id:"",status:""}},xiguaAnchorShow:{eventName:"xigua_anchor_show",params:{author_id:"",group_id:""}},xiguaAnchorClick:{eventName:"xigua_anchor_click",params:{author_id:"",group_id:""}},clickAuthorHead:{eventName:"click_author_head",params:{author_id:"",group_id:"",enter_from:"",previous_page:"",is_full_screen:"0",log_pb:"",from_follow_list:"0",from_xigua:0,click_from:"",clarity:"",aweme_type:"",is_auto:1}},trendingShow:{eventName:"trending_show",params:{words_source:"related_search_anchor_v2",enter_from:"",words_num:0,enter_group_id:"",impr_id:""}},trendingWordsClick:{eventName:"trending_words_click",params:{words_source:"title_named_entity",enter_group_id:"",enter_group_type:"",group_id:"",search_position:"",words_content:"",words_position:0,impr_id:""}},trendingWordsShow:{eventName:"trending_words_show",params:{words_source:"title_named_entity",enter_group_id:"",enter_group_type:"",group_id:"",search_position:"",words_content:"",words_position:0,impr_id:""}}}),D=o("600743");let O={[m.VideoInfoOptimize.V1]:{minWidth:740,maxWidthRate:.7},[m.VideoInfoOptimize.V2]:{minWidth:320,maxWidthRate:.36},[m.VideoInfoOptimize.V3]:{minWidth:320,maxWidthRate:.36}},B=e=>{let{offset:i=0,abTestData:o,parentDom:l,isDetail:t}=e,[a,d]=(0,n.useState)({}),r=()=>{if(t||(0,g.dH)(location.pathname)||(0,g.yk)(location.pathname)||(null==o?void 0:o.videoInfoOptimize)===m.VideoInfoOptimize.V0||!l)return;let e=null==l?void 0:l.clientWidth,n=e-i,{minWidth:a,maxWidthRate:r}=O[null==o?void 0:o.videoInfoOptimize],s=e*r;n>=a&&n>=s?s>=a?d({width:"100%",maxWidth:s}):d({width:"100%",maxWidth:a,minWidth:a}):d({width:"100%"})};return(0,n.useEffect)(()=>{if(!t&&!(0,g.dH)(location.pathname)&&!(0,g.yk)(location.pathname)&&(null==o?void 0:o.videoInfoOptimize)!==m.VideoInfoOptimize.V0&&l){r();let e=()=>{r()},i=D.Z.bind(l,e);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),i()}}},[l,o,t]),{childStyle:a,updateChildStyle:r}};var F=o("982913"),W=o("528386"),U=o("295301"),Z=o("335060"),G=o("699233"),H=o("641559"),$=o("132586"),q=o("813777"),K=o("447362"),J=o("401310");o("34304");var Y=o("892075"),X=o("307624"),Q=o("560963"),ee=o("499423"),ei=o("777009"),eo=o("995232"),el=o("874155");let et=(0,n.forwardRef)((e,i)=>(0,l.jsxs)("svg",(0,el._)((0,V._)({width:30,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i},e),{children:[(0,l.jsx)("rect",{width:30,height:16,rx:2,fill:"#fff",fillOpacity:".08"}),(0,l.jsx)("path",{d:"M9.492 2.004L8.22 2.22c.216.336.408.72.588 1.128h-4.38v3.636c-.024 2.34-.348 4.176-.972 5.496l.96.852c.744-1.596 1.128-3.708 1.164-6.348V4.452h8.796V3.348h-4.308a16.717 16.717 0 0 0-.576-1.344zm15.564 6.672h-8.04v4.548h1.152v-.576h5.736v.576h1.152V8.676zm-6.888 2.904V9.756h5.736v1.824h-5.736zm-.276-6.732h2.688v1.656h-5.04V7.62h10.92V6.504h-4.74V4.848h3.828V3.756H21.72V2.148h-1.14v1.608h-2.016c.204-.408.372-.852.516-1.32l-1.128-.144c-.384 1.248-1.104 2.292-2.16 3.144l.684.9a8.301 8.301 0 0 0 1.416-1.488z",fill:"#fff",fillOpacity:".5"})]})));var en=o("750681"),ea=o("375456"),ed=o("852490"),er=o("844613");let es=e=>{var i,o,a,M,D,O,el,en,es,eu,ec;let{abTestData:ev}=e,{awemeInfo:em,scene:ef,isTopicLinkSearchResult:ep,videoHashtagClassName:e_,isTopicLinkDetail:eh,videoTags:ex=[],isShowCreateTime:eg=!1,userInfo:ew,onClickUserName:ek,className:eI,children:ey,loginUserInfo:eb,loginDispatch:eN,fullScreenTarget:ej,reportExtraParams:eC,onCooperationAuthorClick:eS,isShowCooperation:eT=!1,showSideBar:eE=!1,isActive:eV,canMixListen:eR,toast:eL,showFriendIcon:eA,showAccountName:ez=!0,showTitle:eM=!0,isInnerFeed:eP=!1,showGuideDownloadClient:eD=!1,isShowBrandComponent:eO=!1,onBrandComponentHide:eB,onBrandComponentShow:eF,handleMobileSiteClick:eW,oneLineWarginig:eU,hideMixNextBtn:eZ=!1,modalEnterFrom:eG,openSpecificTab:eH=()=>{},isRenderInSSR:e$,isDetail:eq}=e,{pathname:eK}=(0,t.a)(),eJ=(0,J.n)(),eY=eq||ea.s.getPlayerScene(null==eJ?void 0:eJ.playerId)===r.lT.Detail,[eX,eQ]=(0,n.useState)(!0),{isMainland:e0}=(0,n.useContext)(T.k),e1=(0,n.useRef)(null),e2=null===(i=h.Le.getConfig(h.gI.WallPaperIds))||void 0===i?void 0:i.includes(null==em?void 0:em.awemeId),{changeKeyword:e3,resetSearchParams:e4}=(0,s.w)(),{cooperationInfo:e8,awemeType:e6,awemeId:e5,authorInfo:e7,logPb:e9,desc:ie,textExtra:ii,mixInfo:io,webRawData:il}=em||{},[it,ia]=(0,n.useState)(),{childStyle:id={}}=B({abTestData:ev,offset:151,parentDom:it,isDetail:eY}),[ir,is]=(0,n.useState)(`${ie}${(null==il?void 0:il.targetTitle)?`\\N${null==il?void 0:il.targetTitle}`:""}`);(0,n.useEffect)(()=>{(null==il?void 0:il.targetTitle)?is(`${ie}\\N${null==il?void 0:il.targetTitle}`):is(ie)},[il,ie]);let{cooperationCreators:iu,acceptedNums:ic=0,cursor:iv}=e8||{},im=(0,n.useRef)(null);(0,n.useRef)();let ip=(0,n.useMemo)(()=>{if(!(null==iu?void 0:iu.length))return[];let e=[],i=iu.filter(i=>(i.roleId===u.CooperationRoleId.Author&&e.push(i),i.roleId!==u.CooperationRoleId.Author));return[...e,...i]},[iu]),i_=(0,n.useMemo)(()=>{if(!!(null==e8?void 0:e8.extra))return JSON.parse(e8.extra)},[null==e8?void 0:e8.extra]),ih=(null==i_?void 0:i_.is_large_co_activity)&&ic>=14,ix=ih?ic+1:ip.length||0;(0,n.useEffect)(()=>{var e;(null==ib?void 0:ib.i18nAb)&&!e0&&!(null===(e=navigator)||void 0===e?void 0:e.language.startsWith("zh"))&&!il.targetTitle&&(async()=>{let e=await (0,S.O9)({sourceText:ie,targetLanguage:"en"});if(0===e.statusCode){var i,o;let l=null===(o=e.translation)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:i.translation;is(`${ie}\\N${l}`)}})()},[il,e0,ie]);let ig=()=>{if("function"==typeof eW){eW();return}if(ih){(0,ed.Y)({awemeInfo:em,authorList:ip,totalNum:ix,cursor:iv,extra:i_,userInfo:ew});return}(0,Q.N)({logParams:{clickMethod:"more_button"},showCooperationList:ip,loginUserInfo:eb,awemeInfo:em,reportExtraParams:eC,loginDispatch:eN})},{uid:iw,nickname:ik,remarkName:iI}=e7||{},iy=(0,x.En)(eK)||(0,g.Nr)(eK),ib=h.Le.getConfig(h.gI.AbtestData),iN=(0,c.Y)(()=>{v.i.sendLog("postTimeShow",{enter_from:(0,w.mo)(),group_id:em.awemeId,post_time:(0,k.MH)(1e3*em.createTime)})}),{lineHeight:ij,videoLineCamp:iC,maxLine:iS}=(0,F.c)(eJ),{maxLine:iT,lineClamp:iE}=(0,n.useMemo)(()=>{let e,i;return eY||iy||(null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V0?(i=iS,e=iC):(null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V1?(i=1,e=1):((null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V2||(null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V3)&&(i=3,e=3),{maxLine:i,lineClamp:e}},[iC,iS,ev,iy,eY]),{clickAuthorHeadLog:iV,xiguaAnchorClickLog:iR,xiguaAnchorShowLog:iL,clickTitleHashtagLog:iA,clickTitleAtLog:iz,clickVideoTitleLog:iM,titleNamedEntityWordsClickLog:iP,titleNamedEntityWordsShowLog:iD}=function(e){let{awemeInfo:i,videoTags:o,onClickUserName:l,authorId:t,awemeType:a,logPb:d,awemeId:s,player:u}=e;(0,n.useEffect)(()=>{let e=o.filter(e=>e.type===r.WZ.RelatedSearch);e.length&&P.sendLog("trendingShow",{words_source:"related_search_anchor_v2",enter_from:(0,w.yW)(),words_num:e.length,enter_group_id:i.awemeId,impr_id:(0,R.U)(i).impr_id})},[o]);let c=(0,n.useCallback)(()=>{var e;P.sendLog("clickAuthorHead",(0,V._)({click_from:"title",urlParamList:["previous_page"],author_id:t,group_id:s,log_pb:d,enter_from:(0,w.yW)(),is_full_screen:(0,L.r)()?"1":"0",from_follow_list:(null===(e=h.Le.getConfig(h.gI.FromFollowList))||void 0===e?void 0:e.tag)?"1":"0",from_xigua:a===_.e.XgVideo?1:0,aweme_type:a},(0,A.t)())),I.emit(I.EVENT.videoPause),window.open((0,N.GN)(t),(0,z.f)()?"_self":"_blank")},[t,a,d,s]),v=(0,n.useCallback)(()=>P.sendLog("xiguaAnchorClick",{author_id:t,group_id:s}),[t,s]),m=(0,n.useCallback)(()=>P.sendLog("xiguaAnchorShow",{author_id:t,group_id:s}),[t,s]),f=(0,n.useCallback)((e,i,o)=>{P.sendLog("clickTitleHashtag",{hashtag:i.slice(1),urlParamList:["previous_page"],author_id:t,group_id:s,log_pb:d,enter_from:(0,w.yW)(),is_full_screen:(0,L.r)()?"1":"0",tag_id:e,status:"on"})},[t,s,d]),p=(0,n.useCallback)(e=>{P.sendLog("clickTitleAt",{to_user_id:e,urlParamList:["previous_page"],author_id:t,group_id:s,log_pb:d,enter_from:(0,w.yW)(),is_full_screen:(0,L.r)()?"1":"0"})},[s,t,d]),x=(0,n.useCallback)(e=>{P.sendLog("clickVideoTitle",{action:e?"fold":"expand",urlParamList:["previous_page"],author_id:t,group_id:s,log_pb:d,enter_from:(0,w.yW)(),is_full_screen:(0,L.r)()?"1":"0"})},[s,t,d]),g=(0,n.useCallback)((e,o,l)=>{P.sendLog("trendingWordsClick",{enter_group_id:s,enter_group_type:a===_.e.Note?"aweme_image":"aweme_video",group_id:o,search_position:(0,w.yW)(),words_content:e,words_position:l,impr_id:(0,R.U)(i).impr_id})},[s,a,i]);return{clickAuthorHeadLog:c,xiguaAnchorClickLog:v,xiguaAnchorShowLog:m,clickTitleHashtagLog:f,clickTitleAtLog:p,clickVideoTitleLog:x,titleNamedEntityWordsClickLog:g,titleNamedEntityWordsShowLog:(0,n.useCallback)((e,o,l)=>{P.sendLog("trendingWordsShow",{enter_group_id:s,enter_group_type:a===_.e.Note?"aweme_image":"aweme_video",group_id:o,search_position:(0,w.yW)(),words_content:e,words_position:l,impr_id:(0,R.U)(i).impr_id})},[s,a,i])}}({awemeInfo:em,videoTags:ex,onClickUserName:ek,authorId:iw,awemeType:e6,logPb:e9,awemeId:e5,player:eJ}),iO=(0,n.useCallback)(()=>{if("function"==typeof eW){eW();return}if(null==ek||ek(),(0,f.Jt)(em)){if(ef!==r.lT.Recommend){if((0,f.gc)(em)){eL?eL("广告视频不支持此功能"):W.F.info("广告视频不支持此功能");return}}else{I.emit(I.EVENT.openAdSideCard);let e=(0,f.Rx)(em);(0,p.E)("realtime_click",{tag:(0,y.f)(),value:null==e?void 0:e.creative_id,log_extra:null==e?void 0:e.log_extra,refer:"title"});return}}if((0,f.gc)(em)){eL?eL("广告视频不支持此功能"):W.F.info("广告视频不支持此功能");return}e6===_.e.XgVideo?iV():I.emit(I.EVENT.videoTitleClick,{awemeId:e5,playerId:null==eJ?void 0:eJ.playerId})},[iw,e6,e9,e5,ek,eJ,iV,eW]),iB=(0,n.useCallback)(()=>{iR(),iO()},[iO,iR,eW]),iF=(0,n.useMemo)(()=>e6===_.e.XgVideo?(iL(),(0,l.jsx)("div",{className:"account-badge",onClick:iB,children:(0,l.jsxs)("div",{className:"badge-xg-bg",children:[(0,l.jsx)("div",{className:"badge-xg"}),(0,l.jsx)("span",{children:"来自西瓜视频"})]})})):"",[e6,iB,iL]),iW=(0,n.useCallback)((e,i,o)=>{var l;let t=null==ev?void 0:ev.searchOpenCurrentTab;((null==t?void 0:t.save_status)!==1||(0,b.DT)()||(null===(l=window)||void 0===l?void 0:l.location.pathname)!=="/")&&ep&&I.emit(I.EVENT.videoPause),iA(e,i,o)},[ep,iA,eW]),iU=(0,n.useCallback)((e,i,o,l)=>{var t;let n=null==ev?void 0:ev.searchOpenCurrentTab;((null==n?void 0:n.save_status)!==1||(0,b.DT)()||(null===(t=window)||void 0===t?void 0:t.location.pathname)!=="/")&&I.emit(I.EVENT.videoPause),(0,er.v2)(e,{source:"related_search_anchor_v2"},(null==ev?void 0:ev.open_current_tab)===1,(null==ev?void 0:ev.save_video)===1,(null==ev?void 0:ev.clientSpaV2)===m.CommonSwitch.On&&(0,b.DT)(),e3,e4),null==iP||iP(e,i,o)},[iP]),iZ=(0,n.useCallback)(e=>{I.emit(I.EVENT.videoPause),iz(e)},[iz,eW]),iG=(0,n.useCallback)(e=>{var i;I.emit(I.EVENT.hideFakeScreen,!1),null==eJ||null===(i=eJ.emit)||void 0===i||i.call(eJ,"titleIsFold",e),iM(e),eQ(e),!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V0&&I.emit(I.EVENT.openVideoInfoSideCard,{awemeId:null==em?void 0:em.awemeId})},[eJ,iM,em,ev,iy,eY]),iH=!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V0&&!eX,i$=!eY&&!iy&&((null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V1||(null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V3),iq=!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)===m.VideoInfoOptimize.V1;(0,n.useEffect)(()=>{if(!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V0)return I.listen(I.EVENT.closeVideoInfoSideCard,e=>{(null==e?void 0:e.awemeId)===(null==em?void 0:em.awemeId)&&eQ(!0)})},[ev,em,iy,eY]),(0,n.useEffect)(()=>{eQ(!0)},[e5]);let iK=(0,n.useMemo)(()=>(0,f.Jt)(em),[em]),iJ=(0,n.useMemo)(()=>(0,f.Kf)(em),[em]),iY=(0,f.Kf)(em),iX=(0,n.useCallback)(e=>{let{isUnfold:i}=e;return(0,l.jsx)(U.Z,{wrapperClassName:E.default.videoTitleWrapper,className:d()(E.default.videoTitle,E.default.adaptive),userTextClassName:d()(E.default.hashTagSpan,E.default.userText),hashTagClassName:d()({[E.default.linkHashTag]:ep},e_),getHashTagHref:(e,i)=>ep?`https://www.douyin.com/search/${encodeURIComponent(e)}?source=pc_click_hashtag_feed&enter_from=${(0,w.vM)()}&aweme_id=${em.awemeId}&gid=${em.groupId}`:eh?(0,N.bP)(i):"",text:ir,getSearchTextUrl:(e,i)=>`https://www.douyin.com/search/${encodeURIComponent(e)}?source=title_named_entity&enter_from=${(0,w.vM)()}&aweme_id=${em.awemeId}&gid=${em.groupId}`,isRemoveRowspan:!i,textExtra:ii,awemeInfo:em,onClickHashtag:eW||iW,onClickUser:eW||iZ,onSearchTextClick:eW||iU,onSearchTextMounted:iD,enterMethod:"video_title_at",searchWordsType:Z.L.VideoInfoTitle,abTestData:ev,player:eJ,children:(null==io?void 0:io.currentEpisode)&&(0,l.jsxs)("span",{children:["第",null==io?void 0:io.currentEpisode,"集："]})})},[em,ir]),iQ=(0,n.useCallback)(()=>{v.i.sendLog("hover_author_head",{enter_from:(0,w.mo)(),click_from:"title"})},[]),i0=(0,n.useMemo)(()=>{let e=ex.findIndex(e=>e.type===r.WZ.Chapter);return e>0?[ex[0],ex[e]]:ex.slice(0,1)},[ex]);if(!(null==eJ?void 0:eJ.video)&&!e$)return null;let i1=ex.length>0&&ex[0].type!==r.WZ.AuthorCard&&ex[0].type!==r.WZ.Related,i2=()=>(0,l.jsx)(l.Fragment,{children:!iH&&(0,ei.H)(null==em?void 0:em.riskInfos,ev)&&(0,l.jsx)(ei.Z,{awemeInfo:em,risk:null==em?void 0:em.riskInfos,className:d()({[E.default.marginTop]:i1&&!e2&&!eD,[E.default.oneLineText]:eU,[E.default.marginBottom8]:iq})})}),i3=()=>(0,l.jsx)("div",{className:d()(E.default.underTitleTagContainer,E.default.rsBarOpt),onClickCapture:e=>null==eW?void 0:eW(e),ref:e1,children:!e2&&!eD&&!eO&&!iY&&(0,l.jsx)(l.Fragment,{children:i1&&(0,l.jsx)("div",{className:d()("under-title-tag",E.default.videoTagContainer,{[E.default.marginBottom8]:i$}),children:(0,l.jsx)($.hp,{tagList:i0,awemeInfo:em,userInfo:ew,isActive:eV,reportExtraParams:eC,isShowUpdateText:!0,player:eJ,abTestData:ev,containerRef:e1})})})});return(0,l.jsxs)("div",{id:"video-info-wrap",className:d()("xgplayer-video-info-wrap xgplayer-video-info-wrap-new",E.default.infoContainer,{fullscreen:!eX&&!!(null==ev?void 0:null===(o=ev.danmaku)||void 0===o?void 0:o.douyin_danmaku),isVideoInfoOptimize:!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V0}),"data-state":"normal",children:[ey,(0,l.jsx)("div",{ref:ia,className:d()("video-info-detail",{isFireFox:(0,j.vU)(),wallpaperTitle:(null===(a=h.Le.getConfig(h.gI.WallPaperIds))||void 0===a?void 0:a.includes(null==em?void 0:em.awemeId))||eD,wallpaperClientTile:(null===(M=h.Le.getConfig(h.gI.WallPaperIds))||void 0===M?void 0:M.includes(null==em?void 0:em.awemeId))&&(0,b.DT)(),isVideoInfoOptimise:!eY&&!iy&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V0},eI),"data-e2e":"video-info","data-e2e-aweme-id":em.awemeId,children:(0,l.jsxs)("div",{style:id,children:[ef!==r.lT.Search&&(0,l.jsx)(q.A,{awemeInfo:em,isActive:eV,isDetail:ea.s.getPlayerScene(null==eJ?void 0:eJ.playerId)===r.lT.Detail,abTestData:ev,userInfo:ew,logParams:eC}),iq&&i2(),i$&&i3(),!iH&&!eO&&ez&&(0,l.jsxs)("div",{className:d()("account"),children:[(0,l.jsx)("div",{className:d()("account-name","userAccountTextHover"),"data-e2e":"feed-video-nickname",onMouseEnter:iQ,ref:im,"data-click-from":"title",children:(0,l.jsx)("span",{onClick:iO,children:(0,l.jsx)(U.Z,{className:d()(E.default.userText,E.default.adaptive),text:`@${iI||ik}`})})}),(0,l.jsx)("div",{className:"video-create-time",children:eg&&(0,l.jsx)("span",{ref:iN,className:"time",children:`\xb7 ${(0,k.MH)(1e3*em.createTime)}`})}),!eP&&(iK&&(0,f.Gu)(em)||iJ)&&(0,l.jsx)(G.Z,{src:et,width:30,height:16,viewBox:"0 0 30 16",style:{marginLeft:4}}),iF,e6===_.e.Note&&!(null==em?void 0:em.isSlides)&&(0,l.jsx)("div",{className:"account-card",children:(0,l.jsx)(K.J,{className:E.default.pictureStyle})}),!!((null==em?void 0:null===(O=em.authorInfo)||void 0===O?void 0:null===(D=O.relationLabel)||void 0===D?void 0:D.label_info)&&eA)&&(0,l.jsx)("div",{className:"account-card",children:(0,l.jsx)("span",{className:E.default.friendIcon,children:null==em?void 0:null===(en=em.authorInfo)||void 0===en?void 0:null===(el=en.relationLabel)||void 0===el?void 0:el.label_info})}),(null==ip?void 0:ip.length)>1&&eT&&(0,l.jsx)(X.Z,{authorList:ip,num:ix,isTag:!0,onClick:ig})]}),!iH&&!eO&&(null==ip?void 0:ip.length)>0&&eT&&(0,l.jsx)(Y.Z,{authorList:ip,loginUserInfo:eb,loginDispatch:eN,fullScreenTarget:ej,reportExtraParams:eC,awemeInfo:em,onCooperationAuthorClick:eS,abTestData:ev,showSideBar:eE,onClickMore:ig,isDetail:eY}),!iH&&!eO&&eM&&(0,l.jsx)("div",{className:d()("title",{notBideoTags:(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V1&&(null==ev?void 0:ev.videoInfoOptimize)!==m.VideoInfoOptimize.V3&&i1&&!e2&&!eD&&!eO}),"data-e2e":"video-desc",children:(0,l.jsx)(H.Z,{maxLine:iT,lineClamp:iE,btnClassName:d()(E.default.button,E.default.expandButton,E.default.adaptive),onlyKey:ir,btnOnClick:iG,lineHeight:ij,renderContent:iX,showExpandButton:!iK,player:eJ,isActive:eV})}),!i$&&i3(),(0,f.Kf)(em)&&!eP&&(0,l.jsx)(ee.o,{awemeInfo:em,isActive:eV,className:E.default.brandAd,onBrandComponentClose:()=>{null==eB||eB()},onBrandComponentShow:()=>{null==eF||eF()}}),!iq&&i2(),ef===r.lT.Search&&!!em.videoAbstract&&(null===(es=em.videoAbstract)||void 0===es?void 0:es.displayType)===2&&(0,l.jsx)("div",{id:"video-abstract",style:{marginTop:"12px"},children:(0,l.jsx)(eo.r,{awemeInfo:em,isActive:eV,player:eJ,logParams:eC,isInnerFeed:eP,isModal:void 0!==eG,openSpecificTab:eH})}),ef!==r.lT.Search&&!eP&&(eG===u.ModalEnterFromVal.GeneralSearch||eG===u.ModalEnterFromVal.Search)&&!!em.videoAbstract&&[2,3].includes(null===(eu=em.videoAbstract)||void 0===eu?void 0:eu.displayType)&&(0,l.jsx)("div",{id:"video-abstract",style:{marginTop:"12px"},children:(0,l.jsx)(eo.r,{awemeInfo:em,isActive:eV,player:eJ,logParams:eC,isInnerFeed:eP,isModal:void 0!==eG,openSpecificTab:eH})})]})}),(0,l.jsx)("div",{className:d()("video-info-mask",{"windows-client-flag":(null===(ec=(0,C.fV)())||void 0===ec?void 0:ec.os)==="Windows"&&(0,b.DT)(),"splash-brand":(0,f.pb)(em)&&!eP,"expanded-video-info-mask":!eX})}),(0,l.jsx)("div",{className:"mini-progress-outer",children:(0,l.jsx)("div",{className:"mini-progress-inner"})})]})},eu=(0,en.K)(es)},736909:function(e,i,o){o.d(i,{VY:function(){return _}});var l=o(7979),t=o(590921),n=o(874155);o(632852),o(612222);var a=o(529866),d=o(498608),r=o(819769),s=o(868899),u=o.n(s),c=o(593810),v=o(606660);let m={recommendDetail:{},getTime:0,awemeId:void 0,duplicateRemoveAwemeIds:[]},f=new class e{async fetchRelatedRecommendById(e){var i,o,l,d;if(!e)return{};let r=await (0,a.bJ)({awemeId:e,count:1,filterGids:(null===(i=this._relatedRecommendInfo.duplicateRemoveAwemeIds)||void 0===i?void 0:i.map(e=>null==e?void 0:e.awemeId).join(","))||"",subChannelId:4}),s=null==r?void 0:null===(o=r.awemeList)||void 0===o?void 0:o[0];if((null==r?void 0:r.statusCode)===0&&(null==s?void 0:s.awemeId)){let i=(0,n._)((0,t._)({},s),{id:s.awemeId,insertId:e,width:null===(l=s.video)||void 0===l?void 0:l.width,height:null===(d=s.video)||void 0===d?void 0:d.height});return this._relatedRecommendInfo={recommendDetail:i,getTime:Date.now(),awemeId:e},this._relatedRecommendInfo}return{}}async recommendDuplicateRemove(){let{awemeId:e}=this._relatedRecommendInfo.recommendDetail;e&&await (0,d.uR)({awemeIds:e})}getRelatedRecommendInfoById(e){var i;return e===(null===(i=this._relatedRecommendInfo)||void 0===i?void 0:i.awemeId)?this._relatedRecommendInfo:{}}setRemoveAwemeIds(e){u()(e)&&(this._relatedRecommendInfo.duplicateRemoveAwemeIds=e)}resetInfo(){this._relatedRecommendInfo=m,this._recommendInfoPromise=void 0}get relatedRecommendInfo(){return this._relatedRecommendInfo}get recommendInfoPromise(){return this._recommendInfoPromise}set recommendInfoPromise(e){this._recommendInfoPromise=e}constructor(){(0,l._)(this,"_relatedRecommendInfo",m),(0,l._)(this,"_recommendInfoPromise",void 0)}},p=function(e){var i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=r.Le.getConfig(r.gI.DiscoverRelatedRecommendInfo)||{},t={[v.DiscoverRelatedRecommendType.Off]:[],[v.DiscoverRelatedRecommendType.V1]:c.MD,[v.DiscoverRelatedRecommendType.V2]:c.U_},n=o?[...c.MD,...c.U_]:[],a=t[e]?t[e]:n,d=null==a?void 0:null===(i=a.some)||void 0===i?void 0:i.call(a,e=>!!l[e]),s=c.IU.some(e=>!!l[e]);return!!d&&!s||!1},_=e=>{let{info:i,awemeId:o,abData:l}=e;if(!i){r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,{},!1);return}let{awemeId:t,follow:n,unFollow:a}=r.Le.getConfig(r.gI.DiscoverRelatedRecommendInfo)||{};if(o!==t){(null==i?void 0:i.awemeId)&&r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,i,!1);return}void 0===n&&(null==i?void 0:i.follow)===!1&&(i.unFollow=!0),void 0!==a&&void 0!==(null==i?void 0:i.follow)&&(i.unFollow=!(null==i?void 0:i.follow)),r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,i),p(l,!0)&&!f.recommendInfoPromise&&(f.recommendInfoPromise=f.fetchRelatedRecommendById(o))}}}]);