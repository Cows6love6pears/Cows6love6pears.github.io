(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["3263"],{909723:function(e,l,t){"use strict";e.exports=t.p+"media/blackBg_big.b7bedc994a938699.png"},132715:function(e,l,t){"use strict";t.d(l,{f:function(){return a}}),t(526789);var i=t(895329),o=t(611542),n=t(372413),r=t(348942);function a(e){let l=(0,o.useContext)(n.qd);if(void 0===l)throw(0,i.g)("roomStore"),Error("roomStore must be used within Provider");return(0,r.oR)(l,e)}},192189:function(e,l,t){"use strict";t.d(l,{C:function(){return i}});var i={iframe:"iframe",liveCard:"live_card",liveSmallCard:"live_small_card",liveCarousel:"live_carousel",liveDetail:"live_detail",mediaDetail:"live_media_detail",smallWindow:"live_small_window",liveCollege:"live_college",liveSearch:"live_search",liveSlider:"live_slider",liveFeedFull:"live_feed_full",liveModal:"live_modal"}},510255:function(e,l,t){"use strict";t.d(l,{f:function(){return i}}),t(459167),t(227470);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^http:\/\//i,"https://")}},559308:function(e,l,t){"use strict";t.d(l,{J:function(){return v}}),t(612222),t(347885);var i=t(611542),o=t(552432),n=t.n(o),r=t(305452),a=t(713017),d=t(356789),u=t(819769),s=t(851448),c=t(283132);let v=e=>{let{EventListener:l,refContainerStatus:t,isClientMiniWin:o}=e,v=(0,i.useRef)(!1),m=(0,i.useRef)(null),f=(0,i.useRef)([]),h=(0,i.useRef)(null),p=(0,i.useRef)(null),_=(0,i.useRef)((0,a.vU)()?120:0),g=(0,i.useCallback)((e,l)=>{let t=0,i=e.slice(Math.max(e.length-l,1));for(let e=0;e<i.length;e++)t+=i[e];return Math.ceil(t/l)},[]),C=(0,i.useCallback)(()=>{d.emit(d.EVENT.swiperVideo)},[]),w=(0,i.useCallback)(e=>{var t;C(),null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f.current=[]},400);let i=new Date().getTime(),o=e.wheelDelta||-e.deltaY||-e.detail,n=Math.max(-1,Math.min(1,o)),r=void 0!==e.wheelDeltaX||void 0!==e.deltaX,a=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!r;f.current=[...f.current,_.current+Math.abs(o)];let d=i-h.current;h.current=i,d>400&&1===f.current.length&&(f.current=[,,].fill(f.current[0]),p.current=!1);let s=g(f.current,20),v=s>g(f.current,40);v&&!p.current&&a&&((0,u.Vv)(c.PagingType.scroll),n<0?l.emit("changeNext",{from:"scroll"}):l.emit("changePrev",{from:"scroll"}),p.current=!0),!v&&p.current&&a&&(p.current=!1)},[l]);return(0,i.useEffect)(()=>{if(l)return null==l||l.on("sliderMove",C),()=>{null==l||l.off("sliderMove",C)}},[l]),(0,i.useEffect)(()=>{if(t)return null==t||t.addEventListener("wheel",w),()=>{null==t||t.removeEventListener("wheel",w)}},[t,w]),(0,r.o)(()=>{let e=o?[38]:[38,87],t=o?[40]:[40,83],i=n()(i=>{var o,n,r,a;if(i.nativeEvent||(null===(o=u.Le.getConfig(u.gI.IsInModalVideo))||void 0===o?void 0:o.isInModal)||(null===(n=u.Le.getConfig(u.gI.PlayerShortcutConf))||void 0===n?void 0:n.pausePlayControlShortcut)||v.current)return;let d=u.Le.getConfig(u.gI.DisableNextPre);!e.includes(i.keyCode)||i.shiftKey||d&&38===i.keyCode?t.includes(i.keyCode)&&!i.shiftKey&&(!d||40!==i.keyCode)&&((0,u.Vv)(c.PagingType.hotkey),s.p.postTask({task:()=>{l.emit("changeNext",{from:"keyboard"})},priority:"user-blocking",immediate:(null===(a=u.Le.getConfig(u.gI.AbtestData))||void 0===a?void 0:a.longtask)!==1})):((0,u.Vv)(c.PagingType.hotkey),s.p.postTask({task:()=>{l.emit("changePrev",{from:"keyboard"})},priority:"user-blocking",immediate:(null===(r=u.Le.getConfig(u.gI.AbtestData))||void 0===r?void 0:r.longtask)!==1}))},500,{leading:!0,trailing:!1});document.addEventListener("keydown",i);let r=d.listen(d.EVENT.showLoginPanel,e=>{v.current=e});return()=>{document.removeEventListener("keydown",i),r()}},[o,l]),null}},529713:function(e,l,t){"use strict";t.d(l,{z:function(){return T}}),t("612222");var i=t("259202"),o=t("611542"),n=t("825211"),r=t.n(n),a=t("606660"),d=t("135524"),u=t("909723"),s=t("668014"),c=t("367503");let v=e=>{let{isActive:l,isRenderInSSR:t,awemeInfo:n,abtestData:v,className:m}=e,f=(0,o.useMemo)(()=>{var e,l,t,i;return v.searchSuspenseFetch===a.SearchSuspenseFetch.StreamWithBlackBg?u:n.awemeType===d.e.Note?null===(i=n.images)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(l=t.urlList)||void 0===l?void 0:l[0]:null===(e=n.video)||void 0===e?void 0:e.originCover},[n,v]);return(0,i.jsxs)("div",{className:r()(s.default.staticImgBackground,m,"HideInLynxClassName"),children:[(0,i.jsx)("img",{src:f,className:r()(s.default.videoCover,{[s.default.blackVideoCover]:v.searchSuspenseFetch===a.SearchSuspenseFetch.StreamWithBlackBg})}),(0,i.jsx)(c.T3,{className:s.default.playerImgBackground,isRenderInSSR:t,awemeInfo:n,elementtiming:"lcp_ele",abtestData:v,fetchPriority:"auto",priorityServerBackupBg:!1})]})};var m=t("582867"),f=t.n(m),h=t("350464"),p=t.n(h),_=t("7341"),g=t("412974"),C=t("590921"),w=t("874155");let I=(0,o.forwardRef)((e,l)=>(0,i.jsx)("svg",(0,w._)((0,C._)({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,i.jsx)("path",{d:"M23.5 15.134a1 1 0 0 1 0 1.732l-11.25 6.495a1 1 0 0 1-1.5-.866V9.505a1 1 0 0 1 1.5-.866l11.25 6.495z",fill:"#fff"})})));f().extend(p());let y=e=>{let{isActive:l,time:t,abtestData:n,enableEnterDetail:a}=e,d=(0,o.useMemo)(()=>f().duration(Math.round(t/1e3),"seconds").format("mm:ss"),[t]);return(0,i.jsxs)("div",{className:r()(g.default.staticControls),children:[(0,i.jsx)("div",{className:g.default.progress}),(0,i.jsxs)("div",{className:g.default.innerControls,children:[(0,i.jsxs)("div",{className:g.default.leftGrid,children:[(0,i.jsx)(I,{}),t>0&&(0,i.jsxs)("div",{className:g.default.time,children:[(0,i.jsx)("span",{children:"00:00"}),(0,i.jsx)("span",{className:g.default.timeSeparator,children:"/"}),(0,i.jsx)("span",{children:d})]})]}),a&&(0,i.jsxs)("div",{className:g.default.rightGrid,children:[(0,i.jsx)("div",{className:g.default.desc,children:"详情"}),(0,i.jsx)("div",{className:g.default.detailSvg,children:(0,i.jsx)(_.Z,{width:6,height:9,viewBox:"0 0 6 9"})})]})]})]})},T=e=>{let{isActive:l,isRenderInSSR:t,awemeInfo:n,player:r,abtestData:a,className:d}=e,[u,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{s(!0)},[]),(0,i.jsxs)(i.Fragment,{children:[!u&&(0,i.jsx)(v,{isActive:l,isRenderInSSR:t,awemeInfo:n,abtestData:a,className:d}),(!r||!l)&&(0,i.jsx)(y,{isActive:l,time:n.video.duration,abtestData:a})]})}},422997:function(e,l,t){"use strict";t.d(l,{x:function(){return v}});var i=t(590921),o=t(250751);t(612222),t(632852);var n=t(611542),r=t(623176),a=t(135524),d=t(356789),u=t(412020);let s="",c=null,v=e=>{var l;let{awemeInfo:t,enablePreload:v,player:m}=e,[f,h]=(0,n.useState)((null==t?void 0:null===(l=t.stats)||void 0===l?void 0:l.commentCount)||0);(0,n.useEffect)(()=>{var e;h((null==t?void 0:null===(e=t.stats)||void 0===e?void 0:e.commentCount)||0)},[t]);let p=(0,n.useCallback)(async function(e,l,i,o,n,r){let d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],v=null==t?void 0:t.awemeId,m=`${v}-0-${l}-${e}-${n}-${i}`;if(s===m&&c)return c;let f=await (0,u.iq)({awemeId:null==t?void 0:t.awemeId,cursor:e,count:l,itemType:(null==t?void 0:t.awemeType)===a.e.XgVideo?1:0,fetchType:i,cancleFunc:o,cid:n,whaleCutToken:r});return d&&f&&(s=m,c=f),f},[null==t?void 0:t.awemeId]),_=(0,n.useCallback)((e,l,i,o)=>(0,u.rs)({awemeId:null==t?void 0:t.awemeId,commentId:e,cursor:l,count:i,itemType:(null==t?void 0:t.awemeType)===a.e.XgVideo?1:0,whaleCutToken:o}),[null==t?void 0:t.awemeId]),g=(0,n.useCallback)(function(){let{cursor:e=0,count:l,needPage:i=!0,ctx:o=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.Yp)({cursor:e,count:l,needPage:i,ctx:o,groupId:null==t?void 0:t.awemeId})},[null==t?void 0:t.awemeId]),C=(0,n.useCallback)(function(){let{cid:e,diggType:l,level:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.y6)({awemeId:null==t?void 0:t.awemeId,cid:e,diggType:l,itemType:(null==t?void 0:t.awemeType)===a.e.XgVideo?1:0,level:i})},[null==t?void 0:t.awemeId]),w=(0,n.useCallback)(function(){let{cid:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.YF)({cid:e})},[]);return{globalCommentCount:f,updateGlobalCommentCount:h,fetchComment:p,fetchReply:_,fetchCommentMention:g,publishCommentItem:(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{text:l,textExtra:n,replyId:a,replyToReplyId:s,commentSendCelltime:c,commentVideoCelltime:v}=e,f=(0,o._)(e,["text","textExtra","replyId","replyToReplyId","commentSendCelltime","commentVideoCelltime"]);let h=await (0,u.uo)((0,i._)({awemeId:null==t?void 0:t.awemeId,text:l,textExtra:n,replyId:a,replyToReplyId:s,commentVideoCelltime:v,commentSendCelltime:c},f));return!h.statusCode&&(d.emit(d.EVENT.showClientDownloadGuide,{isShow:!0,type:"comment",text:"及时接收互动消息通知"}),null==m||m.emit(r.USER_ACTION,{action:"comment"})),h},[null==t?void 0:t.awemeId,m]),deleteCommentItem:w,diggCommentItem:C}}},429982:function(e,l,t){"use strict";t.d(l,{U:function(){return s}}),t(347885),t(632852);var i=t(127593),o=t(124797),n=t(579309),r=t(606660),a=t(555835);let d=(0,a.fF)("CommentPreload"),u=[r.CommentAIPreloadStatus.CommentPreloadHighThreshold,r.CommentAIPreloadStatus.CommentPreloadLowThreshold,r.CommentAIPreloadStatus.CommentPreloadAll],s=e=>{let{isModal:l,awemeInfo:s,isActive:c,fetchComment:v,player:m,commentpreloadAbStatus:f,adCommentpreloadAbStatus:h,scene:p,showSideCard:_,abtestData:g,abUseSimpleNN:C,abVid:w}=e;(0,i.b)(async()=>{if(!!(u.includes(f)&&p===o.lT.Recommend&&!1===l&&!0===c&&(null==m?void 0:m.currentTime)>=0&&!1===_)&&((null==s?void 0:s.isAds)!==!0||!![r.AdCommentAIPreloadStatus.AdCommentPreloadHighThreshold,r.AdCommentAIPreloadStatus.AdCommentPreloadLowThreshold].includes(h))&&"undefined"!=typeof WebAssembly)try{let e=()=>{let e=(null==g?void 0:g.commentRenderOptimize)===2?10:20;v(0,e,"user",{current:null},"",void 0,!0)},l=!(null==s?void 0:s.isAds)&&C,{Pylon:i,EScene:o,EBiz:u}=await Promise.all([t.e("5401"),t.e("7731")]).then(t.bind(t,166796)),c=new i({biz:u.DOUYIN_WEB_RECOMMEND}),p=f===r.CommentAIPreloadStatus.CommentPreloadHighThreshold?n.TccKey.CommentPreloadHighThreshold:n.TccKey.CommentPreloadLowThreshold;h===r.AdCommentAIPreloadStatus.AdCommentPreloadHighThreshold?p=n.TccKey.AdCommentPreloadHighThreshold:h===r.AdCommentAIPreloadStatus.AdCommentPreloadLowThreshold&&(p=n.TccKey.AdCommentPreloadLowThreshold),l&&(p=n.TccKey.clientAIOptimizeConfig);let _=await (0,a.aW)(p),I=c.createStrategyEngine({abConfig:_,scene:o.COMMENT});I.setThresholdCallback(async()=>{var t,i,n,r,u,v,f,h;if(a.cy.getPreloadCache(a.mM.COMMENT_BTN_CLICKED))return;let{package:p="",engine_config:g={}}=null!==(f=_.preload_ml)&&void 0!==f?f:{},C=await c.createEngine({scene:o.COMMENT,modelUrl:p,inputs:null==g?void 0:g.inputs,outputs:null==g?void 0:g.outputs,runTime:l?"simplenn":"bytenn"}),y=1e3*((null==m?void 0:m.currentTime)||0),T=C.inference({features:{videoPlayTime:y}}),b=I.hitThresholdValue(T),k=null==_?void 0:null===(t=_.preload_ml)||void 0===t?void 0:t.package,L=null==_?void 0:null===(u=_.preload_ml)||void 0===u?void 0:null===(r=u.output)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(i=n.args)||void 0===i?void 0:i[0],S=null!==(h=C.getFeatureVector({features:{scene:o.COMMENT,videoPlayTime:y}}))&&void 0!==h?h:[];if((0,a.zo)(T,b,a.vV.COMMENT_PRELOAD,k,L,S,0,w),d("comment-ret:",T,",hit:",b,", nickname:",null==s?void 0:null===(v=s.authorInfo)||void 0===v?void 0:v.nickname,", playTime: ",y),b){e();return}})}catch(e){d("comment inference error: ",e)}},[c,m])}},732082:function(e,l,t){"use strict";t.d(l,{Cu:function(){return c},nW:function(){return v}});var i=t(590921),o=t(874155);t(612222);var n=t(611542),r=t(910924);t(837305);var a=t(819769),d=t(356789);t(528557),t(433075),t(797210),t(375456);var u=t(17764);let s=e=>({[r.L.Author]:r.t.Author,[r.L.Mix]:r.t.Mix,[r.L.Series]:r.t.Series,[r.L.Search]:r.t.Search,[r.L.CollectFolder]:r.t.CollectFolder,[r.L.Collection]:r.t.Collection,[r.L.Hot]:r.t.Hot,[r.L.Related]:r.t.Related,[r.L.Search]:r.t.Search,[r.L.Record]:r.t.Record,[r.L.Like]:r.t.Like})[e],c=e=>({[r.t.Author]:r.L.Author,[r.t.Mix]:r.L.Mix,[r.t.Series]:r.L.Series,[r.t.Search]:r.L.Search,[r.t.CollectFolder]:r.L.CollectFolder,[r.t.Collection]:r.L.Collection,[r.t.Hot]:r.L.Hot,[r.t.Related]:r.L.Related,[r.t.Like]:r.L.Like,[r.t.Record]:r.L.Record})[e],v=e=>{let{defaultTab:l,isActive:t,stopAutoPlay:c,awemeInfo:v,abtestData:m,showSideCard:f}=e,{awemeFeed:h}=(0,u.j)(),[p,_]=(0,n.useState)(l),[g,C]=(0,n.useState)(s(p)),[w,I]=(0,n.useState)(()=>{if(s(p))return{[s(p)]:v}}),y=(0,n.useRef)(l),T=(0,n.useRef)(!1);y.current=p;let b=(0,n.useCallback)(e=>{let{tab:l,from:t}=e;if(h.dispatch("cardType",l),void 0!==s(l)&&h.dispatch("feedType",l),_(e=>{var i;return null===(i=a.Le.getConfig(a.gI.IsInLookMiniModal))||void 0===i||i.isInMiniModal,e!==l&&"auto"!==t&&(null==c||c()),l}),l!==r.L.Comment&&d.emit(d.EVENT.changeTab,l),l){let e=a.Le.getConfig(a.gI.PlayerCardInfo);a.Le.setConfig(a.gI.PlayerCardInfo,{isActive:!0,videoCardType:l!==r.L.Comment?l:null==e?void 0:e.videoCardType,expandCardType:l})}},[c]);return(0,n.useEffect)(()=>{t&&l&&_(l)},[t]),(0,n.useEffect)(()=>{p&&C(e=>{if(p===r.L.Comment)return(!(null==m?void 0:m.slideOptimize)||f)&&I(l=>(0,o._)((0,i._)({},l),{[e]:v})),e;let l=s(p);return l!==e?l:((!(null==m?void 0:m.slideOptimize)||f)&&I(l=>(0,o._)((0,i._)({},l),{[e]:v})),e)})},[p,v,f]),(0,n.useEffect)(()=>{var e;let l=null===(e=a.Le.getConfig(a.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal;l&&(T.current=l),t&&a.Le.setConfig(a.gI.IsInMixCard,!1)},[p,t]),{curTab:p,changeTab:b,curVideoFeed:s(p)||g,lastVideoFeedAweme:w}}},556765:function(e,l,t){"use strict";t.d(l,{Y:function(){return h}}),t(612222);var i=t(611542),o=t(372866),n=t(775583),r=t(744611),a=t(305452),d=t(979210),u=t(244307),s=t(147083),c=t(356789),v=t(351492),m=t(715500),f=t(554898);let h=e=>{let{isActive:l,onOpenCard:t,isLogin:h,accountParentEl:p,awemeInfo:_,onLoginSuccess:g,onCloseCard:C,abtestData:w,toast:I}=e,[y,T]=(0,i.useState)(!1),b=(0,i.useRef)(!1),k=(0,i.useMemo)(()=>(0,o.o4)(_),[_]),L=(0,i.useMemo)(()=>(0,n.Rx)(_),[_]),[S,x]=(0,i.useState)(!1),E=(0,i.useRef)(!1),P=(0,i.useRef)(!0),A=(0,i.useCallback)(e=>{let{from:l}=e||{};x("automatic"===l),!E.current&&"automatic"!==l&&(E.current=!0,c.emit(c.EVENT.videoStopPlayNext,{openSideCard:!0}));let i=()=>{T(!0),(0,v.B1)({tag:"ecom_load_start"}),null==t||t(),k&&(0,r.E)("detail_show",{tag:"landing_ad",value:L.creative_id,log_extra:L.log_extra})};if(h)i();else{var o,n;(0,f.default)({success:async()=>{null==g||g(),i()},headerText:"登录后即可查看商品详情",enterMethod:"product_entrance_click",next:`https://${null===(n=window)||void 0===n?void 0:null===(o=n.location)||void 0===o?void 0:o.host}`},p)}},[T,h,p,t,L,k]);(0,a.o)(()=>{let e=c.listen(c.EVENT.openAdSideCard,e=>{let t=(null==e?void 0:e.from)!=="automatic"||!b.current;if(l&&k&&t){var i,o;let l=null==L?void 0:null===(i=L.lynx_components)||void 0===i?void 0:i.find(e=>(null==e?void 0:e.lynx_type)===d.AD_FEED_TYPE);if(!(null==l?void 0:null===(o=l.lynx_raw_data)||void 0===o?void 0:o.open_url)&&!(null==L?void 0:L.open_url)&&(0,n.Gu)(_)){I?I("广告链接获取失败，请跳过"):s.F.info("广告链接获取失败，请跳过"),(0,r.E)("load_failed",{tag:(0,m.f)(),value:L.creative_id,log_extra:L.log_extra});return}A({from:null==e?void 0:e.from}),(null==e?void 0:e.from)==="automatic"&&(0,r.E)("realtime_click",{tag:(0,m.f)(),value:null==L?void 0:L.creative_id,log_extra:null==L?void 0:L.log_extra,refer:"enter"})}});return()=>e()},[l,_,h,A,L,k]);let R=(0,i.useCallback)(e=>{let{action:l}=e||{};"manual"===l&&(b.current=!0),T(!1),P.current=!1,E.current&&(E.current=!1,c.emit(c.EVENT.videoRemoveStopPlayNext,{openSideCard:!0})),k&&(0,r.E)("close",{tag:(0,m.f)(),value:L.creative_id,log_extra:L.log_extra,content:"ad_detail"}),null==C||C()},[T,k,L,C]);return(0,i.useEffect)(()=>{!l&&y&&R()},[l]),(0,i.useEffect)(()=>{!(0,u.n)(_)&&y&&R()},[_]),{isShowShopDetailSideCard:y,isAutoOpen:S,closeShopDetailCard:R,openShopDetailCard:A,isFirstLoad:P.current}}},132612:function(e,l,t){"use strict";t.d(l,{B:function(){return f}});var i=t(590921),o=t(874155),n=t(611542),r=t(910924),a=t(606660),d=t(124797),u=t(356789),s=t(819769),c=t(245086),v=t(412020),m=t(422997);let f=e=>{let{awemeInfo:l,customProps:t,reportParams:f,fullScreenTarget:h,tab:p,showSideCard:_,player:g,scrollElRef:C,followStatus:w,handleCommentClick:I,isShowRelatedCard:y,isActive:T,isUpperFeed:b=!1,globalIsCommentTrayPushGuideShow:k,globalCommentTrayPushGuideType:L,setCommentTrayPushGuideTypeFunc:S,setIsCommentTrayPushGuideShowFunc:x,onSearchTextClick:E,scene:P}=e,{abtestData:A,userContext:R,insertCommentId:M,tab:N}=t||{},{userInfo:V,dispatch:F}=R||{};(0,n.useEffect)(()=>{var e,l;let t;if(!T)return;y&&(t=setTimeout(()=>u.emit(u.EVENT.feedVideoCardLocateCurrentVideo),0));let{isShow:n,isModal:a,tab:d}=s.Le.getConfig(s.gI.IsSidebarShow)||{},c=(null===(e=s.Le.getConfig(s.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal)||!1,v=(null===(l=s.Le.getConfig(s.gI.IsInModalVideo))||void 0===l?void 0:l.isInModal)||!1,m=a!==(v||c)?{tab:d,isShow:void 0}:{tab:d,isShow:n};return s.Le.setConfig(s.gI.IsSidebarShow,{isShow:y,tab:p,isModal:v||c,lastStatus:(0,o._)((0,i._)({},m),{isModal:a})}),u.emit(u.EVENT.changeVideoSideBar,{isShowRelatedCard:y,isShowComment:p===r.L.Comment,lastStatus:m}),()=>{clearTimeout(t)}},[y,p]);let j=(0,n.useMemo)(()=>({awemeInfo:l,sense:"slider_video",onCloseClick:()=>{},onCollapseClick:()=>{},userContext:R,abtestData:A,changeLoginStatus:()=>{"recommend"===(0,c.yW)()&&(null==A?void 0:A.recommendLoginResume)===a.RecommendLoginResume.V2?u.emit(u.EVENT.RecommendLoginResume):F({type:"updateUserInfo"})},logParams:f}),[l,R,F,f,A]),{fetchComment:D,fetchReply:B,fetchCommentMention:H,deleteCommentItem:W,publishCommentItem:O,diggCommentItem:U}=(0,m.x)({awemeInfo:l,player:g});return{authorConfig:j,commentConfig:{abtestData:A,fullScreenTarget:h,isDetail:!1,isShowComment:p===r.L.Comment&&_,total:0,onCloseCommentClick:I,awemeInfo:l,awemelogPb:null==l?void 0:l.logPb,userInfo:V,scrollContainerEl:null==C?void 0:C.current,player:g,shortcutMode:null==A?void 0:A.shortcutMode,fetchComment:D,fetchReply:B,fetchEmoticonGif:v.D2,fetchCommentMetionList:H,diggCommentItem:U,deleteCommentItem:W,puhlishCommentItem:O,count:(null==A?void 0:A.commentRenderOptimize)===2?10:20,defaultommentList:[],defaultCursor:0,defaultHotsoonHasMoreRef:0,defaultHasMore:!0,defaultStatusCode:0,defaultCommentId:b?"":M,isNeedCommentInput:!0,changeLoginStatus:()=>{"recommend"===(0,c.yW)()&&(null==A?void 0:A.recommendLoginResume)===a.RecommendLoginResume.V2?u.emit(u.EVENT.RecommendLoginResume):F({type:"updateUserInfo"})},reportExtraParams:(0,o._)((0,i._)({},f),{relation:String(w)}),dispatch:F,globalIsCommentTrayPushGuideShow:k,globalCommentTrayPushGuideType:L,setCommentTrayPushGuideTypeFunc:S,setIsCommentTrayPushGuideShowFunc:x,tab:N,onSearchTextClick:E,isSearch:P===d.lT.Search}}}},440159:function(e,l,t){"use strict";t.d(l,{Z:function(){return td}});var i=t("590921"),o=t("259202"),n=t("611542"),r=t("874155");t("632852"),t("347885"),t("612222"),t("482392");var a=t("825211"),d=t.n(a),u=t("538846"),s=t("552432"),c=t.n(s),v=t("24332"),m=t("582099"),f=t("954884"),h=t("623176"),p=t("124797"),_=t("477509"),g=t("910924"),C=t("775583"),w=t("105398"),I=t("727225"),y=t("135524"),T=t("532910"),b=t("305452"),k=t("283132"),L=t("606660"),S=t("372866"),x=t("572685"),E=t("686182"),P=t("697878"),A=t("873196"),R=t("245086"),M=t("356789"),N=t("703774"),V=t("442183"),F=t("819769"),j=t("895184"),D=t("160551"),B=t("155797"),H=t("713017"),W=t("13351"),O=t("801002"),U=t("9808"),q=t("583128"),Z=t("98319"),z=t("868132"),K=t("433075"),$=t("903616"),G=t("342792"),X=t("515591"),Y=t("294857"),J=t("528386");let Q=e=>{let{player:l,abTestData:t,awemeInfo:i,chapterScrollElRef:o,topLevelSidebar:r,activateCard:a,resetClosingShopRef:d,isActive:u,isInnerFeed:s}=e,[c,v]=(0,n.useState)(-1),[m,f]=(0,n.useState)(!1),h=(0,n.useRef)(""),p=(0,n.useRef)(!0),_=null==i?void 0:i.chapterInfo,g=e=>{null==e||e.stopPropagation()};return(0,n.useEffect)(()=>{if(l&&(null==_?void 0:_.status)){let e=e=>{var l;let t=(null!==(l=e.currentTime)&&void 0!==l?l:0)*1e3,{list:i}=_,o=i.map(e=>e.timestamp),n=-1;for(let e=0;e<o.length;e++)t>=o[e]&&(n=e);v(n)};return l.on("timeupdate",e),()=>{l.off("timeupdate",e)}}},[l,t,_]),(0,n.useEffect)(()=>{let e=s&&h.current!==(null==i?void 0:i.awemeId);if(o.current||e){var l;return null===(l=o.current)||void 0===l||l.addEventListener("wheel",g),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("wheel",g)}}},[o,u,i,s]),(0,n.useEffect)(()=>{if(s&&h.current!==(null==i?void 0:i.awemeId)){var e;f(!1),h.current=null!==(e=null==i?void 0:i.awemeId)&&void 0!==e?e:""}},[i,s]),{chapterProgress:c,chapterSliderShow:m,setChapterSliderShow:f,triggerChapterSliderShow:()=>{if(!!p.current){if(p.current=!1,setTimeout(()=>{p.current=!0},500),m&&"sidebar"===r){a("chapterSidebar");return}!m&&d(),f(!m)}}}};var ee=t("404264"),el=t("277931"),et=t("773627"),ei=t("181242"),eo=t("401310");let en=e=>{let l=(0,eo.n)(),{onPlayer:t}=e;return(0,n.useEffect)(()=>{l&&(null==t||t(l))},[l]),null};var er=t("67108"),ea=t.n(er),ed=t("51877"),eu=t.n(ed),es=t("426852"),ec=t("555835"),ev=t("554898"),em=t("17764");let ef=e=>{var l;let{originAwemeInfo:t,player:i,toast:o,isActive:r,isLast:a,modalEnterFrom:d,handleNextOnLast:u,handleOuterPlayNext:s,handleOuterPlayPrev:c,handlePrev:v,handleNext:f,isInnerFeedCondition:h,scene:_,abtestData:C}=e,[w,I]=(0,n.useState)(t),{awemeFeed:y}=(0,em.j)(),[T,b]=(0,n.useState)(null),[k,L]=(0,n.useState)(null);(0,n.useEffect)(()=>{var e;if((null==C?void 0:null===(e=C.authorOptimize)||void 0===e?void 0:e.render)&&!r)return;let l=y.subscribe("prevAwemeInfo",e=>{b(e)}),t=y.subscribe("nextAwemeInfo",e=>{L(e)});return()=>{l(),t()}},[r]);let[S,x]=(0,n.useState)((null==t?void 0:null===(l=t.logParams)||void 0===l?void 0:l.enter_from)||""),E=(0,n.useRef)({});(0,n.useEffect)(()=>{(null==w?void 0:w.awemeId)!==(null==t?void 0:t.awemeId)&&I(t)},[t,h]);let P=null!=h?h:t.awemeId!==w.awemeId,A=(0,n.useCallback)(e=>{var l,i,o,n;let{inComingAwemeInfo:a,card:u}=e;if(u){let e=F.Le.getConfig(F.gI.PlayerCardInfo);F.Le.setConfig(F.gI.PlayerCardInfo,{isActive:(null==a?void 0:a.awemeId)===(null==t?void 0:t.awemeId)||r,videoCardType:u!==g.L.Comment?u:null==e?void 0:e.videoCardType,expandCardType:"chat"===u?null==e?void 0:e.expandCardType:u})}if((null==a?void 0:a.awemeId)!==(null==w?void 0:w.awemeId)||(null==a?void 0:null===(l=a.seriesInfo)||void 0===l?void 0:l.seriesId)!==(null==w?void 0:null===(i=w.seriesInfo)||void 0===i?void 0:i.seriesId)||(null==a?void 0:null===(o=a.authorInfo)||void 0===o?void 0:o.uid)!==(null==w?void 0:null===(n=w.authorInfo)||void 0===n?void 0:n.uid)||"im"===d)eu()(a,"logPb",(null==a?void 0:a.scrollLogPb)||(null==a?void 0:a.logPb)),I(e=>(x(l=>{var t,i,o,n,r;return(null===(t=a.logParams)||void 0===t?void 0:t.enter_from)?a.logParams.enter_from:"author_compilation_card"===l&&(null===(i=e.mixInfo)||void 0===i?void 0:i.mixId)!==(null===(o=a.mixInfo)||void 0===o?void 0:o.mixId)||"author_playlet_card"===l&&(null===(n=e.seriesInfo)||void 0===n?void 0:n.seriesId)!==(null===(r=a.seriesInfo)||void 0===r?void 0:r.seriesId)?"":l}),a)),setTimeout(()=>{M.emit(M.EVENT.feedVideoCardLocateCurrentVideo)})},[w,null==t?void 0:t.awemeId,i]);(0,m.Z)(()=>{r&&M.emit(M.EVENT.videoChange)},[w,r]),(0,m.Z)(()=>{r&&i&&(i.replayed=!1,_===p.lT.Recommend&&!h&&(0,ec.Ci)())},[w,r,i]);let R=(0,n.useCallback)(ea()(e=>{if(!r||(0,K.OB)()!==(null==i?void 0:i.playerId))return;(0,ev.removeLoginPanel)();let l=null==e?void 0:e.from;(0,es.Y3)(l);if(P||_===p.lT.Search){var t;let e=null===(t=F.Le.getConfig(F.gI.PlayerCardInfo))||void 0===t?void 0:t.videoCardType,n=new Map([[g.L.Related,"该视频暂无更多相关作品"],[g.L.Music,"该音乐暂无更多相关作品"],[g.L.Topic,"该话题暂无更多相关作品"],[g.L.Mix,"暂无更多作品"],[g.L.Author,"该作者已无更多作品"],[g.L.Comment,"暂无更多作品"],[g.L.CollectFolder,"暂无更多作品"],[g.L.Search,"暂无更多搜索结果"],[g.L.Like,"暂无更多作品"],[g.L.Collection,"暂无更多作品"],[g.L.Record,"暂无更多作品"]]),r=new Map([[g.L.Related,"暂时无法切换，可查看其他相关视频"],[g.L.Music,"暂时无法切换，可查看其他音乐视频"],[g.L.Topic,"暂时无法切换，可查看其他话题视频"],[g.L.Mix,"暂无无法切换"],[g.L.Author,"暂时无法切换，可查看作者的其他视频"],[g.L.Comment,"暂无无法切换"],[g.L.CollectFolder,"暂无无法切换"],[g.L.Search,"暂无无法切换，请在「搜索结果」中选择"],[g.L.Like,"暂无无法切换"],[g.L.Collection,"暂无无法切换"],[g.L.Record,"暂无无法切换"]]);if(k)A({inComingAwemeInfo:k,card:e}),("scroll"===l||"keyboard"===l||"auto"===l)&&M.emit(M.EVENT.reportPlayNext,{clickFrom:l});else if("auto"===l)i&&(i.isReplay=!0,i.replay(),i.replayed=!0);else if(null===k){let l=r.get(e);l&&o(l)}else{let l=n.get(e);l&&o(l)}}else a&&(null==u||u()),s(e),a&&(null==e?void 0:e.from)==="auto"&&i&&(i.isReplay=!0,i.replay(),i.replayed=!0);null==f||f()},400,{leading:!0,trailing:!1}),[k,i,r,u,P,a,s]),N=(0,n.useCallback)(ea()(e=>{if(!r)return;(0,ev.removeLoginPanel)();let l=null==e?void 0:e.from;if((0,es.Y3)(l),P){var t;let e=null===(t=F.Le.getConfig(F.gI.PlayerCardInfo))||void 0===t?void 0:t.videoCardType,i=new Map([[g.L.Related,"暂时无法切换，可查看其他相关视频"],[g.L.Music,"暂时无法切换，可查看其他音乐视频"],[g.L.Topic,"暂时无法切换，可查看其他话题视频"],[g.L.Mix,"暂无无法切换"],[g.L.Author,"暂时无法切换，可查看作者的其他视频"],[g.L.Search,"暂无无法切换"]]);if(T)A({inComingAwemeInfo:T,card:e}),("scroll"===l||"keyboard"===l||"auto"===l)&&M.emit(M.EVENT.reportPlayPrev,{clickFrom:l});else if(null===T){let l=i.get(e);l&&o(l)}}else setTimeout(()=>null==c?void 0:c(e),0);null==v||v()},400,{leading:!0,trailing:!1}),[T,r,P,c]);return{awemeInfo:w,enterFrom:S,updateAwemeInfo:A,changePrevVideo:N,changeNextVideo:R,nextAwemeInfo:k,prevAwemeInfo:T,isInnerFeed:P,updateLogParams:(0,n.useCallback)(e=>{let{logParams:l}=e;E.current=l},[])}};t("685680"),t("930798");var eh=t("721778"),ep=t("510026"),e_=t("877653"),eg=t("288"),eC=t("475142");let ew=e=>{var l,t;let{showRelateVideo:i=eh.TP.ShowAll}=(null==e?void 0:null===(t=e.webRawData)||void 0===t?void 0:null===(l=t.CTR)||void 0===l?void 0:l.recommendScore)||{};return i===eh.TP.ShowSideCarOnly||i===eh.TP.ShowAll},eI=e=>{let{awemeInfo:l,scene:t,modalEnterFrom:i,filterData:o,currentVideoFeedRef:r,lastVideoFeedAwemeRef:a,outFeedItem:d,isInnerFeed:u,abtestData:s}=e,c=[],{normalList:v,relatedBlockedByRecommendScore:m}=(0,n.useMemo)(()=>{var e,o,n,s,c,v,m,f;let h=[g.L.Comment],_=!1;if((null==l?void 0:l.awemeType)!==(null==k?void 0:y.e.XgVideo)&&!(0,C.Jt)(l)&&!(0,C.gc)(l)&&h.unshift(g.L.Author),"collection_folder"===i)h.unshift(g.L.CollectFolder);let w=[p.lT.Recommend,p.lT.Follow,p.lT.Topic].includes(t),I=t===p.lT.Modal&&![k.ModalEnterFromVal.Im,k.ModalEnterFromVal.Search,k.ModalEnterFromVal.GeneralSearch].includes(i),T=[C.Jt,C.gc,C.Kf,ep.L,e_.AI,eg.u,C.pb,eC.hj,S.o4];return(w||I)&&T.every(e=>!e(l))&&(!u||(null==d?void 0:d.awemeId)===l.awemeId&&T.every(e=>!e(d))||(null===(o=a.current)||void 0===o?void 0:null===(e=o[g.t.Related])||void 0===e?void 0:e.awemeId)===l.awemeId||r.current===g.t.Related)&&(ew(u?d:l)?h.push(g.L.Related):_=!0),(null==l?void 0:null===(n=l.mixInfo)||void 0===n?void 0:n.mixId)&&!(null==l?void 0:null===(s=l.seriesInfo)||void 0===s?void 0:s.seriesId)&&h.push(g.L.Mix),(null==l?void 0:null===(c=l.seriesInfo)||void 0===c?void 0:c.seriesId)&&h.push(g.L.Series),(null==l?void 0:l.hotList)&&(null==l?void 0:null===(v=l.hotList)||void 0===v?void 0:v.rank)!==51&&(null==l?void 0:null===(m=l.hotList)||void 0===m?void 0:m.type)!==2&&h.push(g.L.Hot),(null==l?void 0:l.videoAbstract)&&[2,3].includes(null==l?void 0:null===(f=l.videoAbstract)||void 0===f?void 0:f.displayType)&&(t===p.lT.Search||p.lT.Modal===t&&[k.ModalEnterFromVal.GeneralSearch,k.ModalEnterFromVal.Search].includes(i)&&!u)&&h.push(g.L.AbstractList),{normalList:h,relatedBlockedByRecommendScore:_}},[l,i,t,r.current,d,u,a.current]);return[p.lT.Recommend,p.lT.Follow,p.lT.Friend,p.lT.Modal,p.lT.Topic,p.lT.Search].includes(t)&&(c=v),{showRelatedTabList:(0,n.useMemo)(()=>o?o(c):c,[c.join(","),o]),relatedBlockedByRecommendScore:m}};var ey=t("361142");let eT=(e,l)=>{var t;let{needFoldText:i=!1}=l||{},o=null==e?void 0:null===(t=e.suggestWords)||void 0===t?void 0:t.find(e=>e.scene===eh.gQ.FeedBottomRec);if(o){let{words:e=[],hintText:l}=o,t=(null==e?void 0:e.length)||0;return e.map((e,o)=>{let{word:n}=e;return n?{index:o,type:p.WZ.RelatedSearch,title:i?`${l}`:`${l}：${n}`,word:n,hintText:l,searchWord:e,wordsNum:t,itemClassName:d()(ey.default.relatedSearch),textClassName:d()(ey.default.relatedSearchText)}:null})}return[]},eb=e=>{var l,t;let{useCTR:i,awemeInfo:o,scene:n,showRelatedTabList:r,isActive:a,abtestData:d,recommendScore:u={}}=e,{showHot:s,showMix:c,showRelateSearch:v,showRelateVideo:m,showAuthorRelated:f}=u||{},h=[{isShow:!i||m===eh.TP.ShowAll,cardTab:g.L.Related,feedBarTag:p.WZ.Related},{isShow:f,cardTab:g.L.Author,feedBarTag:p.WZ.AuthorCard}];return[{isShow:(!i||(null==d?void 0:d.searchUseCtr)!==1||c)&&(null==o?void 0:null===(l=o.seriesInfo)||void 0===l?void 0:l.seriesId),cardTab:g.L.Series,feedBarTag:p.WZ.Series},{isShow:!i||c,cardTab:g.L.Mix,feedBarTag:p.WZ.Mix},{isShow:!i||s,cardTab:g.L.Hot,feedBarTag:p.WZ.Hot},{isShow:(!i||(null==d?void 0:d.searchUseCtr)!==1||v)&&(null===(t=eT(o))||void 0===t?void 0:t.length),feedBarTag:p.WZ.RelatedSearch},...h].filter(e=>{let{cardTab:l,feedBarTag:t,isShow:i}=e;return i&&(r.includes(l)||t===p.WZ.RelatedSearch)}).map(e=>{let{feedBarTag:l}=e;return l})},ek=e=>{var l,t,i;let{clickedCard:o,showRelatedTabList:n,awemeInfo:r,scene:a,isActive:d,abtestData:u}=e||{},s=(null==r?void 0:null===(t=r.webRawData)||void 0===t?void 0:null===(l=t.CTR)||void 0===l?void 0:l.recommendScore)||{},{showRelateSearch:c}=a===p.lT.Friend?{showRelateSearch:!0}:s,v={defaultCard:o||g.L.Author,videoTag:[]};return a===p.lT.Recommend?r.awemeType===y.e.XgVideo?v.defaultCard=g.L.Related:v.videoTag=eb({useCTR:!0,awemeInfo:r,scene:a,showRelatedTabList:n,isActive:d,abtestData:u,recommendScore:s}):r.awemeType===y.e.XgVideo?v.defaultCard=g.L.Related:r.awemeType===y.e.Normal?v.videoTag=eb({useCTR:!0,awemeInfo:r,scene:a,showRelatedTabList:n,isActive:d,abtestData:u,recommendScore:s}):r.awemeType===y.e.Note&&!((null==u?void 0:u.searchUseCtr)===1&&!c)&&(null===(i=eT(r))||void 0===i?void 0:i.length)&&(v.videoTag=[p.WZ.RelatedSearch]),v},eL=e=>{let{clickedCard:l,showRelatedTabList:t,awemeInfo:i,scene:o,isActive:n,abtestData:r}=e||{},a={defaultCard:l||g.L.Author,videoTag:[]};if(o===p.lT.Recommend)![y.e.XgVideo].includes(i.awemeType)&&(a.videoTag=eb({useCTR:!1,awemeInfo:i,scene:o,showRelatedTabList:t,isActive:n,abtestData:r}));else if(i.awemeType===y.e.Normal)a.videoTag=eb({useCTR:!1,awemeInfo:i,scene:o,showRelatedTabList:t,isActive:n,abtestData:r});else if(i.awemeType===y.e.Note){var d;(null===(d=eT(i))||void 0===d?void 0:d.length)&&(a.videoTag=[p.WZ.RelatedSearch])}return a},eS=e=>{let{awemeInfo:l,showRelatedTabList:t=[],clickedCard:i,isActive:o,useCTR:r=!0,scene:a,abtestData:d}=e;(0,n.useEffect)(()=>{let e=F.Le.getConfig(F.gI.PlayerCardInfo);return i&&F.Le.setConfig(F.gI.PlayerCardInfo,{isActive:o,videoCardType:i!==g.L.Comment?i:null==e?void 0:e.videoCardType,expandCardType:i}),()=>{F.Le.setConfig(F.gI.PlayerCardInfo,null)}},[]);let u={defaultCard:i||g.L.Author,videoTag:[]},s=(0,n.useMemo)(()=>r?ek({showRelatedTabList:t,awemeInfo:l,clickedCard:i,scene:a,isActive:o,abtestData:d}):eL({showRelatedTabList:t,awemeInfo:l,clickedCard:i,scene:a,isActive:o,abtestData:d}),[l,t,r,i,a,o,d]);return l?i?{defaultCard:i,videoTag:s.videoTag}:s:u};var ex=t("448454");let eE=e=>{let{isShow:l,player:t,isActive:i,awemeInfo:o,abtestData:r}=e,a=(0,n.useRef)(!1),d=(0,n.useRef)(()=>{});d.current=(0,n.useCallback)(()=>{a.current&&(setTimeout(()=>{M.emit(M.EVENT.videoRemoveStopPlayNext)}),a.current=!1)},[t]);let u=(0,ex.Z)(()=>{t&&i&&t.duration-t.currentTime>0&&t.duration-t.currentTime<=5&&!a.current&&l&&(null==o?void 0:o.awemeType)!==y.e.Note&&(M.emit(M.EVENT.videoStopPlayNext),a.current=!0,t.once(h.ENDED,d.current))});return(0,n.useEffect)(()=>{if(l)return()=>{d.current()}},[l]),(0,n.useEffect)(()=>{if(o)return()=>{d.current()}},[o]),{stopAutoPlay:u}};var eP=t("732082");let eA=e=>{let{awemeInfo:l,onAwemeInfoChange:t}=e;(0,n.useEffect)(()=>{var e;(null===(e=F.Le.getConfig(F.gI.IsInModalVideo))||void 0===e?void 0:e.isInModal)&&M.emit(M.EVENT.livePause)},[]),(0,n.useEffect)(()=>{null==t||t({awemeInfo:l})},[l])},eR=e=>{let{curTab:l,awemeInfo:t,isActive:i,abtestData:o,modalAwemeInfo:r}=e,{setSlideVideoTab:a}=(0,n.useContext)(q.C);(0,n.useEffect)(()=>{i&&(null==a||a(l))},[l,i,null==r?void 0:r.awemeId])},eM=e=>{let{onChangeAwemeInfo:l}=e,t=(0,ex.Z)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.L.Author;return l({inComingAwemeInfo:e,card:t})});return{handleAuthorVideoChange:t,handleOtherVideoChange:(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.L.Related;l({inComingAwemeInfo:e,card:t})},[l])}};var eN=t("422997"),eV=t("429982"),eF=t("244307"),ej=t("979210"),eD=t("804929"),eB=t("898263"),eH=t("685652"),eW=t("946816");let eO=e=>{let{awemeInfo:l,logParams:t={},originAwemeInfo:o,tagId:a,expandCard:d,curCard:u="",isInnerFeedCondition:s=!1,searchSideCardProps:c,modalEnterFrom:v}=e,m=(0,n.useRef)(t),f=(0,n.useMemo)(()=>{var e,t,i;return null!==(i=null===(t=F.Le.getConfig(F.gI.UnLookVideos))||void 0===t?void 0:null===(e=t[null==l?void 0:l.awemeId])||void 0===e?void 0:e.status)&&void 0!==i?i:""},[l]);return(0,n.useEffect)(()=>{var e,n,h,p,_,I,T,b,L,S,x,E,P,A,M,N,V,j,B,H,W,O,U,q,Z,z,K,$,G,X;let Y=null==t?void 0:t.enter_from,J="";""!==u&&(J=u===d&&"comment"!==u?"1":"0");let Q={};if((0,eF.n)(l)){let e=(null==l?void 0:null===(Z=l.anchorInfo)||void 0===Z?void 0:null===(q=Z.extra)||void 0===q?void 0:q[0])||{};Q={anchor_product_comment_cnt:e.comment_count,anchor_product_category_id:e.front_category_id,anchor_product_price:e.price,anchor_product_sales:e.sales}}let ee=(0,r._)((0,i._)((0,r._)((0,i._)((0,r._)((0,i._)({enter_from:null!==(z=t.enter_from)&&void 0!==z?z:(0,R.yW)(),web_rid:null==l?void 0:null===(h=l.authorInfo)||void 0===h?void 0:null===(n=h.roomData)||void 0===n?void 0:null===(e=n.owner)||void 0===e?void 0:e.web_rid},t),{is_card_expand:J,from_group_id:null!==(K=t.from_group_id)&&void 0!==K?K:null==o?void 0:o.awemeId,music_id:null==l?void 0:null===(p=l.music)||void 0===p?void 0:p.mid,compilation_id:null==l?void 0:null===(_=l.mixInfo)||void 0===_?void 0:_.mixId,tag_id:a,from_xigua:(null==l?void 0:l.awemeType)===y.e.XgVideo?1:0,insert_task_id:(null==l?void 0:l.libfinsertTaskId)||"0",enter_from_merge:null!==($=t.enter_from_merge)&&void 0!==$?$:(0,R.yW)(),search_params:null==l?void 0:l.searchLogParams,from_video_id:F.Le.getConfig(F.gI.PageEnterFromVideoID),is_seen:v===k.ModalEnterFromVal.FollowAuthorModal&&""===f?1:f,is_update:(null===(I=F.Le.getConfig(F.gI.UnLookVideos))||void 0===I?void 0:I[null==l?void 0:l.awemeId])?1:0,post_time:(0,eD.MH)(1e3*l.createTime),is_from_skylight:null!==(G=null==t?void 0:t.is_from_skylight)&&void 0!==G?G:0}),(0,D.t)()),{is_co_publish:(null==l?void 0:null===(b=l.cooperationInfo)||void 0===b?void 0:null===(T=b.cooperationCreators)||void 0===T?void 0:T.length)>1?1:0,co_publish_author_list:null==l?void 0:null===(x=l.cooperationInfo)||void 0===x?void 0:null===(S=x.cooperationCreators)||void 0===S?void 0:null===(L=S.filter(e=>e.roleId!==k.CooperationRoleId.Author))||void 0===L?void 0:L.map(e=>`${e.uid}_${null==e?void 0:e.roleId}`),cid:null===(E=(0,C.Rx)(l))||void 0===E?void 0:E.creative_id,if_qianchuan_ad:(0,C.nT)(l)===w.Z9.Live||(0,C.nT)(l)===w.Z9.ShopVideo?1:0,ad_type:(0,C.nT)(l),brand_ad_type:ej.AD_LOG_MAP[null==l?void 0:null===(A=l.webRawData)||void 0===A?void 0:null===(P=A.brandAd)||void 0===P?void 0:P.brand_type]}),(null==l?void 0:l.logParams)||{},Q),{playlet_id:null==l?void 0:null===(M=l.seriesInfo)||void 0===M?void 0:M.seriesId,is_trailer:(null==l?void 0:null===(V=l.chargeInfo)||void 0===V?void 0:null===(N=V.preview_config)||void 0===N?void 0:N.is_preview)?1:0,module:decodeURIComponent((0,eB.Rs)("module")||""),payment_status:(0,eW.wQ)(l),episode_rank:(null==l?void 0:null===(j=l.seriesInfo)||void 0===j?void 0:j.currentEpisode)||(null==l?void 0:null===(B=l.mixInfo)||void 0===B?void 0:B.currentEpisode)||0,episode_id:String((null==l?void 0:null===(H=l.seriesInfo)||void 0===H?void 0:H.currentEpisode)||(null==l?void 0:null===(W=l.mixInfo)||void 0===W?void 0:W.currentEpisode)||0),is_charge_content:(null==l?void 0:null===(O=l.chargeInfo)||void 0===O?void 0:O.is_charge_content)?1:0,is_hard_ad:(0,C.Jt)(l)?(0,C.Gu)(l)?1:0:void 0}),el=[g.L.Author,g.L.Hot,g.L.Mix,g.L.Music,g.L.Related,g.L.Topic,g.L.AwemeRelated,g.L.Search,g.L.History,g.L.Like,g.L.CollectFolder,g.L.Collection,g.L.Handpick];if(null!=s?s:(null==o?void 0:o.awemeId)!==(null==l?void 0:l.awemeId)){if(el.includes(u))Y=u;else{if(u===g.L.Comment){let e=F.Le.getConfig(F.gI.PlayerCardInfo),l=F.Le.getConfig(F.gI.CurLookCard);Y=(null==l?void 0:l.curCard)?null==l?void 0:l.curCard:(null==e?void 0:e.isActive)&&(null==e?void 0:e.videoCardType)?null==e?void 0:e.videoCardType:null==t?void 0:t.enter_from}m.current=(0,i._)({},ee)}}(null==c?void 0:c.scene)&&(null==o?void 0:o.awemeId)!==(null==l?void 0:l.awemeId)&&!s&&(Y=(0,eH.V)(null==c?void 0:c.scene,l,null==t?void 0:null===(X=t.search_params)||void 0===X?void 0:X.token_type),F.Le.setConfig(F.gI.PlayerCardInfo,{videoCardType:Y,expandCardType:Y,isActive:!0})),(null==l?void 0:null===(U=l.logParams)||void 0===U?void 0:U.enter_from)?m.current=(0,r._)((0,i._)({},ee),{enter_from:l.logParams.enter_from}):Y?m.current=(0,r._)((0,i._)({},ee),{enter_from:Y}):m.current=(0,i._)({},ee)},[t,u,d,l,o,a,f,s]),{reportParams:m.current}},eU=e=>{let{isActive:l,player:t,showSideCard:i}=e,[o,r]=(0,n.useState)(!1),a=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{var e;let o;a.current?l&&i&&r(!0):o=setTimeout(()=>{l&&i&&r(!0)},3e3);let n=()=>{a.current=!0,clearTimeout(o),i&&r(!0)};return null==t||null===(e=t.on)||void 0===e||e.call(t,h.CANPLAY,n),()=>{var e;null==t||null===(e=t.off)||void 0===e||e.call(t,h.CANPLAY,n),clearTimeout(o)}},[t,l,i]),{hasRelatedCardShown:o}};var eq=t("579309"),eZ=t("886330"),ez=t("744611"),eK=t("715500"),e$=t("318086");let eG=e=>{let{awemeInfo:l,userInfo:t,onOpenCard:i,isActive:o,onCloseAdCard:r,abtestData:a,toast:d,isFirst:u,isUpperFeed:s,changeSplashAdStatus:c}=e,v=(0,n.useRef)(eq.TCC_DEFAULT_VALUE_MAP.get(eq.TccKey.AdConfig)),[m,f]=(0,n.useState)(!1),h=(0,n.useRef)(!1),p=(0,n.useRef)(!1);(0,n.useEffect)(()=>{h.current=!1,p.current=!1,f(!1)},[l]),(0,n.useEffect)(()=>{let e=!1;return(async()=>{let l=await eZ.U2({key:eq.TccKey.AdConfig,defaultValue:eq.TCC_DEFAULT_VALUE_MAP.get(eq.TccKey.AdConfig)});!e&&(v.current=l)})(),()=>{e=!0}},[]);let _=(0,n.useCallback)(e=>{let{from:l}=e||{};"closeIcon"===l&&(h.current=!0),p.current&&(p.current=!1,M.emit(M.EVENT.videoRemoveStopPlayNext,{openSideCard:!0})),f(!1),null==r||r()},[r]),g=(0,n.useCallback)(e=>{var o,n,r,a;let{from:u}=e||{},s=(0,C.Rx)(l),c=(0,C.BD)(l);if("automatic"!==u&&!p.current&&(p.current=!0,M.emit(M.EVENT.videoStopPlayNext,{openSideCard:!0})),"keyboard"===u&&(0,ez.E)("realtime_click",{tag:(0,eK.f)(),value:null==s?void 0:s.creative_id,log_extra:null==s?void 0:s.log_extra,refer:"enter"}),(0,S.o4)(l))return;if((0,eC.hj)(l)){if(M.emit(M.EVENT.videoPause),(null==c?void 0:null===(n=c.lynx_raw_data)||void 0===n?void 0:n.open_url)||(null==s?void 0:s.open_url)){let e=(0,eC.at)({rawAdData:s,extraParams:{enter_from_merge:"web_homepage_hot",enter_method:"web_video_commercialize",action_type:"click",group_id:l.awemeId,request_id:l.logPb}});window.open(e,(0,e$.f)()?"_self":"_blank")}else d?d("广告链接获取失败，请跳过"):J.F.info("广告链接获取失败，请跳过"),(0,ez.E)("load_failed",{tag:(0,eK.f)(),value:s.creative_id,log_extra:s.log_extra});return}if((0,ep.L)(l)||(0,eg.u)(l)){(null==c?void 0:null===(r=c.lynx_raw_data)||void 0===r?void 0:r.web_url)?(f(!0),null==i||i({isAuto:"automatic"===u}),(0,ez.E)("detail_show",{tag:"landing_ad",value:s.creative_id,log_extra:s.log_extra})):(d?d("广告链接获取失败，请跳过"):J.F.info("广告链接获取失败，请跳过"),(0,ez.E)("load_failed",{tag:(0,eK.f)(),value:null==s?void 0:s.creative_id,log_extra:null==s?void 0:s.log_extra}));return}let m=!1;if(null==c?void 0:null===(o=c.lynx_raw_data)||void 0===o?void 0:o.web_url){if(!(null===(a=v.current)||void 0===a?void 0:a.openInSidebarCondition.siteTypes.includes(s.site_type))||(0,W.DT)()){if("automatic"!==u){let e=(0,e_.J2)({awemeInfo:l,userInfo:t});m=!0,window.open(e,(0,e$.f)()?"_self":"_blank")}}else f(!0),m=!0,null==i||i({isAuto:"automatic"===u})}else d?d("广告链接获取失败，请跳过"):J.F.info("广告链接获取失败，请跳过"),(0,ez.E)("load_failed",{tag:(0,eK.f)(),value:null==s?void 0:s.creative_id,log_extra:null==s?void 0:s.log_extra});m&&(0,ez.E)("detail_show",{tag:"landing_ad",value:s.creative_id,log_extra:s.log_extra})},[l,t,i,a]);return(0,b.o)(()=>M.listen(M.EVENT.openAdSideCard,e=>{if(o){(null==e?void 0:e.from)==="automatic"&&h.current||g({from:null==e?void 0:e.from});let t=(0,C.Rx)(l);(null==e?void 0:e.from)==="keyboard"&&(0,ez.E)("slide",{tag:(0,eK.f)(),value:t.creative_id,log_extra:t.log_extra})}}),[o,g,l]),(0,n.useEffect)(()=>{u&&!s&&o&&(null==c||c((0,C.pb)(l)?w.QB.Fullscreen:w.QB.Normal))},[]),(0,n.useEffect)(()=>{o?(!u&&(null==c||c(w.QB.Normal)),p.current=!1):f(!1)},[o]),{closeAdCard:_,openAdCard:g,isShowAdCard:m,isAdAweme:(0,C.Jt)(l)}},eX=e=>{let{awemeInfo:l,isActive:t,abtestData:i,toast:o,isLogin:r,onLoginSuccess:a,accountParentEl:d,onOpenCard:u}=e,[s,c]=(0,n.useState)(!1),[v,m]=(0,n.useState)(!1),[f,h]=(0,n.useState)(""),p=e=>{let{from:l}=e;c(!0),M.emit(M.EVENT.closeAiSearchDrawer)};return(0,b.o)(()=>{let e=M.listen(M.EVENT.openAiSearchCard,e=>{if((null==e?void 0:e.awemeId)===(null==l?void 0:l.awemeId)&&!!t)if(r)n();else{var i,o;(0,ev.default)({success:async()=>{null==a||a(),n()},headerText:"登录后即可使用 AI 搜索",enterMethod:"ai_search_card_click",next:`https://${null===(o=window)||void 0===o?void 0:null===(i=o.location)||void 0===i?void 0:i.host}`},d)}function n(){h(null==e?void 0:e.word),u(),p({from:null==e?void 0:e.from})}}),i=M.listen(M.EVENT.renderAiSearchSideCard,e=>{if((null==e?void 0:e.awemeId)===(null==l?void 0:l.awemeId)&&!!t)m(!0)});return()=>{e(),i()}},[t,p,l,r,a,d,u]),(0,n.useEffect)(()=>{!t&&c(!1)},[t]),{isShowAiSearchCard:s,closeAiSearchCard:e=>{c(!1),!(null==e?void 0:e.fromDrawer)&&M.emit(M.EVENT.closeAiSearchDrawer)},word:f,renderAiSearchSideCard:v}};var eY=t("556765");let eJ=e=>{let{awemeInfo:l,isActive:t,abtestData:i,isInnerFeed:o,onOpenCard:r}=e,[a,d]=(0,n.useState)(!1),u=()=>{d(!1),M.emit(M.EVENT.closeVideoInfoSideCard,{awemeId:null==l?void 0:l.awemeId})};return(0,b.o)(()=>{var e,o;if(!isInSearchChildRoute(null===(e=location)||void 0===e?void 0:e.pathname)&&!isInLiveChildRoute(null===(o=location)||void 0===o?void 0:o.pathname)&&(null==i?void 0:i.videoInfoOptimize)!==L.VideoInfoOptimize.V0)return M.listen(M.EVENT.openVideoInfoSideCard,e=>{if((null==e?void 0:e.awemeId)===(null==l?void 0:l.awemeId)&&!!t)d(!0),null==r||r()})},[l,t,i,r]),(0,n.useEffect)(()=>{o&&u()},[o]),(0,n.useEffect)(()=>{!t&&u()},[t]),{closeVideoInfoSideCard:u,isShowVideoInfoSideCard:a}},eQ=e=>{let{showSideCard:l,isActive:t,originAwemeInfo:i,showRelatedTabList:o,slideVideoTab:r,changeTab:a,isUpperFeed:d,defaultLandingTab:u,handleShowSidebar:s,logParams:c,searchFrom:v}=e,m=(0,n.useRef)(!u),f=(0,n.useRef)(!1),h=(0,n.useMemo)(()=>{if(t){if(l){var e;return(null==o?void 0:null===(e=o.includes)||void 0===e?void 0:e.call(o,r))?r:o[0]}if(u)return o[0]}},[t,l,u,o[0],o[1],o[2],o[3],o[4]]);return(0,b.o)(()=>{!f.current&&!(0,C.Jt)(i)&&t&&h&&!d&&!m.current&&u&&(setTimeout(()=>{if(s(!0,{from:"auto"}),a({tab:u,from:"auto"}),u===g.L.AbstractList){var e;_.i.sendLog("enterVideoCardTab",{type:u,enter_method:"video_abstract_text"===v?"click_video_abstract":"click_card_entrance",enter_from_merge:(0,R.vM)(),enter_from:null!==(e=null==c?void 0:c.enter_from)&&void 0!==e?e:(0,R.mo)(),tab_name:(null==c?void 0:c.tab_name)||T.getTabName(),module_name:null==c?void 0:c.module_name})}}),m.current=!0)},[h,i,t,c,v]),{openSpecificTab:(0,n.useCallback)(e=>{f.current=!0,s(!0),a({tab:e});let l=setTimeout(()=>{f.current=!1,clearTimeout(l)},3e3)},[s,a])}};var e0=t("200606");let e1=e=>{let{awemeInfo:l,slideOptimize:t}=e,[i,o]=(0,n.useState)((0,e0.g)(l));return(0,n.useEffect)(()=>{t||o((0,e0.g)(l))},[l]),{hotData:i}},e2=e=>{let{player:l,isActive:t,isNext:i,showSideCard:o,abtestData:r}=e,[a,d]=(0,n.useState)(!1),u=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(o){if(t&&l){if(l.isPlaying||l.currentTime>0)d(!0),u.current=!0;else{let e=setTimeout(()=>{d(!0),u.current=!0},3e3),t=()=>{clearTimeout(e),d(!0),u.current=!0};return l.once(h.AUTOPLAY_STARTED,t),()=>{l.off(h.AUTOPLAY_STARTED,t),clearTimeout(e)}}}else!t&&a?d(!1):!a&&d(!0)}},[l,t,r,o]),a};t("969642");let e5=e=>{let{scene:l,originAwemeInfo:t,awemeInfo:o,videoTag:a,toast:u,player:s,reportParams:c={},canShowMixCard:v=!1,canShowSeriesCard:m=!1,canShowRelatedCard:f=!1,canShowRelatedSearchFeedBar:h=!1,canShowChapterFeedbar:_=!1,curCard:w,handleAvatarClick:I,handleMixClick:T,handleSeriesClick:b,handleRelatedClick:k,handleHotClick:L,isShowSideBar:S,isInnerFeed:x,abtestData:E,showRelatedTabList:P,chapterProgress:A,triggerChapterSliderShow:N}=e,V=(0,n.useRef)(null!=a?a:[]),{feedBarAdditions:B}=E,H=(0,n.useCallback)((e,t)=>{var n,a,d,s,v,m,f,h;let{to_user_id:_,is_co_publish:T,co_publish_author_list:b}=(0,Y.m)(o)||{};if((null==o?void 0:o.awemeType)===y.e.XgVideo){Y.Z.sendLog("clickAuthorHead",(0,i._)({click_from:(null==t?void 0:t.clickMethod)||"head",action:"",urlParamList:["previous_page"],author_id:null==o?void 0:null===(s=o.authorInfo)||void 0===s?void 0:s.uid,group_id:null==o?void 0:o.awemeId,log_pb:null==o?void 0:o.logPb,enter_from:(0,R.mo)(),is_full_screen:(0,j.r)()?"1":"0",from_follow_list:(null===(v=F.Le.getConfig(F.gI.FromFollowList))||void 0===v?void 0:v.tag)?"1":"0"},(0,D.t)(),c)),(null==o?void 0:o.awemeType)===y.e.XgVideo&&M.emit(M.EVENT.videoPause);return}if((0,C.Jt)(o)){if(l!==p.lT.Recommend){if((0,C.gc)(o)){null==e||null===(m=e.preventDefault)||void 0===m||m.call(e),u?u("广告视频不支持此功能"):J.F.info("广告视频不支持此功能");return}}else{null==e||null===(f=e.preventDefault)||void 0===f||f.call(e),M.emit(M.EVENT.openAdSideCard);let l=(0,C.Rx)(o);(0,ez.E)("realtime_click",{tag:(0,eK.f)(),value:null==l?void 0:l.creative_id,log_extra:null==l?void 0:l.log_extra,refer:"source"});return}}if((0,C.gc)(o)){null==e||null===(h=e.preventDefault)||void 0===h||h.call(e),J.F.info("广告视频不支持此功能");return}return null==e||null===(n=e.preventDefault)||void 0===n||n.call(e),Y.Z.sendLog("clickAuthorHead",(0,r._)((0,i._)((0,r._)((0,i._)({click_from:(null==t?void 0:t.clickMethod)||"head",urlParamList:["previous_page"],author_id:null==o?void 0:null===(a=o.authorInfo)||void 0===a?void 0:a.uid,group_id:null==o?void 0:o.awemeId,log_pb:null==o?void 0:o.logPb,enter_from:(0,R.mo)(),is_full_screen:(0,j.r)()?"1":"0",from_follow_list:(null===(d=F.Le.getConfig(F.gI.FromFollowList))||void 0===d?void 0:d.tag)?"1":"0"},c),{action:S&&w===g.L.Author?"close":"open"}),(0,D.t)()),{to_user_id:_,is_co_publish:T,co_publish_author_list:b})),null==I||I(t),!0},[o,c,w,I,S]),W=(0,n.useCallback)(()=>{null==L||L()},[L]),O=(0,n.useCallback)((e,l)=>{if(!P.includes(g.L.Related)){var t;return null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),u?u("暂无相关推荐"):J.F.info("暂无相关推荐"),!1}return k(l),!0},[k,P,u]);return(0,n.useEffect)(()=>{a&&t.awemeId===o.awemeId&&(V.current=a)},[a]),{videoInfoTags:(0,n.useMemo)(()=>{var e,i,n,r,a,u,s,c,_,g,w,y,k,L,S,E,P,A,R,M;let N=[];if((null===(n=o.webRawData)||void 0===n?void 0:null===(i=n.CTR)||void 0===i?void 0:null===(e=i.recommendScore)||void 0===e?void 0:e.showAuthorRelated)&&!(0,C.Jt)(o)&&!(0,C.gc)(o)&&N.push({type:p.WZ.AuthorCard,onClick:e=>null==I?void 0:I(e)}),v&&(null==o?void 0:null===(r=o.mixInfo)||void 0===r?void 0:r.status)!==-1){let e=`合集：${null==o?void 0:null===(_=o.mixInfo)||void 0===_?void 0:_.mixName}`;N.push({type:p.WZ.Mix,title:e,onClick:e=>null==T?void 0:T(e),itemClassName:d()(ey.default.mix),textClassName:d()(ey.default.mixText)})}if(m&&(null==o?void 0:null===(a=o.seriesInfo)||void 0===a?void 0:a.status)!==-1){let e=`${null==o?void 0:null===(g=o.seriesInfo)||void 0===g?void 0:g.seriesName}`;N.push({type:p.WZ.Series,title:e,onClick:e=>null==b?void 0:b(e),itemClassName:d()(ey.default.mix),textClassName:d()(ey.default.mixText)})}if((null==o?void 0:null===(u=o.hotList)||void 0===u?void 0:u.title)&&(null==o?void 0:null===(s=o.hotList)||void 0===s?void 0:s.rank)!==51&&(null==o?void 0:null===(c=o.hotList)||void 0===c?void 0:c.type)!==2){let e=(null==o?void 0:null===(w=o.hotList)||void 0===w?void 0:w.rank)?`${null==o?void 0:null===(y=o.hotList)||void 0===y?void 0:y.header}TOP${null==o?void 0:null===(k=o.hotList)||void 0===k?void 0:k.rank}： ${null==o?void 0:null===(L=o.hotList)||void 0===L?void 0:L.title}`:`置顶热榜：${null==o?void 0:null===(S=o.hotList)||void 0===S?void 0:S.title}`;N.push({type:p.WZ.Hot,title:e,customProps:{trending_topic:null==o?void 0:null===(E=o.hotList)||void 0===E?void 0:E.title,first_tag_name:null==o?void 0:null===(P=o.hotList)||void 0===P?void 0:P.header,top:null==o?void 0:null===(A=o.hotList)||void 0===A?void 0:A.rank},onClick:W,itemClassName:(null==o?void 0:null===(R=o.hotList)||void 0===R?void 0:R.rank)?d()(ey.default.rankHot):d()(ey.default.hot),textClassName:(null==o?void 0:null===(M=o.hotList)||void 0===M?void 0:M.rank)?d()(ey.default.rankHotText):d()(ey.default.hotText)})}if(l===p.lT.Recommend&&f&&(null==t?void 0:t.awemeId)===(null==o?void 0:o.awemeId)&&!(0,C.Jt)(o)&&!(0,eF.n)(o)&&N.push({type:p.WZ.Related,title:"相关推荐 \xb7 观看更多精彩视频",onClick:e=>O(null,e),itemClassName:d()(ey.default.related),textClassName:d()(ey.default.relatedText)}),h){let e=eT(o,{needFoldText:!1});N.push(...e)}if(x)return N.filter(e=>B&&e.type===p.WZ.RelatedSearch);let F=V.current,j=N.filter(e=>{let{type:l}=e;return F.includes(l)}).sort((e,l)=>F.indexOf(e.type)-F.indexOf(l.type)),D=j.findIndex(e=>e.type===p.WZ.Mix),H=N.findIndex(e=>e.type===p.WZ.Chapter);return H>-1&&j.splice(D+1,0,N[H]),j.forEach((e,l)=>{e.idx=l}),j},[T,v,o,W,f,t,k,h,S,x]),onAvatarClick:H,onRelatedClick:O}},e3=e=>{let{player:l,isActive:t,isOuter:i,scene:o}=e;(0,n.useEffect)(()=>{let e;return l&&t&&o===p.lT.Recommend&&(()=>{if(i){var e;(null===(e=F.Le.getConfig(F.gI.IsInLookMiniModal))||void 0===e?void 0:e.isInMiniModal)&&setTimeout(()=>{var e;null===(e=l.pause)||void 0===e||e.call(l),l.config.autoplay=!1,l.autoplay=!1},20)}})(),()=>{clearTimeout(e)}},[l,t])};var e4=t("553573"),e7=t("656716"),e8=t("375456");let e9=e=>{let{isUpperFeed:l,awemeInfo:t,scrollElRef:i,swiper:o,isActive:r,changeNextVideo:a,changePrevVideo:d,player:u,onFullScreen:s,onCssFullScreen:c,onFullScreenrestore:v,onChangeMinWindows:f,onCanPlay:h,onPlay:_,onEnterVideo:g,onLeaveVideo:C,onVideoTitleClick:w,feedCssFullScreen:I,modalEnterFrom:y}=e,T=(0,ex.Z)(e.onTriggerModalPlayerClose),[k,L]=(0,n.useState)(!1),S=null!=I?I:k,[x,E]=(0,n.useState)(!1),{isFullscreen:P}=(0,e4.$)(),A=(0,n.useRef)(c);A.current=c,(0,n.useEffect)(()=>{let e=e=>{null==e||e.stopPropagation(),M.emit(M.EVENT.globalEventPrevented)},l=e=>{null==e||e.stopPropagation(),M.emit(M.EVENT.globalEventPrevented)};if(i.current){var t,o,n,a;null===(t=i.current)||void 0===t||t.addEventListener("wheel",e),null===(o=i.current)||void 0===o||o.addEventListener("mousedown",l),null===(n=i.current)||void 0===n||n.addEventListener("pointerdown",l),null===(a=i.current)||void 0===a||a.addEventListener("touchstart",l)}let d=M.listen(M.EVENT.pageFullScreen,e=>{if(!r)return;let{fullScreen:l}=e;L(e=>null!=l?l:!e)});return()=>{var t,o,n,r;null===(t=i.current)||void 0===t||t.removeEventListener("wheel",e),null===(o=i.current)||void 0===o||o.removeEventListener("mousedown",l),null===(n=i.current)||void 0===n||n.removeEventListener("pointerdown",l),null===(r=i.current)||void 0===r||r.removeEventListener("touchstart",l),null==d||d()}},[i,u,r]),(0,b.o)(()=>{if(r&&o){let e=function(){for(var e,l,t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];if((null==i?void 0:null===(e=i[0])||void 0===e?void 0:e.triggerFrom)!=="ai_search"||(null==i?void 0:null===(l=i[0])||void 0===l?void 0:l.triggerFrom)===y)(0,e7.i0)(e7.CK.User),a(...i)},l=function(){for(var e,l,t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];if((null==i?void 0:null===(e=i[0])||void 0===e?void 0:e.triggerFrom)!=="ai_search"||(null==i?void 0:null===(l=i[0])||void 0===l?void 0:l.triggerFrom)===y)(0,e7.i0)(e7.CK.User),d(...i)};try{null==o||o.on("changeNext",e),null==o||o.on("changePrev",l)}catch(e){}return()=>{try{null==o||o.off("changeNext",e),null==o||o.off("changePrev",l)}catch(e){}}}},[r,o,a,d]),(0,m.Z)(()=>{r&&!(S||P)&&(null==v||v())},[P,S]),(0,m.Z)(()=>{r&&(P?null==s||s(!0):null==s||s(!1))},[P]),(0,m.Z)(()=>{if(r){var e,l;S?null===(e=A.current)||void 0===e||e.call(A,!0):null===(l=A.current)||void 0===l||l.call(A,!1)}},[S]),(0,n.useEffect)(()=>{let e=M.listen(M.EVENT.triggerModalPlayerClose,T);return()=>{null==e||e()}},[T]),(0,b.o)(()=>{let e=M.listen(M.EVENT.changeMinWindows,e=>{let l=e8.s.getPlayersByScene(p.lT.Modal).length>0;if(e8.s.getPlayerScene(null==u?void 0:u.playerId)!==p.lT.Modal&&l)return;let{isMiniWin:t}=e||{};E(t),null==f||f(t)});return()=>e()},[f,u]);let R=(0,n.useRef)(h);R.current=h,(0,n.useEffect)(()=>{if(u&&r){let e=()=>{var e;null===(e=R.current)||void 0===e||e.call(R)};return u.once("canplay",e),()=>{u.off("canplay",e)}}},[u,r,l]);let N=(0,n.useRef)(_);return N.current=_,(0,n.useEffect)(()=>{if(u){let e=()=>{var e;null===(e=N.current)||void 0===e||e.call(N)};return u.on("play",e),()=>{u.off("play",e)}}},[u]),(0,m.Z)(()=>{r&&(null==g||g()),!r&&(null==C||C())},[r]),(0,n.useEffect)(()=>{let e=M.listen(M.EVENT.videoTitleClick,e=>{let{awemeId:l,playerId:i}=e;if((null==t?void 0:t.awemeId)===l&&(null==u?void 0:u.playerId)===i)null==w||w()});return()=>{null==e||e()}},[t,u,w]),{isCssFullScreen:S,isFullScreen:P,isMiniWin:x}};var e6=t("455151"),le=t("560113");let ll=e=>{let{isActive:l,awemeInfo:t,isNext:i,scene:o,isUpperFeed:r=!1,smoothInner:a=!1,modalEnterFrom:d}=e,u=(0,e6.t)();(0,le.t)(function(){var e;let i=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!i)l&&!(null==u?void 0:null===(e=u.current)||void 0===e?void 0:e.isRecoveryFromChild)&&M.emit(M.EVENT.postCurVideoInfo,{awemeId:null==t?void 0:t.awemeId,groupId:null==t?void 0:t.groupId,scene:o,suggestWords:null==t?void 0:t.suggestWords,modalEnterFrom:d,isRecovery:!0})}),(0,n.useEffect)(()=>{if(t&&o!==p.lT.Search){if(!r||!!a)l?(M.emit(M.EVENT.postCurVideoInfo,{awemeId:null==t?void 0:t.awemeId,groupId:null==t?void 0:t.groupId,scene:o,suggestWords:null==t?void 0:t.suggestWords,modalEnterFrom:d}),!F.Le.getConfig(F.gI.FirstFeedVideoSearchInfo)&&F.Le.setConfig(F.gI.FirstFeedVideoSearchInfo,{awemeId:null==t?void 0:t.awemeId,groupId:null==t?void 0:t.groupId,scene:o,suggestWords:null==t?void 0:t.suggestWords,modalEnterFrom:d})):i&&M.emit(M.EVENT.postCurVideoInfo,{awemeId:null==t?void 0:t.awemeId,groupId:null==t?void 0:t.groupId,scene:o,suggestWords:null==t?void 0:t.suggestWords,preload:!0,modalEnterFrom:d})}},[t,l,o,i])};var lt=t("132612");let li=e=>{let{isActive:l,isUpperFeed:t,modalAwemeInfo:i,showSideCard:o,isShowAdCard:r,isShowAiSearchCard:a,isShowShopDetailSideCard:d,isShowVideoInfoSideCard:u,abtestData:s,scene:c}=e,v=(0,n.useRef)(!0);(0,n.useEffect)(()=>{if(v.current){v.current=!1;return}l&&M.emit(M.EVENT.sideCardShowChange,{isUpperFeed:t,isModalAwemeShow:!!i,isShow:o||r||d||a||u})},[o,r,t,d,l,null==i?void 0:i.awemeId,a,u])};var lo=t("543488"),ln=t.n(lo);let lr=e=>{let{curTab:l,awemeInfo:t,handleChangeVideo:o,handleCooperationAvatarClick:a,reportParams:d,isShowVideoCard:u}=e,s=(0,n.useRef)(!1),c=(0,n.useCallback)(e=>{var o,n;s.current=!0,null==a||a(e);let{to_user_id:c,is_co_publish:v,co_publish_author_list:m}=(0,Y.m)(e)||{};Y.Z.sendLog("clickAuthorHead",(0,r._)((0,i._)((0,r._)((0,i._)({click_from:"click_co_author_head",urlParamList:["previous_page"],author_id:null==e?void 0:null===(o=e.authorInfo)||void 0===o?void 0:o.uid,group_id:null==t?void 0:t.awemeId,log_pb:null==t?void 0:t.logPb,is_full_screen:(0,j.r)()?"1":"0",from_follow_list:(null===(n=F.Le.getConfig(F.gI.FromFollowList))||void 0===n?void 0:n.tag)?"1":"0"},d),{action:u&&l===g.L.Author?"close":"open"}),(0,D.t)()),{to_user_id:c,is_co_publish:v,co_publish_author_list:m})),M.emit(M.EVENT.feedVideoCardLocateCurrentVideo,{offsetHeight:0,scrollBehavior:"smooth"})},[a,t,l,u,d]);return(0,n.useEffect)(()=>{if(void 0!==t.authorInfo.roleId&&t.authorInfo.roleId!==k.CooperationRoleId.Author&&[g.L.Mix,g.L.Hot].includes(l)){var e,i;let l=ln()(t),n=null==l?void 0:null===(i=l.cooperationInfo)||void 0===i?void 0:null===(e=i.cooperationCreators)||void 0===e?void 0:e.filter(e=>e.roleId===k.CooperationRoleId.Author)[0];n&&(l.authorInfo=n),null==o||o(l)}},[l]),{onCooperationAvatarClick:c,changeIsInCooperation:e=>{s.current=e},isInCooperation:s.current}};t("613518"),t("999921"),t("227470"),t("459167");var la=t("781111"),ld=t("837305"),lu=t("528557"),ls=t("837892"),lc=t("49857"),lv=t("452300"),lm=t("996566"),lf=t("324887"),lh=t("456742"),lp=t("559308");let l_="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,lg="slide-mode-0",lC=()=>{let e=parseInt(lg.match(/\d+$/)[0]);e++,lg=lg.replace(/\d+$/,e)},lw=()=>{let e=parseInt(lg.match(/\d+$/)[0]);e--,lg=lg.replace(/\d+$/,e)},lI=e=>{var l,t,a,u;let{close:s,clickedCard:c,customProps:v,isEnterByFullScreen:m=!1,modalEnterFrom:f,currentAwemeInfo:h,isClientMiniWin:_,relatedSmooth:g}=e,{tab:C,userContext:w}=v||{},{userInfo:I}=w,[y,T]=(0,n.useState)({}),{isCssFullScreen:k,isFullScreen:L,isSelf:S}=(0,n.useContext)(q.C),[x,E]=(0,n.useState)(!1),P=(0,n.useRef)(lg),A=(0,n.useRef)(null),R=(0,n.useRef)(null),N=(0,n.useRef)(null),V=(0,n.useRef)("click_screen");(0,n.useEffect)(()=>(M.emit(M.EVENT.InnerFeedReady,P.current),lC(),()=>{M.emit(M.EVENT.InnerFeedExit,P.current),lw()}),[]);let j=(0,n.useCallback)(e=>{e.target===A.current&&(V.current="click_screen",E(!0))},[]),D=(0,n.useCallback)(()=>{T({width:"100%",height:"100%"})},[]);return((0,n.useEffect)(()=>{var e;D();let l=(0,K.OB)(),t=e8.s.getPlayer(l);return null==t||null===(e=t.pause)||void 0===e||e.call(t),(0,K.wS)(l,!1),()=>{if((0,K.wS)(l,!0),setTimeout(()=>{var e;M.emit(M.EVENT.syncInteraction),null==t||null===(e=t.play)||void 0===e||e.call(t)}),F.Le.getConfig(F.gI.IsInMixCard)){let e=Number((0,lu.$o)(ld.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY)),l=F.Le.getConfig(F.gI.AutoPlayChanged);!(null==l?void 0:l.changed)&&(null==l?void 0:l.autoEmit)&&e&&((0,lu.qQ)(ld.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY,"0"),M.emit(M.EVENT.changeInnerAutoPlay,2),F.Le.setConfig(F.gI.InnerAutoPlay,null),F.Le.setConfig(F.gI.AutoPlayChanged,{autoEmit:!1})),F.Le.setConfig(F.gI.IsInMixCard,!1)}}},[D]),l_(()=>(F.Le.setConfig(F.gI.SlideStartTime,{slideStartTime:0}),F.Le.setConfig(F.gI.IsInLookMiniModal,{isInMiniModal:!0}),()=>{F.Le.setConfig(F.gI.IsInLookMiniModal,{isInMiniModal:!1})}),[]),(0,n.useEffect)(()=>{let e=()=>{if(x){var l,t,i;null==s||s(V.current,null===(t=N.current)||void 0===t?void 0:null===(l=t.getCurTab)||void 0===l?void 0:l.call(t)),null===(i=R.current)||void 0===i||i.removeEventListener("animationend",e)}};if(x){var l,t;null==s||s(V.current,null===(t=N.current)||void 0===t?void 0:null===(l=t.getCurTab)||void 0===l?void 0:l.call(t))}let i=M.listen(M.EVENT.sendImUserMsg,()=>{var e,l;null==s||s(V.current,null===(l=N.current)||void 0===l?void 0:null===(e=l.getCurTab)||void 0===e?void 0:e.call(l))}),o=R.current;return o.addEventListener("animationend",e),()=>{o.removeEventListener("animationend",e),i()}},[k,L,x,s,_]),(0,b.o)(()=>{let e=e=>{if(e.shiftKey||e.metaKey||e.ctrlKey)return;let l=F.Le.getConfig(F.gI.DisableExit);if("Escape"===e.code&&(!k||C===p.lT.Modal)&&!L&&!_&&!l){var t,i;return e.preventDefault(),e.returnValue=!1,null==s||s("esc",null===(i=N.current)||void 0===i?void 0:null===(t=i.getCurTab)||void 0===t?void 0:t.call(i)),!1}};return ls.k.bind("Escape",e),()=>{ls.k.remove("Escape",e)}},[k,L,_,s]),(0,n.useEffect)(()=>{if(k)return T({}),()=>{D()}},[k]),(0,n.useEffect)(()=>{if(L)return T({}),()=>{D()}},[L]),(0,n.useEffect)(()=>{if(_)return T({}),()=>{D()}},[_]),(0,n.useEffect)(()=>{if(!m&&C!==p.lT.Modal){var e,l,t;M.emit(M.EVENT.pageFullScreen,{fullScreen:!0,playerId:null===(t=N.current)||void 0===t?void 0:null===(l=t.getPlayer)||void 0===l?void 0:null===(e=l.call(t))||void 0===e?void 0:e.playerId,clickMethod:"inner_player",fromAuthorCard:!0})}},[]),g)?null:(0,o.jsxs)(lh.T6,{onMaskClick:()=>{V.current="click_screen",E(!0)},className:d()(lm.default.screenMaskContainer),children:[(0,o.jsxs)("div",{className:lm.default.container,ref:A,onClick:j,children:[!_&&(0,o.jsx)(lf.N,{positionFixed:!0,exitTextProps:{getCurrentTab:()=>{var e,l;return(null==N?void 0:null===(l=N.current)||void 0===l?void 0:null===(e=l.getCurTab)||void 0===e?void 0:e.call(l))||c},modalEnterFrom:f,isSelf:S,uidEquals:(null==h?void 0:null===(l=h.authorInfo)||void 0===l?void 0:l.uid)===(null==I?void 0:null===(t=I.info)||void 0===t?void 0:t.uid)},onHandleReturn:()=>{var e,l;V.current="click_button",null==s||s(V.current,null===(l=N.current)||void 0===l?void 0:null===(e=l.getCurTab)||void 0===e?void 0:e.call(l))},clientHomeStyle:null==e?void 0:null===(a=e.abtestData)||void 0===a?void 0:a.clientHomeStyle}),(0,o.jsx)("div",{className:lm.default.videoContainer,ref:R,style:{height:"100%"},children:(0,o.jsx)(tr,(0,r._)((0,i._)({},e),{style:y,isUpperFeed:!0,isMultiInstanceScene:!1,className:lm.default.modalContainer,close:s,ref:N,swiper:null!==(u=null==e?void 0:e.swiper)&&void 0!==u?u:M.commonEvent,isRenderInSSR:!1}))})]}),C===p.lT.Search&&A.current&&(0,o.jsx)(lp.J,{EventListener:M.commonEvent,refContainerStatus:A.current})]})},ly=e=>{let l=(0,n.useRef)(document.createElement("div")),t=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=Array.from(document.querySelectorAll('.sliderVideo[data-e2e="feed-active-video"]')),i=e[e.length-1]||document.body,o=document.querySelector(".searchUpperFeedContainer")||i,n=document.getElementById("upperFeedContainer")||(0,lc.t)()||i,r=(0,lv.En)()?o:n;return null==r||r.appendChild(l.current),()=>{var e,i,o;(null===(e=l.current)||void 0===e?void 0:e.parentNode)&&(null===(o=l.current)||void 0===o||null===(i=o.remove)||void 0===i||i.call(o)),l.current=null,t.current=!0}},[]),(0,la.createPortal)((0,o.jsx)(lI,(0,r._)((0,i._)({},e),{close:function(){for(var i,o,n,r,a,d=arguments.length,u=Array(d),s=0;s<d;s++)u[s]=arguments[s];(null===(i=l.current)||void 0===i?void 0:i.parentNode)&&(null===(a=l.current)||void 0===a||a.remove()),null==e||null===(o=e.close)||void 0===o||o.call(e,...u),M.emit(null==M?void 0:null===(n=M.EVENT)||void 0===n?void 0:n.clarityRel,{exitInner:!0}),M.emit(null==M?void 0:null===(r=M.EVENT)||void 0===r?void 0:r.quitInnerFeed,!0),t.current=!0}})),l.current)};var lT=e=>((0,n.useEffect)(()=>()=>{},[]),(0,o.jsx)(ly,(0,i._)({},e))),lb=t("616831"),lk=t("697674"),lL=t("699233");let lS=(0,n.forwardRef)((e,l)=>(0,o.jsx)("svg",(0,r._)((0,i._)({width:32,height:48,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,o.jsxs)("g",{opacity:".18",children:[(0,o.jsx)("path",{d:"M0 24C0 10.745 10.745 0 24 0h8v48h-8C10.745 48 0 37.255 0 24z",fill:"#000"}),(0,o.jsx)("path",{d:"M24 .5h8.5v47H24C11.021 47.5.5 36.979.5 24S11.021.5 24 .5z",stroke:"#fff",strokeOpacity:".92"})]})}))),lx=(0,n.forwardRef)((e,l)=>(0,o.jsxs)("svg",(0,r._)((0,i._)({width:32,height:48,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,o.jsx)("g",{filter:"url(#arrow-left_svg__filter0_d_12_1532)",opacity:".18",children:(0,o.jsx)("path",{d:"M21.316 29.73a1.393 1.393 0 0 1-1.97 0l-5.056-5.055a1.393 1.393 0 0 1 0-1.97l.012-.011 5.044-5.045a1.393 1.393 0 0 1 1.97 1.97l-4.07 4.071 4.07 4.071a1.393 1.393 0 0 1 0 1.97z",fill:"#fff"})}),(0,o.jsx)("defs",{children:(0,o.jsxs)("filter",{id:"arrow-left_svg__filter0_d_12_1532",x:12.883,y:17.241,width:9.842,height:14.898,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:1}),(0,o.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,o.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_12_1532"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_12_1532",result:"shape"})]})})]}))),lE=(0,n.forwardRef)((e,l)=>(0,o.jsxs)("svg",(0,r._)((0,i._)({width:25,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,o.jsx)("g",{filter:"url(#related_svg__filter0_dd_2189_409)",fill:"#fff",shapeRendering:"crispEdges",children:(0,o.jsx)("path",{d:"M7.5 1.5a1.5 1.5 0 1 0 0 3H22a1.5 1.5 0 1 0 0-3H7.5zM7.5 15.5a1.5 1.5 0 0 0 0 3H22a1.5 1.5 0 1 0 0-3H7.5zM10.5 10A1.5 1.5 0 0 1 12 8.5h10a1.5 1.5 0 1 1 0 3H12a1.5 1.5 0 0 1-1.5-1.5zM7.223 6.518L2.624 9.584a.5.5 0 0 0 0 .832l4.599 3.066A.5.5 0 0 0 8 13.066V6.934a.5.5 0 0 0-.777-.416z"})}),(0,o.jsx)("defs",{children:(0,o.jsxs)("filter",{id:"related_svg__filter0_dd_2189_409",x:".901",y:0,width:24.099,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"-.5",dy:"-.5"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,o.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2189_409"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:".5",dy:".5"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"}),(0,o.jsx)("feBlend",{in2:"effect1_dropShadow_2189_409",result:"effect2_dropShadow_2189_409"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_2189_409",result:"shape"})]})})]}))),lP=e=>{let{onClick:l,className:t}=e;return(0,o.jsx)("div",{className:d()(lk.default.btn,lk.default.circleBtnContainer,t),children:(0,o.jsxs)("button",{className:d()(lk.default.circleBtn),onClick:l,type:"button",children:[(0,o.jsx)(lL.Z,{src:lS,width:32,height:48,viewBox:"0 0 32 48",className:lk.default.bg}),(0,o.jsx)(lL.Z,{src:lx,width:32,height:48,viewBox:"0 0 32 48",className:lk.default.arrow})]})})},lA=e=>{let{onClick:l,className:t,awemeInfo:i,isFullscreen:n}=e;return(0,o.jsx)("div",{className:d()(lk.default.btn,lk.default.rectangleBtnContainer,{[lk.default.firefox]:(0,H.vU)()&&(null==i?void 0:i.awemeType)===y.e.Normal&&!n},t),children:(0,o.jsx)("button",{className:d()(lk.default.rectangleBtn),onClick:l,type:"button",children:(0,o.jsx)(lL.Z,{className:d()(lk.default.bgSvg),src:lE,width:25,height:20,viewBox:"0 0 25 20"})})})},lR=e=>{let{type:l}=e;switch(l){case"circle":return(0,o.jsx)(lP,(0,i._)({},e));case"rectangle":return(0,o.jsx)(lA,(0,i._)({},e))}return(0,o.jsx)(o.Fragment,{})};var lM=t("852263");let lN=(0,n.forwardRef)((e,l)=>(0,o.jsxs)("svg",(0,r._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,o.jsx)("path",{d:"M7.978 8.5H14a4.5 4.5 0 0 1 4.5 4.5v0a4.5 4.5 0 0 1-4.5 4.5H7.5",stroke:"#222",strokeWidth:2,strokeLinecap:"round"}),(0,o.jsx)("path",{d:"M8.5 5.5l-3 3 3 3",stroke:"#222",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]})));var lV=t("574749");let lF=e=>{let{width:l=24,height:t=24,className:n}=e;return(0,o.jsx)(lV.A,(0,r._)((0,i._)({},e),{width:l,height:t,src:lN,id:"svg_icon_revoke",defaultWidth:24,defaultHeight:24,viewBox:"0 0 24 24",className:n}))},lj=e=>{let{onRevokeDislike:l,isActive:t=!1}=e;return(0,n.useEffect)(()=>{t&&Y.Z.sendLog("dislikeRecallShow")},[t]),(0,o.jsxs)("div",{className:lM.default.dislikePanel,children:[(0,o.jsx)("span",{className:lM.default.text,children:"你已对该视频不感兴趣"}),(0,o.jsxs)("div",{className:lM.default.revokeBtn,onClick:()=>{null==l||l(),Y.Z.sendLog("dislikeRecallClick")},children:[(0,o.jsx)(lF,{className:lM.default.revokeIcon}),(0,o.jsx)("span",{className:lM.default.revokeText,children:"撤销"})]})]})};var lD=t("529713"),lB=t("575521"),lH=t("797210");let lW=J.F.info.bind(J.F),lO=e=>{let{awemeInfo:l,reportExtraParams:t,onDislikeSuccess:o,onDislikeError:r,initIsDislike:a,toast:d=lW,onRevokeDislikeSuccess:u,player:s}=e,[c,v]=(0,n.useState)(null!=a&&a);(0,n.useLayoutEffect)(()=>{void 0!==a&&v(a)},[a]);let m=(0,n.useRef)(),f=(0,ex.Z)(async function(){var e,n,a,u;let{clickMethod:c,reportExtraParams:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clickMethod:"icon"};if((0,C.Jt)(l)){null==s||s.emit(lH.B.AdDislike,{onAddDislikeSuccess:()=>{null==o||o(),m.current=setTimeout(()=>{v(!0)},2500)}});return}let{statusCode:h,errMsg:p}=await (0,lB.w)(null==l?void 0:l.awemeId),g=(null===(e=F.Le.getConfig(F.gI.WallPaperIds))||void 0===e?void 0:e.includes(null==l?void 0:l.awemeId))?1:0;0===h?(null==d||d("操作成功，将减少此类视频出现"),_.i.sendLog("dislike",(0,i._)({urlParamList:["previous_page"],enter_from:(0,R.mo)(),author_id:null==l?void 0:null===(n=l.authorInfo)||void 0===n?void 0:n.uid,group_id:null==l?void 0:l.awemeId,log_pb:null==l?void 0:l.logPb,is_full_screen:(0,j.r)()?"1":"0",tab_name:T.getTabName()||(0,eB.Rs)("tab_name")||"",click_method:c,from_follow_list:(null===(a=F.Le.getConfig(F.gI.FromFollowList))||void 0===a?void 0:a.tag)?"1":"0",aweme_type:null==l?void 0:l.awemeType,is_insert_wallpaper:g,item_duration_ms:(null==l?void 0:null===(u=l.video)||void 0===u?void 0:u.duration)||0},f,t)),null==o||o(),m.current=setTimeout(()=>{v(!0)},2500)):(null==d||d(p),null==r||r(p)),g&&(0,lu.qQ)(ld.LocalStorageKeys.WallPaper,{disappear:!0})}),h=(0,ex.Z)(async()=>{let{statusCode:e}=await (0,lB.m)(null==l?void 0:l.awemeId);0===e&&(v(!1),null==u||u())});return(0,n.useEffect)(()=>()=>{clearTimeout(m.current)},[]),{dislike:f,revokeDislike:h,isDislike:c}},lU=e=>{var l,t;let i=(0,lu.$o)(ld.LocalStorageKeys.DislikeAwemeCount);return i?e?null!==(t=i[e])&&void 0!==t?t:0:null!==(l=i.count)&&void 0!==l?l:0:0},lq=e=>3>lU(e),lZ=e=>{let l=lU(e),t=(0,lu.$o)(ld.LocalStorageKeys.DislikeAwemeCount)||{};if(!e){(0,lu.qQ)(ld.LocalStorageKeys.DislikeAwemeCount,(0,r._)((0,i._)({},t),{count:l+1}));return}(0,lu.qQ)(ld.LocalStorageKeys.DislikeAwemeCount,(0,r._)((0,i._)({},t),{[e]:l+1}))},lz=e=>{let{abtestData:l,scene:t,isModal:i,awemeInfo:o,dislikeIdList:n=new Set,deleteCurrentSwiper:r,videoToast:a,uuid:d,player:u}=e,{permanentDislikeBtn:s=L.PermanentDislikeBtn.Off}=l,c=t===p.lT.Recommend&&!i,v=(0,C.Jt)(o),m=c&&s===L.PermanentDislikeBtn.On||c&&s===L.PermanentDislikeBtn.AvoidAd&&!v,{isDislike:f,dislike:h,revokeDislike:_}=lO({awemeInfo:o,toast:e=>{if(c&&s!==L.PermanentDislikeBtn.Off&&lq(d)){a("操作成功，划回可撤销不感兴趣"),lZ(d);return}a(e)},onDislikeSuccess:()=>{null==r||r(),(null==o?void 0:o.awemeId)&&m&&n.add(o.awemeId)},initIsDislike:n.has(o.awemeId),onRevokeDislikeSuccess:()=>{(null==o?void 0:o.awemeId)&&m&&n.delete(o.awemeId)},player:u}),g=f&&c&&s!==L.PermanentDislikeBtn.Off;return{isDislikePanelVisible:g,dislike:h,revokeDislike:_,isPermanentDislikeBtn:m,disableShortCut:g,isAdapterMiniHeightWithDislikeBtn:[L.PermanentDislikeBtn.On,L.PermanentDislikeBtn.AvoidAd].includes(s)&&c}};var lK=t("799506"),l$=t("296071"),lG=t("678808"),lX=t("913046"),lY=t("891971");let lJ=e=>{let{userInfo:l,abtestData:t,awemeInfo:i}=e,r=[L.ClientHomeStyle.V1,L.ClientHomeStyle.V2,L.ClientHomeStyle.V3].includes(null==t?void 0:t.clientHomeStyle),{handleHiddenLog:a}=(0,lX.s)();return(0,n.useEffect)(()=>{M.emit(M.EVENT.postCurVideoInfo,{awemeId:null==i?void 0:i.awemeId,groupId:null==i?void 0:i.groupId,scene:p.lT.InnerUpper,suggestWords:null==i?void 0:i.suggestWords})},[i]),(0,o.jsx)("div",{className:d()(l$.default.searchCt,"isDark",r&&l$.default.searchCtNew),children:(0,o.jsx)(lG.default,{customProps:{isInnerUpper:!0},userInfo:l,abTestData:t,onSearchClick:e=>a(e),onHistoryClick:e=>{let{text:l}=e.currentTarget.dataset;return a(l)},onInputKeyDown:(e,l)=>{if("Enter"===(0,lK.CS)(e))return a(l)},playerProps:{awemeInfo:i,scene:p.lT.InnerUpper}})})},lQ=e=>{let[l,t]=(0,n.useState)(!0);return((0,lY.kO)({callback(){t(!0)},useIdleCallback:!(0,H.b_)(),isActive:!0,timeout:1e3,immediately:!(0,H.b_)()}),l)?(0,o.jsx)(lJ,(0,i._)({},e)):null};var l0=t("367503"),l1=t("354795");let l2=new l1.h({prf_slider_modal_video:{eventName:"prf_slider_modal_video",params:{fps:0,duration:0,scene:"",jank:0,jank_duration:0,bjank:0,bjank_duration:0,tab:""}}}),l5=1e3/24*2,l3=1e3/24*3,l4=()=>{var e,l;return(null===(l=performance)||void 0===l?void 0:null===(e=l.now)||void 0===e?void 0:e.call(l))||Date.now()||0},l7=function(){};var l8=t("374999");let l9=e=>{let{sidebarHidden:l,chapterSidebarHidden:t,bottomLevelSidebar:i,setBottomLevelSidebar:o,topLevelSidebar:r,setTopLevelSidebar:a}=e;return(0,n.useEffect)(()=>{if(l&&t){o(void 0),a(void 0);return}l||t?(a(void 0),o(l?"chapterSidebar":"sidebar")):a("sidebar"===i?"chapterSidebar":"sidebar")},[l,t]),{isTopLevelSidebar:"sidebar"===r,isTopLevelChapterSidebar:"chapterSidebar"===r,isBottomLevelSidebar:"sidebar"===i,isBottomLevelChapterSidebar:"chapterSidebar"===i}},l6=(0,u.ZP)(()=>Promise.all([t.e("4792"),t.e("9448"),t.e("8525"),t.e("3515"),t.e("6070")]).then(t.bind(t,77757)),{ssr:!1}),te=(0,u.ZP)(()=>Promise.all([t.e("9949"),t.e("701"),t.e("5605"),t.e("3062")]).then(t.bind(t,186085)),{ssr:!1}),tl=(0,u.ZP)(()=>t.e("5739").then(t.bind(t,732186)),{ssr:!1}),tt=(0,u.ZP)(()=>t.e("5965").then(t.bind(t,436878)),{ssr:!1}),ti=(0,u.ZP)(()=>t.e("188").then(t.bind(t,918898)),{ssr:!1,resolveComponent:e=>e.SearchPlayerSideCard}),to=(0,u.ZP)(()=>t.e("5520").then(t.bind(t,883252)),{ssr:!1}),tn=(0,u.ZP)(()=>t.e("1021").then(t.bind(t,940214)),{ssr:!1}),tr=(0,n.forwardRef)(function(e,l){var t,a,u,s,eo,er,ea,ed,eu,es,ev,eh,ep,e_,eg,eC,ew,ey,eT,eb,ek,eL,ex,eF,ej,eD,eB,eW,eq,eZ,ez,eK,e$,e0,e4,e7,e8,e6,le,lo,ln,la;let{item:ld,playPrevFunc:lu,playNextFunc:ls,deleteCurrentSwiper:lc,fullScreenTarget:lv,isActive:lm,isNext:lf,swiper:lh,children:lp,customProps:l_,isLast:lg,handleNextOnLast:lC,slideListInsideFunc:lw,InnerPlayer:lI,className:ly,isShowGuide:lk,isClientMiniWin:lL,style:lS,close:lx,hotDefaultList:lE,mixDefault:lP,seriesDefault:lA,relatedDefault:lM,currentAwemeInfo:lN,onAwemeInfoChange:lV,clickedCard:lF,moreBoxShowList:lB,getCurrentTime:lH,modalInnerFeedCard:lW,modalEnterFrom:lO,defaultCommentShow:lU,startTime:lq,splashAdStatus:lZ,changeSplashAdStatus:lK,isSplashTransitionEnd:l$,isFirst:lG,needStaticContainer:lX,searchSideCardProps:lY,onSearchTextClick:lJ,searchListType:l1,hideSidebarSwitch:tr,searchFrom:ta,isRenderInSSR:td,isDyPlayer:tu=!1,modalInnerPlayer:ts}=e,{abtestData:tc={},tab:tv,userContext:tm,logParams:tf}=l_||{},th=(0,n.useRef)(0),tp=(0,n.useMemo)(()=>({Feed:[p.lT.Recommend,p.lT.Follow,p.lT.Friend,p.lT.Topic],Whole:[p.lT.Recommend,p.lT.Follow,p.lT.Friend,p.lT.Topic,p.lT.Modal]}),[]),t_=(0,n.useMemo)(()=>tp.Whole.includes(tv),[tv,tp]),tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inner_player",l=arguments.length>1?arguments[1]:void 0;if(!t_&&tZ)return null==lx?void 0:lx(e,l);Y.Z.sendLog("closePlayer",{click_method:e,enter_from:l});let t=e;"click_screen"===e&&(t="click_blank"),_.i.sendLog("closeVideoCard",{enter_method:t,type:l,enter_from_merge:(0,R.vM)()}),tW.dispatch("modalAwemeInfo",null),!t6.current&&M.emit(M.EVENT.pageFullScreen,{fullScreen:!1,playerId:null==tB?void 0:tB.playerId,oldFullScreen:!0,clickMethod:"inner_player"}),lW&&setTimeout(()=>{null==lx||lx()})},tC=(0,n.useRef)(null),tw=(0,n.useRef)(),{userInfo:tI,dispatch:ty}=tm||{},{isLogin:tT}=tI||{},{globalIsSideBarShow:tb,setIsSideBarShowFunc:tk,isFullScreen:tL,isCssFullScreen:tS,setTargetVideoRef:tx=()=>{},slideVideoTab:tE,setSlideVideoTab:tP,videoToast:tA=e=>J.F.info(e,tC.current),dislikeIdList:tR,globalIsCommentTrayPushGuideShow:tM,globalCommentTrayPushGuideType:tN,setCommentTrayPushGuideTypeFunc:tV,setIsCommentTrayPushGuideShowFunc:tF}=(0,n.useContext)(q.C),[tj,tD]=(0,n.useState)(!0),[tB,tH]=(0,n.useState)(null),{awemeFeed:tW,metaCtxId:tO}=(0,em.j)(),[tU,tq]=(0,n.useState)(null);(0,n.useEffect)(()=>{var e;if((null==tc?!void 0:null===(e=tc.authorOptimize)||void 0===e?!void 0:!e.render)||!!lm)return tW.subscribe("modalAwemeInfo",e=>{tq(e)})},[lm,tc]);let tZ=e.isUpperFeed||!!(t_&&tU),{pathname:tz}=(0,f.a)(),tK=(0,n.useRef)(tz),t$=(0,n.useRef)(tz);!(0,N.Nr)(tz)&&(t$.current=tz);let[tG,tX]=(0,n.useState)(!1),[tY,tJ]=(0,n.useState)(g.L.Author),[tQ,t0]=(0,n.useState)(!1),[t1,t2]=(0,n.useState)(),[t5,t3]=(0,n.useState)(),t4=tk||tX,t7=tP?tE:g.L.AbstractList,t8=tP||tJ,t9=(0,V.x)(),t6=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(tB&&lm&&tZ&&t_){!tB.fullscreen&&M.emit(M.EVENT.pageFullScreen,{clickMethod:"inner_feed",fullScreen:!0,playerId:tB.playerId});let e=e=>{M.emit(M.EVENT.pageFullScreen,{clickMethod:"inner_feed",fullScreen:!e,playerId:tB.playerId})};return null==tB||tB.on(h.FULLSCREEN_CHANGE,e),()=>{null==tB||tB.off(h.FULLSCREEN_CHANGE,e),M.emit(M.EVENT.pageFullScreen,{clickMethod:"inner_feed",fullScreen:!1,playerId:tB.playerId})}}},[tZ,t_]);let ie=(0,n.useRef)(!1),il=(0,n.useRef)(!1),it=(0,n.useRef)(!1),ii=(0,n.useRef)(null),io=(0,n.useRef)(null),ir=(0,n.useRef)(null),ia=(0,n.useRef)(null),id=(0,n.useRef)(null),iu=(0,n.useRef)(),is=(0,n.useRef)(null),ic=(0,n.useMemo)(()=>"string"==typeof ta&&ta.startsWith("video_abstract"),[ta]),iv=tZ?tj:(!(0,C.Jt)(ld)||t7===g.L.Comment)&&(tk?tb:tG),im=(0,n.useCallback)(J.F.infoInModalVideo.bind(J.F),[]),ih=tZ||tv===p.lT.Modal?im:tA;(0,n.useEffect)(()=>{if(!t_)return;let e=tW.subscribe("modalAwemeInfo",e=>{tW.dispatch("innerFeedAwemeInfo",e);let l=document.querySelector('[data-e2e="recommend-guide-mask"]');l&&e&&M.emit(M.EVENT.RecommendGuideClose),l=null,!lW&&e&&tB.isActive&&tB.paused&&tB.play()});return()=>{e()}},[t_,tB,lW]);let{changeNextVideo:ip,changePrevVideo:i_,awemeInfo:ig,updateAwemeInfo:iC,prevAwemeInfo:iw,nextAwemeInfo:iI,isInnerFeed:iy,enterFrom:iT,updateLogParams:ib}=ef({abtestData:tc,player:tB,originAwemeInfo:(null==tc?void 0:null===(t=tc.authorOptimize)||void 0===t?void 0:t.render)?lm&&(t_&&tU||lN)||ld:t_&&tU||lN||ld,isActive:lm,isLast:lg,toast:ih,modalEnterFrom:lO,handleNextOnLast:lC,handleOuterPlayNext:ls,handleOuterPlayPrev:lu,isInnerFeedCondition:tZ,scene:tv});(0,n.useEffect)(()=>{null==lV||lV(ig)},[ig]),(0,n.useEffect)(()=>{let e=tW.getValue("activeIndex");return tW.subscribe("activeIndex",l=>{t_&&tW.getValue("modalAwemeInfo")&&(l>e?ip():l<e&&i_(),e=l)})},[ip,i_]),(0,n.useEffect)(()=>{if(tU&&lm)return t_&&(tD(!0),tB&&(th.current=tB.currentTime,tU.awemeId===ig.awemeId&&setTimeout(()=>{null==tB||tB.emit("enter_inner_feed")}))),()=>{var e,t,i,o;t_&&(null==tB||tB.emit("exit_inner_feed",ig.awemeId),(null===(o=l.current)||void 0===o?void 0:null===(i=o.getCurrAweme)||void 0===i?void 0:null===(t=i.call(o))||void 0===t?void 0:t.awemeId)===ig.awemeId&&(th.current=0)),M.emit(null==M?void 0:null===(e=M.EVENT)||void 0===e?void 0:e.quitInnerFeed,!0)}},[!tU,t_]);let ik=(0,n.useMemo)(()=>!(0,C.pb)(ig)||lZ===w.QB.Fullscreen||lZ===w.QB.Normal,[ig,lZ,l$]);(0,I.u)(te);let{showRelatedTabList:iL,relatedBlockedByRecommendScore:iS}=eI({awemeInfo:ig,currentVideoFeedRef:ii,lastVideoFeedAwemeRef:io,outFeedItem:ld,scene:tv,modalEnterFrom:lO,abtestData:tc,isInnerFeed:iy}),{defaultCard:ix,videoTag:iE}=eS({abtestData:tc,isActive:lm,awemeInfo:ig,showRelatedTabList:iL,clickedCard:null!=lF?lF:t7===g.L.Comment?g.L.Comment:void 0,useCTR:tv===p.lT.Recommend,scene:tv}),iP=(0,n.useMemo)(()=>ic?g.L.AbstractList:(null==ig?void 0:ig.awemeType)!==y.e.XgVideo||[g.L.CollectFolder].includes(ix)?ix:g.L.Comment,[ix,ig,t7,ic]),{stopAutoPlay:iA}=eE({isShow:iv||tQ||il.current,player:tB,isActive:lm,awemeInfo:ig,abtestData:tc}),{curTab:iR,curVideoFeed:iM,changeTab:iN,lastVideoFeedAweme:iV}=eP.nW({defaultTab:iP,isActive:lm,stopAutoPlay:iA,awemeInfo:ig,abtestData:tc,showSideCard:iv});ii.current=iM,io.current=iV,eA({originAwemeInfo:ld,awemeInfo:ig}),eR({awemeInfo:ig,curTab:iR,isActive:lm,abtestData:tc,isUpperFeed:tZ,modalAwemeInfo:tU});let{handleAuthorVideoChange:iF,handleOtherVideoChange:ij}=eM({onChangeAwemeInfo:e=>{tZ?iC(e):(null==e?void 0:e.inComingAwemeInfo)&&tW.dispatch("modalAwemeInfo",e.inComingAwemeInfo),(null==e?void 0:e.card)&&iN({tab:e.card})}}),{globalCommentCount:iD,updateGlobalCommentCount:iB,fetchComment:iH}=eN.x({awemeInfo:ig});eV.U({isModal:tZ,awemeInfo:ig,isActive:lm,fetchComment:iH,player:tB,showSideCard:iv,commentpreloadAbStatus:null==tc?void 0:tc.commentAiPreloadStatus,adCommentpreloadAbStatus:null==tc?void 0:tc.adCommentAiPreloadStatus,scene:tv,abUseSimpleNN:null==tc?void 0:tc.useSimpleNN,abVid:null==tc?void 0:tc.commentAiVid});let{reportParams:iW}=eO({originAwemeInfo:ld,awemeInfo:ig,logParams:tf,curCard:iR,expandCard:iv?iR:"",isSideBarShow:iv,isInnerFeedCondition:tZ,searchSideCardProps:lY,modalEnterFrom:lO}),{hasRelatedCardShown:iO}=eU({isActive:lm,player:tB,showSideCard:iv});(0,n.useEffect)(()=>{ib({logParams:iW})},[iW]);let iU=(0,n.useCallback)(e=>{let l="chapterSidebar"===e;t2(l?"sidebar":"chapterSidebar"),t3(l?"chapterSidebar":"sidebar")},[]),iq=(0,n.useCallback)(e=>{var l,t;let{tab:i,clickMethod:o="",awemeInfo:n=ig,isFromUserPersonalPannel:r=!1}=e;i$();let a="chapterSidebar"===t5;if(a&&iU("sidebar"),i!==g.L.Comment){if(tZ){if(i===iR&&!a)return tg()}else{t8(i),iN({tab:i}),tW.dispatch({modalAwemeInfo:n,nextAwemeInfo:null,prevAwemeInfo:null}),_.i.sendLog("enterVideoCardTab",{from_group_id:null==n?void 0:n.awemeId,type:i,enter_method:o,enter_from_merge:(0,R.vM)(),enter_from:null!==(l=null==tf?void 0:tf.enter_from)&&void 0!==l?l:(0,R.mo)(),tab_name:(null==tf?void 0:tf.tab_name)||T.getTabName(),module_name:null==tf?void 0:tf.module_name});return}}iv&&i===iR&&!a?(ol(!1,{from:o}),_.i.sendLog("closeVideoCard",{type:i,enter_method:o,enter_from_merge:(0,R.vM)()})):(iN({tab:i}),t8(i),ol(!0,{from:o}),_.i.sendLog("enterVideoCardTab",{from_group_id:null==n?void 0:n.awemeId,type:i,enter_method:o,enter_from_merge:(0,R.vM)(),enter_from:null!==(t=null==tf?void 0:tf.enter_from)&&void 0!==t?t:(0,R.mo)(),tab_name:(null==tf?void 0:tf.tab_name)||T.getTabName(),module_name:null==tf?void 0:tf.module_name}))},[iv,ig,tZ,iR,lx,tc,tS,t5,iU]);(0,b.o)(()=>M.listen(M.EVENT.OpenRelatedCard,e=>{(null==e?void 0:e.isFromClientSync)&&iq(e)}),[tc]),(0,b.o)(()=>{let e=M.listen(M.EVENT.CloseRelatedCard,e=>{tg(null==e?void 0:e.from,null==e?void 0:e.enterFrom)});return()=>{null==e||e()}},[]),(0,n.useEffect)(()=>{if(!tZ&&lm&&lW){let e;let l="auto";"mix"===lW?e=g.L.Mix:"author_card"===lW?(e=g.L.Author,lO===k.ModalEnterFromVal.FollowAuthorModal&&(l="click_follow_head_show")):"series"===lW?e=g.L.Series:"collect_folder"===lW&&(e=g.L.CollectFolder),e&&setTimeout(()=>{iq({tab:e,clickMethod:l})})}},[tZ,lW,iq,lO]),(0,n.useEffect)(()=>{if(tB&&tU&&!t_&&lm&&!tZ){let e=tB.playerId;if((0,K.OB)()===e||!tB.paused)return(0,K.wS)(e,!1),tB.pause(),()=>{(0,K.wS)(e,!0),setTimeout(()=>{tB.play()})}}},[tB,tU,lm,t_,tZ]),(0,n.useEffect)(()=>{if(lm){let e=iv&&iR===g.L.Comment;F.Le.setConfig(F.gI.IsCommetTab,e)}},[lm,iv,iR]);let{closeAdCard:iZ,isShowAdCard:iz,isAdAweme:iK}=eG({awemeInfo:ig,userInfo:tI,isActive:lm,abtestData:tc,toast:ih,isFirst:lG,isUpperFeed:tZ,changeSplashAdStatus:lK}),{closeAiSearchCard:i$,isShowAiSearchCard:iG,word:iX,renderAiSearchSideCard:iY}=eX({awemeInfo:ig,isActive:lm,onOpenCard:()=>{iz&&iZ(),iQ&&i0(),!oM&&oa()},abtestData:tc,toast:ih,isLogin:tT,accountParentEl:(0,j.r)()&&lv,onLoginSuccess:()=>{"recommend"===(0,R.yW)()&&(null==tc?void 0:tc.recommendLoginResume)===L.RecommendLoginResume.V2?M.emit(M.EVENT.RecommendLoginResume):null==ty||ty({type:"updateUserInfo"})}}),{openShopDetailCard:iJ,isShowShopDetailSideCard:iQ,closeShopDetailCard:i0,isFirstLoad:i1,isAutoOpen:i2}=eY.Y({awemeInfo:ig,isActive:lm,onOpenCard:()=>{iz&&iZ(),i$()},isLogin:tT,accountParentEl:(0,j.r)()&&lv,onLoginSuccess:()=>{"recommend"===(0,R.yW)()&&(null==tc?void 0:tc.recommendLoginResume)===L.RecommendLoginResume.V2?M.emit(M.EVENT.RecommendLoginResume):null==ty||ty({type:"updateUserInfo"})},onCloseCard:()=>{it.current=!0},abtestData:tc,toast:ih}),{isShowVideoInfoSideCard:i5,closeVideoInfoSideCard:i3}=eJ({awemeInfo:ig,isActive:lm,abtestData:tc,isInnerFeed:iy,onOpenCard:()=>{iz&&iZ(),iQ&&i0(),!oM&&od(!1),iG&&i$(),iv&&ol(!1)}});(0,m.Z)(()=>{iz&&(i$(),i3())},[iz]),(0,m.Z)(()=>{iG&&(null==i3||i3())},[iG]),(0,m.Z)(()=>{i$(),i3()},[null==ig?void 0:ig.awemeId]);let i4=(0,n.useMemo)(()=>(0,S.o4)(ig),[ig]),i7=i4?(0,S.ZO)({rawAdData:(0,C.Rx)(ig)}):{},i8=i4?{promotion_id:i7.promotion_id,product_id:i7.product_id,shop_info:{author_id:null==ig?void 0:null===(a=ig.authorInfo)||void 0===a?void 0:a.uid}}:(null==ig?void 0:null===(s=ig.anchorInfo)||void 0===s?void 0:null===(u=s.extra)||void 0===u?void 0:u[0])||{},{sendPrefetch:i9,cancelPrefetch:i6}=(0,x._t)(()=>{var e;return(0,E.L)({promotionId:null==i8?void 0:i8.promotion_id,originType:638302,secAuthorId:null==ig?void 0:null===(e=ig.authorInfo)||void 0===e?void 0:e.secUid,roomId:"",itemId:null==ig?void 0:ig.awemeId})}),oe=(0,n.useCallback)(e=>{let{clickMethod:l}=e||{};return("hot_key"===l||"click_icon"===l)&&iv&&iR===g.L.Comment&&(iQ||iz||iG||i5)?(!ie.current&&(ie.current=!0,M.emit(M.EVENT.videoStopPlayNext,{openSideCard:!0})),i0(),iZ(),i$(),i3(),!0):(iq({tab:g.L.Comment,clickMethod:l||"click_icon"}),(!iv||iR!==g.L.Comment)&&(!!iv&&iR!==g.L.Comment||!0))},[iv,iq,iR,iQ,iz,iG,i5]);(0,m.Z)(()=>{il.current=iQ},[iQ]);let ol=(e,l)=>{let{from:t}=l||{};!ie.current&&e&&"auto"!==t&&(ie.current=!0,M.emit(M.EVENT.videoStopPlayNext,{openSideCard:!0})),ie.current&&!e&&(ie.current=!1,M.emit(M.EVENT.videoRemoveStopPlayNext,{openSideCard:!0})),tZ?(tD(e),e&&!iv&&(i0(),i$(),i3())):(null==t4||t4(e),e&&(iZ(),i$(),i0(),i3(),(0,ec.nJ)(ec.mM.COMMENT_BTN_CLICKED)))},{openSpecificTab:ot}=eQ({showSideCard:iv,isActive:lm,originAwemeInfo:ld,showRelatedTabList:iL,slideVideoTab:t7,abtestData:tc,changeTab:iN,isUpperFeed:tZ,defaultLandingTab:(0,n.useMemo)(()=>ic?g.L.AbstractList:lU?g.L.Comment:void 0,[lU,ic]),handleShowSidebar:ol,logParams:tf,searchFrom:ta}),{hotData:oi}=e1({awemeInfo:ig,slideOptimize:null==tc?void 0:tc.slideOptimize}),oo=e2({isActive:lm,isNext:lf,player:tB,showSideCard:iv,abtestData:tc}),{chapterProgress:on,chapterSliderShow:or,triggerChapterSliderShow:oa,setChapterSliderShow:od}=Q({player:tB,awemeInfo:ig,abTestData:tc,chapterScrollElRef:ia,topLevelSidebar:t5,activateCard:iU,resetClosingShopRef:()=>{it.current=!1},isActive:lm,isInnerFeed:iy}),{onAvatarClick:ou,onRelatedClick:os,videoInfoTags:oc}=e5({videoTag:iE,scene:tv,reportParams:iW,originAwemeInfo:ld,isInnerFeed:iy,player:tB,awemeInfo:ig,canShowMixCard:!0,canShowSeriesCard:!0,canShowRelatedCard:!0,canShowRelatedSearchFeedBar:!0,canShowChapterFeedbar:!0,updateVideoInfo:iC,curCard:iR,toast:ih,showRelatedTabList:iL,handleAvatarClick:e=>{let{clickMethod:l,awemeInfo:t}=e||{};iq({tab:g.L.Author,clickMethod:l||"click_icon",awemeInfo:t})},handleMixClick:e=>{let{clickMethod:l,awemeInfo:t}=e||{};iq({tab:g.L.Mix,clickMethod:null!=l?l:"click_feed_bar",awemeInfo:t})},handleSeriesClick:e=>{let{clickMethod:l,awemeInfo:t}=e||{};iq({tab:g.L.Series,clickMethod:null!=l?l:"click_feed_bar",awemeInfo:t})},handleHotClick:()=>{iq({tab:g.L.Hot,clickMethod:"click_feed_bar"})},handleRelatedClick:e=>{iq({tab:g.L.Related,clickMethod:(null==e?void 0:e.clickMethod)||"click_feed_bar",awemeInfo:null==e?void 0:e.awemeInfo})},isShowSideBar:iz||iG||iv||iQ||i5,abtestData:tc,chapterProgress:on,triggerChapterSliderShow:()=>{i$(),i3(),oa()}}),{inImmersive:ov}=(0,lb.O)({player:tB,isActive:lm,slideOptimize:null==tc?void 0:tc.slideOptimize}),{follow:om,unFollow:of}=(0,ee.OM)({selfUid:null==tI?void 0:null===(eo=tI.info)||void 0===eo?void 0:eo.uid,actionUid:null==ig?void 0:null===(er=ig.authorInfo)||void 0===er?void 0:er.uid,defaultFollowerStatus:null==ig?void 0:null===(ea=ig.authorInfo)||void 0===ea?void 0:ea.followerStatus,defaultFollowStatus:null==ig?void 0:null===(ed=ig.authorInfo)||void 0===ed?void 0:ed.followStatus,logExtraParams:(0,i._)({author_id:null==ig?void 0:null===(eu=ig.authorInfo)||void 0===eu?void 0:eu.uid,group_id:null==ig?void 0:ig.awemeId,from_group_id:null==ld?void 0:ld.awemeId,music_id:null==ig?void 0:null===(es=ig.music)||void 0===es?void 0:es.mid,compilation_id:null==ig?void 0:null===(ev=ig.mixInfo)||void 0===ev?void 0:ev.mixId,aweme_type:(null==ig?void 0:ig.isSlides)?y.e.Slides:null==ig?void 0:ig.awemeType,pic_cnt:null!==(le=null==ig?void 0:null===(eh=ig.images)||void 0===eh?void 0:eh.length)&&void 0!==le?le:0,is_pure:ov?"1":"0",to_user_id:null==ig?void 0:null===(ep=ig.authorInfo)||void 0===ep?void 0:ep.uid,item_duration_ms:(null==ig?void 0:null===(e_=ig.video)||void 0===e_?void 0:e_.duration)||0},iW),isLogin:tT,accountParentEl:(0,j.r)()&&lv,onLoginSuccess:()=>{"recommend"===(0,R.yW)()&&(null==tc?void 0:tc.recommendLoginResume)===L.RecommendLoginResume.V2?M.emit(M.EVENT.RecommendLoginResume):null==ty||ty({type:"updateUserInfo"})}}),{followStatus:oh}=(0,el.r)({selfUid:null==tI?void 0:null===(eg=tI.info)||void 0===eg?void 0:eg.uid,actionUid:null==ig?void 0:null===(eC=ig.authorInfo)||void 0===eC?void 0:eC.uid,defaultFollowerStatus:null==ig?void 0:null===(ew=ig.authorInfo)||void 0===ew?void 0:ew.followerStatus,defaultFollowStatus:null==ig?void 0:null===(ey=ig.authorInfo)||void 0===ey?void 0:ey.followStatus});e3({scene:tv,isOuter:!tZ,isActive:lm,player:tB});let{isMiniWin:op}=e9({scene:tv,awemeInfo:ig,scrollElRef:ir,changeNextVideo:ip,changePrevVideo:i_,isUpperFeed:tZ,swiper:lh,isActive:lm&&!tU||tZ,feedCssFullScreen:tS,player:tB,modalEnterFrom:lO,onFullScreen:e=>{e&&ol(iy,{from:"auto"}),tZ&&!t_&&!e&&M.emit(M.EVENT.pageFullScreen,{fullScreen:!0,playerId:null==tB?void 0:tB.playerId,clickMethod:"inner_player"})},onCssFullScreen:e=>{e&&ol(iy,{from:"auto"}),tZ&&!e&&!(tL||(0,j.r)())&&tg()},onFullScreenrestore:()=>{ol(iy,{from:"auto"})},onTriggerModalPlayerClose:()=>{tZ&&tg("click_button",iR)},onCanPlay:()=>{let e=()=>{tB.seek(lq,"play"),F.Le.setConfig(F.gI.PreviewPlayInfoRecord,{awemeId:"",recordPlayTime:0})};if(tZ){let l=null==lH?void 0:lH();l&&tB.seek(l,"play"),lW&&e()}else if(th.current)tB.seek(th.current,"play"),th.current=0;else if(lq)e();else{let{continationInfo:e}=ig;(null==e?void 0:e.playProgress)&&(tB.seek(null==e?void 0:e.playProgress,"play"),delete e.playProgress)}},onPlay:()=>{!tZ&&tW.getValue("modalAwemeInfo")&&!t_&&setTimeout(()=>{var e;return null===(e=tB.pause)||void 0===e?void 0:e.call(tB)})},onVideoTitleClick:()=>{var e,l;iq({tab:g.L.Author,clickMethod:"click_title"}),Y.Z.sendLog("clickAuthorHead",(0,i._)((0,r._)((0,i._)({click_from:"title",urlParamList:["previous_page"],author_id:null==ig?void 0:null===(e=ig.authorInfo)||void 0===e?void 0:e.uid,group_id:null==ig?void 0:ig.awemeId,log_pb:null==ig?void 0:ig.logPb,enter_from:(0,R.mo)(),is_full_screen:(0,j.r)()?"1":"0",from_follow_list:(null===(l=F.Le.getConfig(F.gI.FromFollowList))||void 0===l?void 0:l.tag)?"1":"0"},iW),{action:iv?"close":"open"}),(0,D.t)()))}});ll({scene:tv,awemeInfo:ig,isActive:lm,isNext:lf,isUpperFeed:tZ,modalEnterFrom:lO,smoothInner:t_&&iy});let{authorConfig:o_,commentConfig:og}=lt.B({awemeInfo:ig,customProps:l_,reportParams:iW,fullScreenTarget:lv,tab:iR,showSideCard:iv,isShowRelatedCard:iv,player:tB,scrollElRef:ir,followStatus:oh,handleCommentClick:e=>oe(e),isActive:lm,isUpperFeed:tZ,globalIsCommentTrayPushGuideShow:tM,globalCommentTrayPushGuideType:tN,setCommentTrayPushGuideTypeFunc:tV,setIsCommentTrayPushGuideShowFunc:tF,onSearchTextClick:lJ,scene:tv});li({isActive:lm,isUpperFeed:tZ,modalAwemeInfo:tU,showSideCard:iv,isShowAdCard:iz,isShowAiSearchCard:iG,isShowShopDetailSideCard:iQ,abtestData:tc,scene:tv,isShowVideoInfoSideCard:i5}),(0,n.useImperativeHandle)(l,()=>({getPlayer:()=>tB,setIsAuthorCardShow:ol,setIsShowRelatedCard:ol,getCurTab:()=>iR,getCurrAweme:()=>ig,player:tB}),[lm,iR,tB,ig]);let{onCooperationAvatarClick:oC,isInCooperation:ow,changeIsInCooperation:oI}=lr({curTab:iR,awemeInfo:ig,handleChangeVideo:e=>{iC({inComingAwemeInfo:e})},handleCooperationAvatarClick:e=>{var l;tZ?(iN({tab:g.L.Author}),ol(!0,{from:"auto"}),iC({inComingAwemeInfo:e})):(tW.dispatch({modalAwemeInfo:e,nextAwemeInfo:null,prevAwemeInfo:null}),iN({tab:g.L.Author})),_.i.sendLog("enterVideoCardTab",{from_group_id:e.awemeId,type:g.L.Author,enter_method:"click_co_author_head",enter_from:null!==(l=null==tf?void 0:tf.enter_from)&&void 0!==l?l:(0,R.mo)(),enter_from_merge:(0,R.vM)(),tab_name:(null==tf?void 0:tf.tab_name)||T.getTabName(),module_name:null==tf?void 0:tf.module_name})},reportParams:iW,isShowVideoCard:iv});(0,m.Z)(()=>{!tU&&lm&&(oI(!1),(tL||tS)&&ol(!1,{from:"auto"}))},[null==tU?void 0:tU.awemeId]);let{isPermanentDislikeBtn:oy,isDislikePanelVisible:oT,dislike:ob,revokeDislike:ok,disableShortCut:oL,isAdapterMiniHeightWithDislikeBtn:oS}=lz({awemeInfo:ig,scene:tv,deleteCurrentSwiper:lc,isModal:tZ,videoToast:ih,abtestData:tc,dislikeIdList:tR,uuid:null===(eT=(0,F.Es)())||void 0===eT?void 0:eT.user_unique_id,player:tB}),ox=(0,n.useMemo)(()=>(null==tc?void 0:tc.slideOptimize)&&["discover","recommend"].includes((0,R.yW)()),[tc]),oE=(0,n.useMemo)(()=>"waterFall"===lO&&(null==tU?void 0:tU.awemeId)?(0,r._)((0,i._)({},tf),{from_group_id:null==tU?void 0:tU.awemeId}):tf,[tf,null==tU?void 0:tU.awemeId,lO]),oP=(0,n.useMemo)(()=>{if(!(null==lY?void 0:lY.scene))return{};let{awemeId:e,desc:l}=ig,t={aladdin_words:l,list_item_id:e};return!(null==lY?void 0:lY.removeThirdItemId)&&(t.search_third_item_id=e),t},[null==lY?void 0:lY.scene,ig]),oA=(0,n.useMemo)(()=>{if(null==lY?void 0:lY.toggleButtonText)return null==lY?void 0:lY.toggleButtonText;switch(null==lY?void 0:lY.scene){case"mix":var e;if(null==ig?void 0:null===(e=ig.seriesInfo)||void 0===e?void 0:e.seriesId)return"短剧";return"合集";case"user":return"相关作品";default:return""}},[lY]),oR=!iv||iQ||iz||iG||i5||tv===p.lT.Search&&!lm,oM=!or||!lm||iQ||iz||iG||i5,{isTopLevelSidebar:oN,isTopLevelChapterSidebar:oV,isBottomLevelSidebar:oF,isBottomLevelChapterSidebar:oj}=l9({sidebarHidden:oR,chapterSidebarHidden:oM,bottomLevelSidebar:t1,setBottomLevelSidebar:t2,topLevelSidebar:t5,setTopLevelSidebar:t3}),oD=(0,n.useMemo)(()=>({showSideCard:!oR,curTab:t7,setSideCard:ol,setCurTab:t8}),[oR,t7,ol,t8]),oB=(0,r._)((0,i._)({},oP,null==tf?void 0:tf.search_params,null==iW?void 0:iW.search_params),{item_rank:((null===(ek=iu.current)||void 0===ek?void 0:null===(eb=ek.getCurIndex)||void 0===eb?void 0:eb.call(ek))||0)+1});(0,n.useEffect)(()=>{(null==l_?void 0:l_.tab)===p.lT.Search&&(ig.searchLogParams=oB)},[oB]);let oH=iT&&[g.t.Mix,g.t.Series].includes(iM)?"author_":"",[oW,oO]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=c()(()=>{let e="recommend"===(0,R.yW)()&&!1===tZ;if((null==tc?void 0:tc.videoCut)&&tw.current&&ig&&ig.video&&e){var l,t,i,o;let e=tw.current.getBoundingClientRect(),{width:n}=e,r=e.height-48;if(n/r<ig.video.width/ig.video.height){let e=n/r*ig.video.height/ig.video.width,i=null!==(t=null===(l=ig.pcBlockedAreaRatio)||void 0===l?void 0:l[2])&&void 0!==t?t:0;oO(e>.85&&i<(null==tc?void 0:tc.videoCut))}if(n/r>ig.video.width/ig.video.height){let e=r/n*ig.video.width/ig.video.height,l=null!==(o=null===(i=ig.pcBlockedAreaRatio)||void 0===i?void 0:i[2])&&void 0!==o?o:0;oO(e>.85&&l<(null==tc?void 0:tc.videoCut))}}},500);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[ig,tc]),!function(e){let{awemeInfo:l,curTab:t}=e,i=(0,n.useRef)(null);(0,n.useEffect)(()=>{l?i.current=function(e){var l;if(!(null===(l=window)||void 0===l?void 0:l.requestAnimationFrame))return l7;let{timeout:t=1e4}=e,i={fps:0,duration:0,scene:(0,R.yW)(),jank:0,jank_duration:0,bjank:0,bjank_duration:0,tab:e.curTab},o=0,n=l4(),r=n,a=null,d=null;return!function e(){a=requestAnimationFrame(function(){o++;let l=l4(),t=l-r;r=l,t>l5&&(i.jank++,i.jank_duration+=t),t>l3&&(i.bjank++,i.bjank_duration+=t),e()})}(),d=setTimeout(()=>{a&&cancelAnimationFrame(a)},t),function(){a&&cancelAnimationFrame(a),d&&clearTimeout(d);let e=l4()-n;i.fps=Math.min(Math.round(1e3*o/e),60),i.duration=Math.round(e),l2.sendLog("prf_slider_modal_video",i)}}({awemeInfo:l,curTab:t}):i.current=null},[l]),(0,n.useLayoutEffect)(()=>{let e=M.listen(M.EVENT.firstFrameReady,()=>{if(i.current){var e;null===(e=i.current)||void 0===e||e.call(i),i.current=null}});return()=>{e()}})}({awemeInfo:tU,curTab:iR});let oU=l0.T3,oq=tZ&&lm?"slideMode":"sliderVideo",oZ=(0,n.useMemo)(()=>({playerScene:tv,globalCommentCount:iD,setGlobalCommentCount:iB,authorVideoCardClick:iF,modalEnterFrom:lO,player:tB,stopAutoPlay:iA}),[tv,iD,iB,iF,tB,lO,iA]),oz=td?n.Fragment:G.r,oK=!B._.isRenderOnActive(tc)||lm,o$=lm&&(null==ig?void 0:null===(eL=ig.chapterInfo)||void 0===eL?void 0:eL.status),oG=(e,l,t)=>{if(t&&!e.find(e=>e.awemeId===t.awemeId)){var i;e=e.concat(t);let l=null===(i=t.relatedRecommend)||void 0===i?void 0:i.popoverAwemeInfo;l&&!e.find(e=>e.awemeId===l.awemeId)&&(e=e.concat(l))}return l&&!e.find(e=>e.awemeId===l.awemeId)&&(e=[l,...e]),e};return(0,n.useEffect)(()=>{let e=M.listen(M.EVENT.closeAllSideCard,()=>{iz&&iZ(),iQ&&i0(),!oM&&oa(),i5&&i3(),i$({fromDrawer:!0}),ol(!1),F.Le.setConfig(F.gI.PlayerCardInfo,null)});return()=>{e()}}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.v.Provider,{value:oZ,children:(0,o.jsx)(et.k,{componentName:"Container3",children:(0,o.jsxs)("div",{"data-e2e":lm?"feed-active-video":"feed-video","data-e2e-vid":null==ig?void 0:ig.awemeId,id:oq,className:d()($.default.playerCommentWrapper,"isDark isDeepDark",`video_${ig.awemeId}`,oq,ly,{isMiniWindow:lL,isMiniWindowOptimize:lL&&t9,[$.default.isMiniWindowActive]:lm&&lL,[$.default.flex]:!oo,[$.default.isFullScreen]:tL,[$.default.inOutFeed]:!tZ,[$.default.miniWidth]:iv,[$.default.adapterSeventh]:!iQ,[$.default.shopCard]:iQ,[$.default.adapterMiniHeight]:tZ,[$.default.adapterMiniHeight455]:tZ&&tv===p.lT.Recommend,[$.default.adapterMiniHeightWithDislikeBtn]:oS,[$.default.searchFit]:tv===p.lT.Search,relatedUiAdapter:!(tv===p.lT.Search&&!tZ),[$.default.transparent]:(0,C.pb)(ig)&&!l$,upperFeedClass:tZ,[$.default.forFixedLayer]:lO===k.ModalEnterFromVal.Im&&lm}),style:lS,ref:id,children:[(0,o.jsxs)("div",{ref:tw,className:d()($.default.playerContainer,"playerContainer",z.z,{[$.default.isHavePlayer]:ig,[$.default.isSafari]:(0,H.G6)(),[$.default.showSideBar]:iQ||iz||iG||iv||or||i5}),children:[lp,(0,o.jsxs)("div",{className:d()($.default.playerWrap,"slider-video",{[$.default.playerCutVideo]:oW,[$.default.isVertical]:(null==ig?void 0:null===(ex=ig.video)||void 0===ex?void 0:ex.height)>(null==ig?void 0:null===(eF=ig.video)||void 0===eF?void 0:eF.width)}),ref:e=>{lm?!tC.current&&!tZ&&(tC.current=e,tx(tC)):tC.current=null},children:[tv===p.lT.Modal&&(0,W.DT)()&&!tU&&(0,o.jsx)("div",{className:$.default.electronDrag}),(null==ig?void 0:ig.debugInfo)&&(0,o.jsx)(X.W,{req:null==ig?void 0:null===(ej=ig.debugInfo)||void 0===ej?void 0:ej.web_debug_req,video:null==ig?void 0:null===(eD=ig.debugInfo)||void 0===eD?void 0:eD.client_rec_debug_info,size:{height:null==tB?void 0:tB._videoHeight,width:null==tB?void 0:tB._videoWidth},gear:null==ig?void 0:null===(eq=ig.video)||void 0===eq?void 0:null===(eW=eq.bitRateList)||void 0===eW?void 0:null===(eB=eW[0])||void 0===eB?void 0:eB.gearName,showPanelRightside:!0}),(0,o.jsx)(oz,{children:(0,o.jsx)(lI,(0,r._)((0,i._)({},e),{onPlayer:e=>{tH(e)},actionFollow:om,actionUnFollow:of,isClientMiniWin:lL,userInfo:tI,dispatch:ty,awemeInfo:ig,nextAwemeInfo:iI,prevAwemeInfo:iw,videoTags:oc,isInnerFeed:iy,playNextFunc:ip,playPrevFunc:i_,deleteCurrentSwiper:lc,toggleComment:e=>oe(e),onCooperationAuthorClick:oC,isShowCooperation:!0,onAvatarClick:ou,avatarTipText:tZ&&iR===g.L.Author?"退出作者主页":void 0,logParams:(0,r._)((0,i._)({},iW,ig.logParams),{relation:String(oh),is_click_cover:Number(tZ||ld!==ig),enter_from:`${oH}${tZ?eP.Cu(iM):null==iW?void 0:iW.enter_from}`,search_params:oB}),videoToast:ih,abtestData:tc,openSpecificTab:ot,abTestData:tc,isFullScreen:tL,isAuthorCardShow:!1,slideListInsideFunc:lw,sideBarShow:iv,onRelatedClick:iL.includes(g.L.Related)||iS?os:void 0,isShowRelatedCard:tZ,isShowGuide:lk,showPlaySwitch:tS||tL||!1,moreBoxShowList:(0,r._)((0,i._)({},lB),{notInterestingIcon:tZ?!iy&&(null==ld?void 0:ld.awemeId)===(null==ig?void 0:ig.awemeId):null===(lo=null==lB?void 0:lB.notInterestingIcon)||void 0===lo||lo,unfollow:!tZ||null===(ln=null==lB?void 0:lB.unfollow)||void 0===ln||ln,report:!tZ||null===(la=null==lB?void 0:lB.report)||void 0===la||la}),shortCutFiltered:(null==ld?void 0:ld.awemeId)!==(null==ig?void 0:ig.awemeId)||tZ?[P.getShortcut().dislike.badgeText]:[],positionBoxClassName:{right:d()($.default.posTransition,[2,3].includes(tc.clearOpt)?l8.m4:null,iv||iz||iG||iQ||i5||or?null:$.default.interactionPos,(null==tc?void 0:tc.removeSlideRelatedButton)?$.default.removeSlideRelatedButton:null)},isAdShortCut:!iv,isShowAdCard:iz,isShowVideoInfoSideCard:i5,isShowAiSearchCard:iG,isShowShopSideCard:iQ,onShopAnchorClick:()=>{iQ?i0():(iJ(),i6())},onShopAnchorMouseEnter:()=>{!iQ&&i9({reqKey:null==i8?void 0:i8.promotion_id})},onShopAnchorMouseLeave:()=>{!iQ&&i6()},defaultIsPageFullScreen:!tL&&!!tZ&&!t_||void 0,onDislike:ob,isPermanentDislikeBtn:oy,disableShortCut:oL,isDislike:oT,splashAdStatus:lZ,fullScreenTarget:null!=lv?lv:id.current,horizontalToggleProps:{showHorizontalToggle:!!(null==lY?void 0:lY.scene)&&!(tQ||iv||iz||iG||iQ||i5),onClick:()=>{var e;t0(!0),_.i.sendLog("enterVideoCardTab",{enter_from:"general_search",enter_from_merge:"general_search",enter_method:"click_card_entrance",type:(0,eH.V)(null==lY?void 0:lY.scene,ig,null==tf?void 0:null===(e=tf.search_params)||void 0===e?void 0:e.token_type)})},buttonText:oA,buttonClassName:"",scene:null==lY?void 0:lY.scene},enableAutoPlayPlugin:!!(null==lY?void 0:lY.scene)||tZ,isUpperFeed:tZ,sideCardContext:oD,searchListType:l1,disableFullScreenSearchBar:!1,isRenderInSSR:td,chapterProps:{chapterProgress:on,triggerChapterSliderShow:()=>{i$(),i3(),oa()}},setContainerPlayer:ox?tH:null,children:!(tu||ox)&&(0,o.jsx)(en,{onPlayer:tH})}))})]}),!tr&&(null==ig?void 0:ig.awemeType)!==y.e.XgVideo&&!or&&(tv!==p.lT.Search||tZ)&&!(null==tc?void 0:tc.removeSlideRelatedButton)&&(0,o.jsx)(lR,{onClick:()=>{var e;if(_.i.sendLog("enterVideoCardTab",{from_group_id:null==ig?void 0:ig.awemeId,type:iR,enter_method:"click_card_entrance",enter_from_merge:(0,R.vM)(),enter_from:null!==(e=null==tf?void 0:tf.enter_from)&&void 0!==e?e:(0,R.mo)(),tab_name:(null==tf?void 0:tf.tab_name)||T.getTabName(),module_name:null==tf?void 0:tf.module_name}),iQ&&iv){i0();return}if(iG&&iv){i$();return}if(i5&&iv){i3();return}ol(!0),!iQ&&(it.current=!1)},className:d()($.default.btn,{[$.default.hide]:iv&&!iQ||iG||i5||op||iK||lZ===w.QB.Fullscreen}),type:"circle",player:tB,awemeInfo:ig,isFullscreen:tL})]}),iz&&(0,o.jsx)("div",{id:"videoSideBar",className:d()($.default.sideBar,$.default.sideBarDefaultWidth,"isDark","dark",{[$.default.displayNone]:lL}),onWheel:e=>e.stopPropagation(),children:(0,o.jsx)(tl,{awemeInfo:ig,onClose:()=>{iZ({from:"closeIcon"})},userInfo:tI})}),iY&&(0,o.jsx)("div",{id:"videoSideBar",className:d()($.default.sideBar,$.default.sideBarDefaultWidth,"isDark","dark",{[$.default.displayNone]:lL||!iG}),onWheel:e=>e.stopPropagation(),children:(0,o.jsx)(v.SV,{children:(0,o.jsx)(tt,{onOpenModalVideo:e=>{"ai_search"===lO&&tW.dispatch({modalAwemeInfo:null,nextAwemeInfo:null,prevAwemeInfo:null})},abTestData:tc,isShow:iG,awemeInfo:ig,onClose:()=>{i$(),ol(!1),F.Le.setConfig(F.gI.PlayerCardInfo,null)},userInfo:tI,userDispatch:ty,word:iX,groupId:null==ig?void 0:ig.awemeId,scene:tv})})}),iQ&&(0,o.jsx)("div",{id:"videoSideBar",className:d()($.default.sideBarDefaultWidth,$.default.shopSidebar,"isDark",{[$.default.displayNone]:lL}),onWheel:e=>e.stopPropagation(),children:(0,o.jsx)(et.k,{componentName:A.y.ShopDetailSideCard,children:(0,o.jsx)(te,{isFirstLoad:i1,awemeInfo:ig,onClose:i0,userInfo:tI,abtestData:tc,isAutoOpen:i2})})}),!!(null==lY?void 0:lY.scene)&&(0,o.jsx)(ti,(0,i._)({className:d()({[$.default.displayNone]:!tQ||iv||iz||iG||i5||iQ||op}),currentPlayingAwemeInfo:ig,onClose:()=>t0(!1),onItemClick:e=>{var l;let{inComingAwemeInfo:t,index:i}=e;iC({inComingAwemeInfo:t}),null==lY||null===(l=lY.onSideCardClick)||void 0===l||l.call(lY,{inComingAwemeInfo:t,index:i})},updateNextAwemeInfo:e=>tW.dispatch("nextAwemeInfo",e),isActive:lm,showSearchSideCard:tQ,setShowSearchSideCard:t0,ref:iu,stopAutoPlay:iA,logParams:(0,r._)((0,i._)({},tf),{search_params:oB}),isUpperFeed:tZ,listReplay:!0},lY)),oK&&(0,o.jsxs)("div",{id:"videoSideCard",className:d()($.default.sideBar,$.default.sideBarDefaultWidth,"isDark",{[$.default.sideBarHidden]:oR,[$.default.middle]:!oo,[$.default.force300pxWidth]:tv===p.lT.Search&&!tZ&&!oR,[$.default.displayNone]:lL,[$.default.sideBarInBottomLayer]:oF,[$.default.sideBarInUnderLayer]:oV,[$.default.sideBarInTopLayer]:oN}),style:{position:oj?"absolute":void 0},onWheel:e=>e.stopPropagation(),ref:ir,children:[B._.isHideSiderLoading(tc)?null:!oo&&iv&&(0,o.jsx)(ei.gb,{}),oo&&(0,o.jsx)("div",{id:"relatedVideoCard",className:d()($.default.sideBarInnerWrapper,$.default.relatedVertical,{[$.default.sideBarInnerHidden]:!iv,[$.default.inFullScreen]:tS||tL,LookModalFrameFast:(null===(eZ=(0,O.fV)())||void 0===eZ?void 0:eZ.os)==="Windows"}),children:(0,o.jsx)(v.SV,{children:(0,o.jsx)(l6,{isRender:iO,ref:is,collapse:!1,scene:p.lT.Recommend,isShow:iv,awemeInfo:ig,lastVideoFeedAweme:iV,originFeedAwemeInfo:ld,enterFromPrefix:oH,handleClose:()=>{ol(!1),F.Le.setConfig(F.gI.PlayerCardInfo,null),_.i.sendLog("closeVideoCard",{type:iR,enter_from_merge:(0,R.vM)(),enter_method:"click_x"})},isActive:lm,customProps:l_,logParams:iW,abtestData:tc,userContext:tm,isShowCloseBtn:!0,handleRelatedVideoChange:ij,tab:iR,videoFeed:iM,showTabList:tv!==p.lT.Search||tZ?iL:[g.L.Comment],relatedAuthorConfig:o_,relatedCommentConfig:og,defaultHotData:oi,hotDefaultList:lE,mixDefault:lP,seriesDefault:lA,relatedDefault:oG(lM||[],lN||ld,tU),onTabChange:e=>{iN({tab:e})},isUpperFeed:tZ,isObscuredByOtherCard:iQ||iz||iG||i5||!!tU})})})]}),o$&&(0,o.jsx)("div",{id:"chapterVideoSideCard",className:d()($.default.sideBar,$.default.sideBarDefaultWidth,$.default.chapterSideBar,"isDark",{[$.default.sideBarHidden]:oM,[$.default.displayNone]:lL,[$.default.sideBarInBottomLayer]:oj,[$.default.sideBarInUnderLayer]:oN,[$.default.chapterSideBarInTopLayer]:oV}),ref:ia,children:(0,o.jsx)("div",{id:"chapterVideoCard",className:d()($.default.sideBarInnerWrapper,$.default.relatedVertical,{LookModalFrameFast:(null===(ez=(0,O.fV)())||void 0===ez?void 0:ez.os)==="Windows"}),children:(0,o.jsx)(v.SV,{children:(0,o.jsx)(tn,{isShow:!oM,awemeInfo:ig,chapterProgress:on,onClose:()=>{oa()},isActive:lm,player:tB,selfUid:null==tI?void 0:null===(eK=tI.info)||void 0===eK?void 0:eK.uid})})})}),(0,o.jsx)("div",{id:"videoSideBar",className:d()($.default.sideBar,$.default.sideBarDefaultWidth,"isDark","dark",$.default.videoInfoSideBar,{[$.default.videoInfoSideBarHidden]:!i5}),children:i5&&(0,o.jsx)(to,{awemeInfo:ig,isTopicLinkSearchResult:!0,onClose:()=>{i3(),ol(!1)}})}),ik&&!((null==tc?void 0:null===(e$=tc.recCoverOptim)||void 0===e$?void 0:e$.cover)&&!(0,U.p)())&&(0,o.jsx)(oU,{awemeInfo:ig,elementtiming:"lcp_ele",maskClassName:d()({[$.default.maskBackgroundHidden]:(0,C.pb)(ig)&&!l$}),fetchPriority:lG?"auto":void 0,isRenderInSSR:td,abtestData:tc,priorityServerBackupBg:!1}),ik&&(null==tc?void 0:null===(e0=tc.recCoverOptim)||void 0===e0?void 0:e0.cover)&&!(0,U.p)()&&(0,o.jsx)(l0.IG,{player:tB,awemeInfo:ig,elementtiming:"lcp_ele",maskClassName:d()({[$.default.maskBackgroundHidden]:(0,C.pb)(ig)&&!l$}),fetchPriority:lG?"auto":void 0,isRenderInSSR:td,abtestData:tc,priorityServerBackupBg:!1}),oT&&!lL&&(0,o.jsx)(lj,{onRevokeDislike:ok,isActive:lm}),lX&&!lL&&(0,o.jsx)(lD.z,{isActive:lm,awemeInfo:ig,player:tB,abtestData:tc})]})})}),iy&&!t_&&!lL&&(0,o.jsx)(lQ,{userInfo:tI,awemeInfo:ig,abtestData:tc}),tU&&!tZ&&lm&&((null==tK?void 0:tK.current)===tz||(null==tK?void 0:tK.current)===(null==t$?void 0:t$.current))&&(0,o.jsx)(lT,(0,r._)((0,i._)((0,r._)((0,i._)({},e),{isDyPlayer:!1,InnerPlayer:ts&&tu?ts:lI}),{abtestData:tc,logParams:oE,customProps:(0,r._)((0,i._)({},e.customProps),{logParams:oE}),close:tg,getCurrentTime:()=>tU.awemeId===ld.awemeId?null==tB?void 0:tB.currentTime:null,clickedCard:ow?g.L.Author:iR,hotDefaultList:iR===g.L.Hot?null==is?void 0:null===(e4=is.current)||void 0===e4?void 0:e4.getHotDefaultList():null,mixDefault:iR===g.L.Mix?null==is?void 0:null===(e7=is.current)||void 0===e7?void 0:e7.getMixDefaultParam():null,seriesDefault:iR===g.L.Series?null==is?void 0:null===(e8=is.current)||void 0===e8?void 0:e8.getSeriesDefaultParam():null,relatedDefault:iR===g.L.Related?oG((null==is?void 0:null===(e6=is.current)||void 0===e6?void 0:e6.getRelatedDefaultList())||[],ig,tU):null,currentAwemeInfo:tU,isActive:!0,isEnterByCssFullScreen:tS,isEnterByFullScreen:tL,changeSplashAdStatus:lK,fullScreenTarget:null!=lv?lv:id.current}),{isClientMiniWin:lL,hasPlaceholder:!0,relatedSmooth:t_}))]})});var ta=t("813625"),td=(0,n.forwardRef)((e,l)=>{let{customProps:t,modalEnterFrom:r}=e,{tab:a}=t||{},d=(0,n.useRef)(null);return(0,n.useImperativeHandle)(l,()=>{var e,l;return{getPlayer:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.player},setIsAuthorCardShow:null===(e=d.current)||void 0===e?void 0:e.setIsAuthorCardShow,setIsShowRelatedCard:null===(l=d.current)||void 0===l?void 0:l.setIsShowRelatedCard,setTab:e=>{var l,t;null===(t=d.current)||void 0===t||null===(l=t.setTab)||void 0===l||l.call(t,e)},getCurTab:()=>{var e,l;return null===(l=d.current)||void 0===l?void 0:null===(e=l.getCurTab)||void 0===e?void 0:e.call(l)},getCurrAweme:()=>{var e,l;return null===(l=d.current)||void 0===l?void 0:null===(e=l.getCurrAweme)||void 0===e?void 0:e.call(l)}}},[d.current]),(0,ta.s)(!0),(0,o.jsx)(tr,(0,i._)({ref:d},e))})},200606:function(e,l,t){"use strict";t.d(l,{g:function(){return i}}),t(482392),t(227470),t(707149),t(459167);let i=e=>{var l,t,i,o,n,r,a,d,u,s,c,v,m,f;let h=null!==(d=null==e?void 0:null===(l=e.hotList)||void 0===l?void 0:l.schema)&&void 0!==d?d:"",p=NaN,_="";return h&&(p=h.startsWith("aweme://")?Number(/\"board_type\":([\w|_]*)&/.exec(h)):Number(null===(u=/board_type=([\w|_]*)&/.exec(h))||void 0===u?void 0:u[1]),_=null!==(f=h.startsWith("aweme://")?null===(v=/\"board_sub_type\":([\w|_\"]*)\,/.exec(h))||void 0===v?void 0:null===(c=v[1])||void 0===c?void 0:null===(s=c.replaceAll)||void 0===s?void 0:s.call(c,'"',""):null===(m=/board_sub_type=([\w|_]*)&/.exec(h))||void 0===m?void 0:m[1])&&void 0!==f?f:""),{boardType:p,boardSubType:_,sentence:(null==e?void 0:null===(t=e.hotList)||void 0===t?void 0:t.sentence)||"",sentenceId:(null==e?void 0:null===(i=e.hotList)||void 0===i?void 0:i.sentenceId)||"",footer:null==e?void 0:null===(o=e.hotList)||void 0===o?void 0:o.footer,rank:null==e?void 0:null===(n=e.hotList)||void 0===n?void 0:n.rank,type:null==e?void 0:null===(r=e.hotList)||void 0===r?void 0:r.type,hotName:null==e?void 0:null===(a=e.hotList)||void 0===a?void 0:a.header}}},685652:function(e,l,t){"use strict";t.d(l,{V:function(){return i}}),t(347885);let i=(e,l,t)=>{if(["douyin_dcd_model","douyin_disease","xiaohe_disease","baikemy_disease","medicines_baikemy"].includes(t)||!e)return"search_related_card";switch(e){case"user":return"author_card";case"mix":var i;return(null==l?void 0:null===(i=l.seriesInfo)||void 0===i?void 0:i.seriesId)?"playlet_card":"compilation_card";case"hot":return"hot_card";default:return"general_search"}}},891971:function(e,l,t){"use strict";t.d(l,{BJ:function(){return s},kO:function(){return d},nA:function(){return u}});var i=t(590921),o=t(874155);t(612222);var n=t(611542),r=t(135524),a=t(356789);let d=e=>{let{isActive:l,timeout:t=2e3,useIdleCallback:i=!1,immediately:o=!1,callback:r}=e,d=(0,n.useRef)();d.current=r,(0,n.useEffect)(()=>{if(o){var e;return null===(e=d.current)||void 0===e?void 0:e.call(d)}},[o]),(0,n.useEffect)(()=>{if(!o&&i&&l){var e,t;let l;let i=0,o=setTimeout(()=>{var e,t,o;l=null===(e=d.current)||void 0===e?void 0:e.call(d),null===(t=(o=window).cancelIdleCallback)||void 0===t||t.call(o,i)},200);return i=null===(e=(t=window).requestIdleCallback)||void 0===e?void 0:e.call(t,()=>{var e;l=null===(e=d.current)||void 0===e?void 0:e.call(d),clearTimeout(o)}),()=>{var e,t;clearTimeout(o),null===(e=(t=window).cancelIdleCallback)||void 0===e||e.call(t,i),null==l||l()}}},[o,i,l]),(0,n.useLayoutEffect)(()=>{let e;if(o||i||!l)return;let n=setTimeout(()=>{var l;null==r||r(),e=null===(l=d.current)||void 0===l?void 0:l.call(d)},t),r=a.listen(a.EVENT.firstFrameReady,()=>{var l;e=null===(l=d.current)||void 0===l?void 0:l.call(d),clearTimeout(n)});return()=>{r(),null==e||e(),clearTimeout(n)}},[l,o,t,i])},u=e=>{let{awemeInfo:l,once:t=!1,immediately:a,normalDelay:u=!0}=e,[s,c]=(0,n.useState)(()=>!!a||l.awemeType!==r.e.Normal&&!!u||!1);return d((0,o._)((0,i._)({},e),{callback:()=>(c(!0),()=>{!t&&c(!1)})})),{isShow:s}},s=e=>{let{immediately:l,once:t,delay:r}=e,[a,u]=(0,n.useState)(l);return d((0,o._)((0,i._)({},e),{callback:()=>{let e;return!l&&r?e=setTimeout(()=>{u(!0)},r):u(!0),()=>{e&&clearTimeout(e),!l&&!t&&u(!1)}}})),{isShow:a}}},99640:function(e,l,t){"use strict";t.d(l,{_:function(){return d}});var i=t(611542),o=t(837305),n=t(356789),r=t(819769),a=t(528557);let d=e=>{let{prevAwemeInfo:l,awemeInfo:t,isInnerFeedModel:d}=e,u=(0,i.useRef)(t);(0,i.useEffect)(()=>{u.current=t},[t]),(0,i.useEffect)(()=>{let e=null==n?void 0:n.listen(null==n?void 0:n.EVENT.quitInnerFeed,e=>{e&&r.Le.setConfig(r.gI.PreAwemeId,"")});return()=>e()},[]),(0,i.useEffect)(()=>{let e=(0,a.$o)(o.LocalStorageKeys.HasUseFlashBack),t=(0,a.$o)(o.LocalStorageKeys.ShowFlashBackTipNum)||0;if(d&&!e&&t<3){var i;let e=r.Le.getConfig(r.gI.PreAwemeId);e&&e===(null===(i=u.current)||void 0===i?void 0:i.awemeId)?n.emit(n.EVENT.showFlashbackTip,!0):n.emit(n.EVENT.showFlashbackTip,!1),(null==l?void 0:l.awemeId)&&r.Le.setConfig(r.gI.PreAwemeId,null==l?void 0:l.awemeId)}},[l,d])}},686182:function(e,l,t){"use strict";t.d(l,{L:function(){return o}}),t(632852),t(612222);var i=t(901862);let o=e=>{let{promotionId:l,originType:t,secAuthorId:o,roomId:n,itemId:r}=e;return Promise.all([(0,i.y3)({promotionId:l,originType:t,secAuthorId:o,roomId:n,itemId:r}),(0,i.$P)({promotionId:l,originType:t})])}},837892:function(e,l,t){"use strict";t.d(l,{k:function(){return o}});var i=t(7979);t(930798);let o=new class e{bind(e,l){0===Object.keys(this.keyboarddHashMap).length&&document.addEventListener("keydown",this.keydownEvent),this.keyboarddHashMap[e]?-1===this.keyboarddHashMap[e].findIndex(e=>e===l)&&this.keyboarddHashMap[e].push(l):this.keyboarddHashMap[e]=[l]}remove(e,l){var t;let i=null===(t=this.keyboarddHashMap[e])||void 0===t?void 0:t.findIndex(e=>e===l);this.keyboarddHashMap[e]&&-1!==i&&(this.keyboarddHashMap[e].splice(i,1),0===this.keyboarddHashMap[e].length&&delete this.keyboarddHashMap[e]),0===Object.keys(this.keyboarddHashMap).length&&document.removeEventListener("keydown",this.keydownEvent)}constructor(){(0,i._)(this,"keyboarddHashMap",{}),(0,i._)(this,"keydownEvent",e=>{if(this.keyboarddHashMap[e.code]){let l=this.keyboarddHashMap[e.code].length-1;(0,this.keyboarddHashMap[e.code][l])(e)}})}}},691318:function(e,l,t){t(526789),t(347885),t(930798),t(724356),t(632852),t(895858),t(612222),!function(){var e=["user-blocking","user-visible","background"];class l{queueCallback(e){var l=this.nextMessageHandle_++;return this.messages_[l]=e,this.sendPort_.postMessage(l),l}cancelCallback(e){delete this.messages_[e]}onMessageReceived_(e){var l=e.data;if(l in this.messages_){var t=this.messages_[l];delete this.messages_[l],t()}}constructor(){this.channel_=new MessageChannel,this.sendPort_=this.channel_.port2,this.messages_={},this.nextMessageHandle_=1,this.channel_.port1.onmessage=e=>this.onMessageReceived_(e)}}function t(){return t.instance_||(t.instance_=new l),t.instance_}class i{isIdleCallback(){return 0===this.callbackType_}isMessageChannelCallback(){return 2===this.callbackType_}cancel(){if(!this.canceled_)switch(this.canceled_=!0,this.callbackType_){case 0:cancelIdleCallback(this.handle_);break;case 1:clearTimeout(this.handle_);break;case 2:t().cancelCallback(this.handle_);break;default:throw TypeError("Unknown CallbackType")}}schedule_(l,i){if(i&&i>0)return this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()},i));if(!e.includes(l))throw TypeError("Invalid task priority : "+l);return"background"===l&&"function"==typeof requestIdleCallback?(this.callbackType_=0,void(this.handle_=requestIdleCallback(()=>{this.runCallback_()}))):"function"==typeof MessageChannel?(this.callbackType_=2,void(this.handle_=t().queueCallback(()=>{this.runCallback_()}))):(this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()})))}runCallback_(){this.canceled_||this.callback_()}constructor(e,l,t){void 0===t&&(t=0),this.callback_=e,this.callbackType_=null,this.handle_=null,this.canceled_=!1,this.schedule_(l,t)}}var o=0;class n{isEmpty(){return null==this.head_}push(e){if("object"!=typeof e)throw TypeError("Task must be an Object");e.tq_sequence_=o++,this.isEmpty()?(e.tq_prev_=null,this.head_=e):(e.tq_prev_=this.tail_,this.tail_.tq_next_=e),e.tq_next_=null,this.tail_=e}takeNextTask(){if(this.isEmpty())return null;var e=this.head_;return this.remove_(e),e}merge(e,l){if("function"!=typeof l)throw TypeError("Must provide a selector function.");if(null==e)throw Error("sourceQueue cannot be null");for(var t=this.head_,i=null,o=e.head_;o;){var n=o;if(o=o.tq_next_,l(n)){for(e.remove_(n);t&&t.tq_sequence_<n.tq_sequence_;)i=t,t=t.tq_next_;this.insert_(n,i),i=n}}}toArray(){for(var e=this.head_,l=[];null!==e;)l.push(e),e=e.tq_next_;return l}insert_(e,l){if(l!=this.tail_){var t=l?l.tq_next_:this.head_;e.tq_next_=t,t.tq_prev_=e,e.tq_prev_=l,null!=l?l.tq_next_=e:this.head_=e}else this.push(e)}remove_(e){if(null==e)throw Error("Expected task to be non-null");e===this.head_&&(this.head_=e.tq_next_),e===this.tail_&&(this.tail_=this.tail_.tq_prev_),e.tq_next_&&(e.tq_next_.tq_prev_=e.tq_prev_),e.tq_prev_&&(e.tq_prev_.tq_next_=e.tq_next_)}constructor(){this.head_=null,this.tail_=null}}class r extends Event{constructor(l,t){if(!t||!e.includes(t.previousPriority))throw TypeError("Invalid task priority: '"+t.previousPriority+"'");super(l),this.previousPriority=t.previousPriority}}void 0===self.scheduler&&(self.scheduler=new class{postTask(l,t){if(void 0!==(t=Object.assign({},t)).signal){if(null===t.signal||!("aborted"in t.signal)||"function"!=typeof t.signal.addEventListener)return Promise.reject(TypeError("'signal' is not a valid 'AbortSignal'"));if(t.signal&&t.signal.priority&&!e.includes(t.signal.priority))return Promise.reject(TypeError("Invalid task priority: '"+t.signal.priority+"'"))}if(void 0!==t.priority&&(null===t.priority||!e.includes(t.priority)))return Promise.reject(TypeError("Invalid task priority: '"+t.priority+"'"));if(void 0===t.delay&&(t.delay=0),t.delay=Number(t.delay),t.delay<0)return Promise.reject(TypeError("'delay' must be a positive number."));var i={callback:l,options:t,resolve:null,reject:null,hostCallback:null,abortCallback:null,onTaskCompleted:function(){this.options.signal&&this.abortCallback&&(this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null)},onTaskAborted:function(){this.hostCallback&&(this.hostCallback.cancel(),this.hostCallback=null),this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null,this.reject(this.options.signal.reason)},isAborted:function(){return this.options.signal&&this.options.signal.aborted}},o=new Promise((e,l)=>{i.resolve=e,i.reject=l});return this.schedule_(i),o}schedule_(e){var l=e.options.signal;if(l){if(l.aborted)return void e.reject(l.reason);e.abortCallback=()=>{e.onTaskAborted()},l.addEventListener("abort",e.abortCallback)}e.options.delay>0?e.hostCallback=new i(()=>{e.hostCallback=null,this.onTaskDelayExpired_(e)},null,e.options.delay):(this.pushTask_(e),this.scheduleHostCallbackIfNeeded_())}onTaskDelayExpired_(e){this.pushTask_(e),this.pendingHostCallback_&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.schedulerEntryCallback_()}onPriorityChange_(e){var l=this.signals_.get(e);if(void 0===l)throw Error("Attempting to change priority on an unregistered signal");l!==e.priority&&(this.queues_[e.priority].merge(this.queues_[l],l=>l.options.signal===e),this.signals_.set(e,e.priority))}schedulerEntryCallback_(){this.pendingHostCallback_=null,this.runNextTask_(),this.scheduleHostCallbackIfNeeded_()}scheduleHostCallbackIfNeeded_(){var e=this.nextTaskPriority_();null!=e&&("background"!==e&&this.pendingHostCallback_&&this.pendingHostCallback_.isIdleCallback()&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.pendingHostCallback_||(this.pendingHostCallback_=new i(()=>{this.schedulerEntryCallback_()},e,0)))}pushTask_(l){var t;if(!e.includes(t=l.options.priority?l.options.priority:l.options.signal&&l.options.signal.priority?l.options.signal.priority:"user-visible"))throw TypeError("Invalid task priority: "+t);if(l.options.signal&&l.options.signal.priority){var i=l.options.signal;this.signals_.has(i)||(i.addEventListener("prioritychange",()=>{this.onPriorityChange_(i)}),this.signals_.set(i,i.priority))}this.queues_[t].push(l)}runNextTask_(){var e=null;do{var l=this.nextTaskPriority_();if(null==l)return;e=this.queues_[l].takeNextTask()}while(e.isAborted());try{var t=e.callback();e.resolve(t)}catch(l){e.reject(l)}finally{e.onTaskCompleted()}}nextTaskPriority_(){for(var l=0;l<e.length;l++){var t=e[l];if(!this.queues_[t].isEmpty())return t}return null}constructor(){this.queues_={},e.forEach(e=>{this.queues_[e]=new n}),this.pendingHostCallback_=null,this.signals_=new WeakMap}},self.TaskPriorityChangeEvent=r)}()},851448:function(e,l,t){"use strict";t.d(l,{p:function(){return i}}),t(453945),t(691318);let i={postTask:e=>{let{task:l,immediate:t=!1,priority:i="user-visible"}=e;if(!0==!!t||!window.scheduler){l();return}window.scheduler.postTask(l,{priority:i})}}},453945:function(e,l,t){t(187450),globalThis.self=globalThis},562221:function(e,l,t){"use strict";t.d(l,{D:function(){return r}}),t(612222);var i=t(67108),o=t.n(i),n=t(611542);let r=(e,l,t)=>{let i=(0,n.useRef)(e);i.current=e;let r=(0,n.useMemo)(()=>o()(function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return i.current(...l)},l,t),[l]);return(0,n.useEffect)(()=>()=>{r.cancel()},[r]),r}},727225:function(e,l,t){"use strict";t.d(l,{u:function(){return n}});var i=t(611542),o=t(943393);let n=e=>{(0,i.useEffect)(()=>{let l=(0,o.K)(()=>{null==e||e.load()});return()=>l()},[])}},572685:function(e,l,t){"use strict";t.d(l,{hc:function(){return c},U_:function(){return d},_t:function(){return s},YM:function(){return v}});var i=t("7979"),o=t("590921");t("612222"),t("632852");var n=t("611542");let r=e=>(!e||0===Object.keys(e).length)&&!0;var a=t("309854");let d=new class e{addPrefecthParams(e,l){let t=this.prefetchCtxMap.get(e);this.prefetchCtxMap.set(e,(0,o._)({},t,l))}resetPrefetchCtx(e){this.prefetchCtxMap.set(e,{})}setPrefetchCtx(e,l){if(!!this.prefetchCtxMap.has(e))this.prefetchCtxMap.set(e,l)}getSceneReqKey(e){return this.prefetchCtxMap.get(e).reqKey}getPrefetchCtx(e){let{scene:l,reqKey:t}=e,i=this.prefetchCtxMap.get(l);return r(i)||i.reqKey!==t?{}:this.prefetchExpired(l)?(a.oe.event.info({name:a.Mo.CommercialPrefetchExpired,report:{module:l,hoverTime:Number(new Date().getTime()-i.mouseEnterTime)}}),{}):(a.oe.event.info({name:a.Mo.CommercialPrefetchSuccess,report:{module:l,hoverTime:Number(new Date().getTime()-i.mouseEnterTime)}}),i)}prefetchExpired(e){if(!this.prefetchCtxMap.has(e))return!0;let l=this.prefetchCtxMap.get(e);if(void 0===l.responseTime&&l.promise)return!1;let t=new Date().getTime()-l.responseTime>(l.expiredThreshold||1e3);return l.promise&&t}constructor(){(0,i._)(this,"prefetchCtxMap",new Map([["ecomDetail",{}],["giftWall",{}],["rank",{}],["lotteryUserCheck",{}]]))}},u=e=>l=>{let t=(0,n.useRef)(),i=(0,n.useRef)();return(0,n.useEffect)(()=>()=>{d.resetPrefetchCtx(e)},[]),{sendPrefetch:o=>{let{requestParams:n,expiredThreshold:r=1e3,reqKey:u}=o||{};if(d.getSceneReqKey(e)!==u)d.resetPrefetchCtx(e),t.current=new Date().getTime(),d.addPrefecthParams(e,{mouseEnterTime:new Date().getTime()}),d.addPrefecthParams(e,{expiredThreshold:r}),clearTimeout(i.current),d.addPrefecthParams(e,{reqKey:u}),i.current=setTimeout(()=>{d.addPrefecthParams(e,{promise:new Promise((t,i)=>{d.addPrefecthParams(e,{requestParams:n}),l(n).then(l=>{d.addPrefecthParams(e,{responseTime:new Date().getTime()}),t(l)}).catch(l=>{d.addPrefecthParams(e,{responseTime:new Date().getTime()}),i(l)}),a.oe.event.info({name:a.Mo.CommercialPrefetch,report:{module:e}})})})},50)},cancelPrefetch:()=>{new Date().getTime()-t.current<50&&clearTimeout(i.current),t.current=null}}},s=u("ecomDetail"),c=u("rank"),v=u("lotteryUserCheck")},553573:function(e,l,t){"use strict";t.d(l,{$:function(){return a}}),t(612222);var i=t(611542),o=t(895184),n=t(703774),r=t(305452);let a=e=>{let{onChange:l}=e||{},[t,a]=(0,i.useState)((0,o.r)()),d=(0,i.useRef)(l);return d.current=l,(0,r.o)(()=>{let e=()=>{if(!(0,n.Nr)(location.pathname))(0,i.startTransition)(()=>{var e;let l=(0,o.r)();a(l),null===(e=d.current)||void 0===e||e.call(d,{isFullscreen:l})})};return document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("msfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("msfullscreenchange",e)}},[]),{isFullscreen:t}}},560113:function(e,l,t){"use strict";t.d(l,{t:function(){return n}});var i=t(611542),o=t(106834);function n(e){let l=(0,o.U)(),t=(0,i.useRef)(!0),n=(0,i.useRef)(e);n.current=e,(0,i.useEffect)(()=>{var e;if("function"!=typeof n.current||!l)return;let i=t.current;return t.current=!1,null===(e=n.current)||void 0===e?void 0:e.call(n,i)},[l])}},455151:function(e,l,t){"use strict";t.d(l,{t:function(){return n}});var i=t(611542),o=t(928470);let n=()=>{var e;let{ref:l}=null!==(e=(0,i.useContext)(o.I))&&void 0!==e?e:{};return l?l:null}},575521:function(e,l,t){"use strict";t.d(l,{m:function(){return d},w:function(){return a}});var i=t(590921);t(632852);var o=t(158077),n=t(877435);let{COMMON_SEARCH_PARAMS:r}=o||{};async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=await (0,n.v_)("/aweme/v1/web/commit/dislike/item/",(0,i._)({aweme_id:e},r),{aweme_id:e}),t=l.status_code;return{statusCode:t,errMsg:0===t||l.status_msg?l.status_msg:"啊哦，服务器打瞌睡了"}}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=await (0,n.v_)("/aweme/v1/web/dislike/dimension/update/",(0,i._)({aweme_id:e,block_type:2},r),{aweme_id:e}),t=l.status_code;return{statusCode:t,errMsg:0===t||l.status_msg?l.status_msg:"啊哦，服务器打瞌睡了"}}},901862:function(e,l,t){"use strict";t.d(l,{$P:function(){return P},FE:function(){return A},G:function(){return R},N7:function(){return M},Q2:function(){return y},Sn:function(){return x},Ws:function(){return L},XK:function(){return w},XQ:function(){return I},YB:function(){return k},du:function(){return b},jZ:function(){return S},w:function(){return T},y3:function(){return E}});var i=t(590921),o=t(874155),n=t(250751);t(632852),t(101060);var r=t(158077),a=t(575217),d=t(877435),u=t(877910),s=t(943810),c=t.n(s);let{COMMON_SEARCH_PARAMS:v}=r;function m(e){var l,t,i;return{text:null!==(l=null==e?void 0:e.text)&&void 0!==l?l:"",iconUrl:null!==(t=null==e?void 0:e.icon_url)&&void 0!==t?t:"",jumpUrl:null!==(i=null==e?void 0:e.jump_url)&&void 0!==i?i:""}}function f(e){var l,t,i,o;return{userAvatar:null!==(l=null==e?void 0:e.user_avatar)&&void 0!==l?l:"",userNickname:null!==(t=null==e?void 0:e.user_nickname)&&void 0!==t?t:"",text:null!==(i=null==e?void 0:e.text)&&void 0!==i?i:"",imageList:null!==(o=null==e?void 0:e.image_list)&&void 0!==o?o:[]}}function h(e){var l,t,i,o,n;return{image:null!==(l=null==e?void 0:e.image)&&void 0!==l?l:"",name:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",price:(i=Number(null==e?void 0:e.price)/100,i),sales:null!==(o=null==e?void 0:e.sales)&&void 0!==o?o:0,productUrl:null!==(n=null==e?void 0:e.product_url)&&void 0!==n?n:""}}function p(e){var l,t,i,o,n,r,a,d,u,s,c,v,h,p,_,g,C,w,I,y,T,b,k,L,S,x,E,P,A,R,M,N,V,F,j,D,B,H,W,O,U,q,Z,z,K,$;let{item_info:G,status_code:X,log_pb:Y}=e;return{statusCode:X,logPb:null!==(P=null==Y?void 0:Y.impr_id)&&void 0!==P?P:"",itemInfo:{productInfo:{name:null!==(A=null==G?void 0:null===(l=G.product_info)||void 0===l?void 0:l.name)&&void 0!==A?A:"",price:(R=Number(null==G?void 0:null===(t=G.product_info)||void 0===t?void 0:t.price)/100,R),promiseTextList:null!==(M=null==G?void 0:null===(i=G.product_info)||void 0===i?void 0:i.promise_text_list)&&void 0!==M?M:[],logisticsTextList:null!==(N=null==G?void 0:null===(o=G.product_info)||void 0===o?void 0:o.logistics_text_list)&&void 0!==N?N:[],imageUrlList:null!==(V=null==G?void 0:null===(n=G.product_info)||void 0===n?void 0:n.image_url_list)&&void 0!==V?V:[],scheme:null!==(F=null==G?void 0:null===(r=G.product_info)||void 0===r?void 0:r.scheme)&&void 0!==F?F:"",schemeQRcodeBase64:null!==(j=null==G?void 0:null===(a=G.product_info)||void 0===a?void 0:a.scheme_qrcode_base64)&&void 0!==j?j:""},shopInfo:{name:null!==(D=null==G?void 0:null===(d=G.shop_info)||void 0===d?void 0:d.name)&&void 0!==D?D:"",image:null!==(B=null==G?void 0:null===(u=G.shop_info)||void 0===u?void 0:u.image)&&void 0!==B?B:"",label:m(null==G?void 0:null===(s=G.shop_info)||void 0===s?void 0:s.label),score:null!==(H=null==G?void 0:null===(c=G.shop_info)||void 0===c?void 0:c.score)&&void 0!==H?H:0,percent:null!==(W=null==G?void 0:null===(v=G.shop_info)||void 0===v?void 0:v.percent)&&void 0!==W?W:0,tagList:null!==(O=null==G?void 0:null===(_=G.shop_info)||void 0===_?void 0:null===(p=_.tag_list)||void 0===p?void 0:null===(h=p.map)||void 0===h?void 0:h.call(p,m))&&void 0!==O?O:[],accountName:null!==(U=null==G?void 0:null===(g=G.shop_info)||void 0===g?void 0:g.account_name)&&void 0!==U?U:""},commentInfo:{totalCount:null!==(q=null==G?void 0:null===(C=G.comment_info)||void 0===C?void 0:C.total_count)&&void 0!==q?q:0,tagList:null!==(Z=null==G?void 0:null===(w=G.comment_info)||void 0===w?void 0:w.tag_list)&&void 0!==Z?Z:[],commentList:null!==(z=null==G?void 0:null===(T=G.comment_info)||void 0===T?void 0:null===(y=T.comment_list)||void 0===y?void 0:null===(I=y.map)||void 0===I?void 0:I.call(y,f))&&void 0!==z?z:[]},extraInfo:{productParams:null!==(K=null==G?void 0:null===(L=G.extra_info)||void 0===L?void 0:null===(k=L.product_params)||void 0===k?void 0:null===(b=k.map)||void 0===b?void 0:b.call(k,e=>{var l,t;return{name:null!==(l=e.name)&&void 0!==l?l:"",value:null!==(t=e.value)&&void 0!==t?t:""}}))&&void 0!==K?K:[],detailImageList:null!==($=null==G?void 0:null===(E=G.extra_info)||void 0===E?void 0:null===(x=E.detail_image_list)||void 0===x?void 0:null===(S=x.map)||void 0===S?void 0:S.call(x,e=>null!=e?e:""))&&void 0!==$?$:[]}}}}function _(e){var l;let{status_code:t,product_preview_list:i,log_pb:o}=e;return{statusCode:t,logPb:null!==(l=null==o?void 0:o.impr_id)&&void 0!==l?l:"",productPreviewList:null==i?void 0:i.map(e=>h(e))}}function g(e){var l,t;let{status_code:i,video_info_list:o,has_product_data:n,product_card:r,log_pb:a}=e;return{statusCode:i,logPb:null!==(l=null==a?void 0:a.impr_id)&&void 0!==l?l:"",videoInfoList:null!==(t=null==o?void 0:o.map(e=>(0,u.s0)(e)))&&void 0!==t?t:[],hasProductData:null!=n&&n,productCard:n?h(r):void 0}}function C(e){let{promotions:l=[],top_promotion:t,target_promotions:i=[],status_code:o,next_offset:n=-1,log_id:r,page_header:a,page_hint:d}=e||{};return{statusCode:o,promotions:l,topPromotion:t,targetPromotions:i,nextOffset:n,logId:r,pageHeader:a,pageHint:d}}async function w(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/product_meta",(0,o._)((0,i._)({},v),{product_id:e}),{},void 0,l,{});return(0,u.RL)(t,p)}async function I(e){let{productId:l="0",itemId:t,needProductCard:n=!1}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/related_video",(0,o._)((0,i._)({},v),{product_id:l,item_id:t,need_product_card:n}),{},void 0,r,{});return(0,u.RL)(a,g)}async function y(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/recommend_product",(0,o._)((0,i._)({},v),{product_id:e}),{},void 0,l,{});return(0,u.RL)(t,_)}async function T(e){let{roomId:l,authorId:t,offset:n,limit:r=20}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=await (0,d.v_)("/live/promotions/page/",(0,o._)((0,i._)({},v),{room_id:l,author_id:t,offset:n,limit:r}),{},void 0,a);return(0,u.RL)(s,C)}async function b(e){let{roomId:l,authorId:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,d.v_)("/live/promotions/page/top/",(0,o._)((0,i._)({},v),{room_id:l,author_id:t}),{},void 0,n)}async function k(e,l){let{roomId:t,authorId:r,productId:a}=e;return(0,n._)(e,["roomId","authorId","productId"]),await (0,d.U2)(l,(0,i._)((0,o._)((0,i._)({},v),{room_id:t,author_id:r,product_infos:JSON.stringify([{product_id:a}])}),e),{},void 0,null)}async function L(e){return(0,d.U2)("/aweme/v1/commerce/order/getUserAuth/",(0,o._)((0,i._)({},v),{user_id:e,app_id:a.APP_ID}))}async function S(e){return(0,d.U2)("/aweme/v1/commerce/order/saveUserAuth/",(0,o._)((0,i._)({},v),{user_id:e,app_id:a.APP_ID,auth_flag:1}))}async function x(e){let{roomId:l,authorId:t,liveSceneId:n=0,entranceInfo:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,d.U2)("/live/promotions/pop/v3/",(0,o._)((0,i._)({},v),{room_id:l,author_id:t,live_scene_id:n,entrance_info:r}),{},void 0,a)}async function E(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:t,originType:o,roomId:n,secAuthorId:r,itemId:a}=e||{};return await (0,d.v_)("/ecom/product/detail/saas/pc/",(0,i._)({is_h5:1,origin_type:o},v),{is_h5:1,use_new_price:1,bff_type:2,room_id:n,live_room_id:n,item_id:a,sec_author_id:r,origin_type:o,promotion_ids:String(t),ec_promotion_id:t},void 0,l)}async function P(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:t,originType:i}=e||{};return await (0,d.v_)("/aweme/v2/shop/promotion/pack/detail/",{is_h5:1,origin_type:i},{is_h5:1,bff_type:2,origin_type:i,promotion_id:t},void 0,l)}async function A(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:t,shopId:n,cursor:r,count:a,statId:u,tagId:s,sortType:m}=e||{};return await (0,d.U2)("/aweme/v1/web/ecom/product/comments/",(0,o._)((0,i._)({},v),{product_id:t,shop_id:n,cursor:r,count:a,stat_id:u,tag_id:s,sort_type:m}),{transformResponse:e=>c().parse(e)},void 0,l)}async function R(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:t,shopId:n,statId:r}=e||{};return await (0,d.U2)("/aweme/v1/web/ecom/product/comment/counter/",(0,o._)((0,i._)({},v),{product_id:t,shop_id:n,stat_id:r}),{},void 0,l)}async function M(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{commentId:t,action:i}=e;return await (0,d.v_)("/aweme/v1/web/ecom/comment/action/",v,{comment_id:t,action:i},void 0,l)}},244307:function(e,l,t){"use strict";t.d(l,{R:function(){return d},n:function(){return a}}),t(347885);var i=t(775583),o=t(245086),n=t(688918),r=t(721778);let a=e=>{var l,t,i,o,n,a,d;return(null==e?void 0:null===(l=e.anchorInfo)||void 0===l?void 0:l.type)===r.as.AnchorShop&&(null==e?void 0:null===(o=e.anchorInfo)||void 0===o?void 0:null===(i=o.extra)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.product_detail_schema)&&[1,4].includes(Number(null==e?void 0:null===(d=e.anchorInfo)||void 0===d?void 0:null===(a=d.extra)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.platform))},d=e=>{var l,t,r,a;let d=(null==e?void 0:null===(t=e.anchorInfo)||void 0===t?void 0:null===(l=t.extra)||void 0===l?void 0:l[0])||{},u=(0,i.Rx)(e)||{};return{source_page:(0,o.mo)(),enter_from:(0,o.mo)(),enter_from_merge:(0,o.yW)(),group_id:e.awemeId,content_id:e.awemeId,author_id:null===(r=e.authorInfo)||void 0===r?void 0:r.uid,follow_status:(0,n.F)(null===(a=e.authorInfo)||void 0===a?void 0:a.followStatus)?"1":"0",commodity_id:d.promotion_id||"",commodity_type:d.promotion_source||"",product_id:d.product_id||"",cid:u.creative_id}}},7341:function(e,l,t){"use strict";var i=t(590921),o=t(874155),n=t(259202),r=t(611542);let a=(0,r.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,o._)((0,i._)({width:6,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{opacity:".7",fillRule:"evenodd",clipRule:"evenodd",d:"M.69 8.124a.75.75 0 0 1 0-1.06l2.828-2.83L.689 1.407A.75.75 0 0 1 1.75.346L5.11 3.704a.75.75 0 0 1 0 1.061L1.75 8.124a.75.75 0 0 1-1.06 0z",fill:"#fff"})})));l.Z=a}}]);